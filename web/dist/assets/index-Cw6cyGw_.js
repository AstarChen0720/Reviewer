var xm=Object.defineProperty;var Sm=(e,t,n)=>t in e?xm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var mi=(e,t,n)=>Sm(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();var Bf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var xp={exports:{}},rs={},Sp={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sl=Symbol.for("react.element"),bm=Symbol.for("react.portal"),km=Symbol.for("react.fragment"),Cm=Symbol.for("react.strict_mode"),_m=Symbol.for("react.profiler"),Em=Symbol.for("react.provider"),jm=Symbol.for("react.context"),Dm=Symbol.for("react.forward_ref"),Im=Symbol.for("react.suspense"),Om=Symbol.for("react.memo"),Pm=Symbol.for("react.lazy"),Ff=Symbol.iterator;function Nm(e){return e===null||typeof e!="object"?null:(e=Ff&&e[Ff]||e["@@iterator"],typeof e=="function"?e:null)}var bp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kp=Object.assign,Cp={};function mo(e,t,n){this.props=e,this.context=t,this.refs=Cp,this.updater=n||bp}mo.prototype.isReactComponent={};mo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};mo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _p(){}_p.prototype=mo.prototype;function xc(e,t,n){this.props=e,this.context=t,this.refs=Cp,this.updater=n||bp}var Sc=xc.prototype=new _p;Sc.constructor=xc;kp(Sc,mo.prototype);Sc.isPureReactComponent=!0;var Kf=Array.isArray,Ep=Object.prototype.hasOwnProperty,bc={current:null},jp={key:!0,ref:!0,__self:!0,__source:!0};function Dp(e,t,n){var r,o={},a=null,u=null;if(t!=null)for(r in t.ref!==void 0&&(u=t.ref),t.key!==void 0&&(a=""+t.key),t)Ep.call(t,r)&&!jp.hasOwnProperty(r)&&(o[r]=t[r]);var f=arguments.length-2;if(f===1)o.children=n;else if(1<f){for(var p=Array(f),g=0;g<f;g++)p[g]=arguments[g+2];o.children=p}if(e&&e.defaultProps)for(r in f=e.defaultProps,f)o[r]===void 0&&(o[r]=f[r]);return{$$typeof:Sl,type:e,key:a,ref:u,props:o,_owner:bc.current}}function Tm(e,t){return{$$typeof:Sl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function kc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Sl}function Rm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var $f=/\/+/g;function Ws(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Rm(""+e.key):t.toString(36)}function ha(e,t,n,r,o){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var u=!1;if(e===null)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case Sl:case bm:u=!0}}if(u)return u=e,o=o(u),e=r===""?"."+Ws(u,0):r,Kf(o)?(n="",e!=null&&(n=e.replace($f,"$&/")+"/"),ha(o,t,n,"",function(g){return g})):o!=null&&(kc(o)&&(o=Tm(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace($f,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=r===""?".":r+":",Kf(e))for(var f=0;f<e.length;f++){a=e[f];var p=r+Ws(a,f);u+=ha(a,t,n,p,o)}else if(p=Nm(e),typeof p=="function")for(e=p.call(e),f=0;!(a=e.next()).done;)a=a.value,p=r+Ws(a,f++),u+=ha(a,t,n,p,o);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function Ql(e,t,n){if(e==null)return e;var r=[],o=0;return ha(e,r,"","",function(a){return t.call(n,a,o++)}),r}function Am(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var sn={current:null},ga={transition:null},Mm={ReactCurrentDispatcher:sn,ReactCurrentBatchConfig:ga,ReactCurrentOwner:bc};function Ip(){throw Error("act(...) is not supported in production builds of React.")}Me.Children={map:Ql,forEach:function(e,t,n){Ql(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ql(e,function(){t++}),t},toArray:function(e){return Ql(e,function(t){return t})||[]},only:function(e){if(!kc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Me.Component=mo;Me.Fragment=km;Me.Profiler=_m;Me.PureComponent=xc;Me.StrictMode=Cm;Me.Suspense=Im;Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mm;Me.act=Ip;Me.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=kp({},e.props),o=e.key,a=e.ref,u=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,u=bc.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var f=e.type.defaultProps;for(p in t)Ep.call(t,p)&&!jp.hasOwnProperty(p)&&(r[p]=t[p]===void 0&&f!==void 0?f[p]:t[p])}var p=arguments.length-2;if(p===1)r.children=n;else if(1<p){f=Array(p);for(var g=0;g<p;g++)f[g]=arguments[g+2];r.children=f}return{$$typeof:Sl,type:e.type,key:o,ref:a,props:r,_owner:u}};Me.createContext=function(e){return e={$$typeof:jm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Em,_context:e},e.Consumer=e};Me.createElement=Dp;Me.createFactory=function(e){var t=Dp.bind(null,e);return t.type=e,t};Me.createRef=function(){return{current:null}};Me.forwardRef=function(e){return{$$typeof:Dm,render:e}};Me.isValidElement=kc;Me.lazy=function(e){return{$$typeof:Pm,_payload:{_status:-1,_result:e},_init:Am}};Me.memo=function(e,t){return{$$typeof:Om,type:e,compare:t===void 0?null:t}};Me.startTransition=function(e){var t=ga.transition;ga.transition={};try{e()}finally{ga.transition=t}};Me.unstable_act=Ip;Me.useCallback=function(e,t){return sn.current.useCallback(e,t)};Me.useContext=function(e){return sn.current.useContext(e)};Me.useDebugValue=function(){};Me.useDeferredValue=function(e){return sn.current.useDeferredValue(e)};Me.useEffect=function(e,t){return sn.current.useEffect(e,t)};Me.useId=function(){return sn.current.useId()};Me.useImperativeHandle=function(e,t,n){return sn.current.useImperativeHandle(e,t,n)};Me.useInsertionEffect=function(e,t){return sn.current.useInsertionEffect(e,t)};Me.useLayoutEffect=function(e,t){return sn.current.useLayoutEffect(e,t)};Me.useMemo=function(e,t){return sn.current.useMemo(e,t)};Me.useReducer=function(e,t,n){return sn.current.useReducer(e,t,n)};Me.useRef=function(e){return sn.current.useRef(e)};Me.useState=function(e){return sn.current.useState(e)};Me.useSyncExternalStore=function(e,t,n){return sn.current.useSyncExternalStore(e,t,n)};Me.useTransition=function(){return sn.current.useTransition()};Me.version="18.3.1";Sp.exports=Me;var I=Sp.exports;const ln=wp(I);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lm=I,zm=Symbol.for("react.element"),Bm=Symbol.for("react.fragment"),Fm=Object.prototype.hasOwnProperty,Km=Lm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$m={key:!0,ref:!0,__self:!0,__source:!0};function Op(e,t,n){var r,o={},a=null,u=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(u=t.ref);for(r in t)Fm.call(t,r)&&!$m.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:zm,type:e,key:a,ref:u,props:o,_owner:Km.current}}rs.Fragment=Bm;rs.jsx=Op;rs.jsxs=Op;xp.exports=rs;var S=xp.exports,Su={},Pp={exports:{}},In={},Np={exports:{}},Tp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(X,ue){var fe=X.length;X.push(ue);e:for(;0<fe;){var _e=fe-1>>>1,Ee=X[_e];if(0<o(Ee,ue))X[_e]=ue,X[fe]=Ee,fe=_e;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var ue=X[0],fe=X.pop();if(fe!==ue){X[0]=fe;e:for(var _e=0,Ee=X.length,ke=Ee>>>1;_e<ke;){var Se=2*(_e+1)-1,ze=X[Se],Re=Se+1,St=X[Re];if(0>o(ze,fe))Re<Ee&&0>o(St,ze)?(X[_e]=St,X[Re]=fe,_e=Re):(X[_e]=ze,X[Se]=fe,_e=Se);else if(Re<Ee&&0>o(St,fe))X[_e]=St,X[Re]=fe,_e=Re;else break e}}return ue}function o(X,ue){var fe=X.sortIndex-ue.sortIndex;return fe!==0?fe:X.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var u=Date,f=u.now();e.unstable_now=function(){return u.now()-f}}var p=[],g=[],C=1,x=null,j=3,z=!1,F=!1,$=!1,Y=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(X){for(var ue=n(g);ue!==null;){if(ue.callback===null)r(g);else if(ue.startTime<=X)r(g),ue.sortIndex=ue.expirationTime,t(p,ue);else break;ue=n(g)}}function K(X){if($=!1,_(X),!F)if(n(p)!==null)F=!0,be(J);else{var ue=n(g);ue!==null&&Pe(K,ue.startTime-X)}}function J(X,ue){F=!1,$&&($=!1,k(ee),ee=-1),z=!0;var fe=j;try{for(_(ue),x=n(p);x!==null&&(!(x.expirationTime>ue)||X&&!H());){var _e=x.callback;if(typeof _e=="function"){x.callback=null,j=x.priorityLevel;var Ee=_e(x.expirationTime<=ue);ue=e.unstable_now(),typeof Ee=="function"?x.callback=Ee:x===n(p)&&r(p),_(ue)}else r(p);x=n(p)}if(x!==null)var ke=!0;else{var Se=n(g);Se!==null&&Pe(K,Se.startTime-ue),ke=!1}return ke}finally{x=null,j=fe,z=!1}}var G=!1,q=null,ee=-1,Ce=5,ve=-1;function H(){return!(e.unstable_now()-ve<Ce)}function pe(){if(q!==null){var X=e.unstable_now();ve=X;var ue=!0;try{ue=q(!0,X)}finally{ue?Z():(G=!1,q=null)}}else G=!1}var Z;if(typeof y=="function")Z=function(){y(pe)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,Ue=xe.port2;xe.port1.onmessage=pe,Z=function(){Ue.postMessage(null)}}else Z=function(){Y(pe,0)};function be(X){q=X,G||(G=!0,Z())}function Pe(X,ue){ee=Y(function(){X(e.unstable_now())},ue)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(X){X.callback=null},e.unstable_continueExecution=function(){F||z||(F=!0,be(J))},e.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ce=0<X?Math.floor(1e3/X):5},e.unstable_getCurrentPriorityLevel=function(){return j},e.unstable_getFirstCallbackNode=function(){return n(p)},e.unstable_next=function(X){switch(j){case 1:case 2:case 3:var ue=3;break;default:ue=j}var fe=j;j=ue;try{return X()}finally{j=fe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(X,ue){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var fe=j;j=X;try{return ue()}finally{j=fe}},e.unstable_scheduleCallback=function(X,ue,fe){var _e=e.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?_e+fe:_e):fe=_e,X){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=fe+Ee,X={id:C++,callback:ue,priorityLevel:X,startTime:fe,expirationTime:Ee,sortIndex:-1},fe>_e?(X.sortIndex=fe,t(g,X),n(p)===null&&X===n(g)&&($?(k(ee),ee=-1):$=!0,Pe(K,fe-_e))):(X.sortIndex=Ee,t(p,X),F||z||(F=!0,be(J))),X},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(X){var ue=j;return function(){var fe=j;j=ue;try{return X.apply(this,arguments)}finally{j=fe}}}})(Tp);Np.exports=Tp;var Um=Np.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wm=I,Dn=Um;function ne(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Rp=new Set,tl={};function Ii(e,t){so(e,t),so(e+"Capture",t)}function so(e,t){for(tl[e]=t,e=0;e<t.length;e++)Rp.add(t[e])}var _r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bu=Object.prototype.hasOwnProperty,Vm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Uf={},Wf={};function Hm(e){return bu.call(Wf,e)?!0:bu.call(Uf,e)?!1:Vm.test(e)?Wf[e]=!0:(Uf[e]=!0,!1)}function qm(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Qm(e,t,n,r){if(t===null||typeof t>"u"||qm(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function un(e,t,n,r,o,a,u){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=u}var Kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Kt[e]=new un(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Kt[t]=new un(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Kt[e]=new un(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Kt[e]=new un(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Kt[e]=new un(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Kt[e]=new un(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Kt[e]=new un(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Kt[e]=new un(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Kt[e]=new un(e,5,!1,e.toLowerCase(),null,!1,!1)});var Cc=/[\-:]([a-z])/g;function _c(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Cc,_c);Kt[t]=new un(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Cc,_c);Kt[t]=new un(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Cc,_c);Kt[t]=new un(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Kt[e]=new un(e,1,!1,e.toLowerCase(),null,!1,!1)});Kt.xlinkHref=new un("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Kt[e]=new un(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ec(e,t,n,r){var o=Kt.hasOwnProperty(t)?Kt[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Qm(t,n,o,r)&&(n=null),r||o===null?Hm(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ir=Wm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yl=Symbol.for("react.element"),$i=Symbol.for("react.portal"),Ui=Symbol.for("react.fragment"),jc=Symbol.for("react.strict_mode"),ku=Symbol.for("react.profiler"),Ap=Symbol.for("react.provider"),Mp=Symbol.for("react.context"),Dc=Symbol.for("react.forward_ref"),Cu=Symbol.for("react.suspense"),_u=Symbol.for("react.suspense_list"),Ic=Symbol.for("react.memo"),zr=Symbol.for("react.lazy"),Lp=Symbol.for("react.offscreen"),Vf=Symbol.iterator;function jo(e){return e===null||typeof e!="object"?null:(e=Vf&&e[Vf]||e["@@iterator"],typeof e=="function"?e:null)}var ft=Object.assign,Vs;function Ao(e){if(Vs===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Vs=t&&t[1]||""}return`
`+Vs+e}var Hs=!1;function qs(e,t){if(!e||Hs)return"";Hs=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(g){var r=g}Reflect.construct(e,[],t)}else{try{t.call()}catch(g){r=g}e.call(t.prototype)}else{try{throw Error()}catch(g){r=g}e()}}catch(g){if(g&&r&&typeof g.stack=="string"){for(var o=g.stack.split(`
`),a=r.stack.split(`
`),u=o.length-1,f=a.length-1;1<=u&&0<=f&&o[u]!==a[f];)f--;for(;1<=u&&0<=f;u--,f--)if(o[u]!==a[f]){if(u!==1||f!==1)do if(u--,f--,0>f||o[u]!==a[f]){var p=`
`+o[u].replace(" at new "," at ");return e.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",e.displayName)),p}while(1<=u&&0<=f);break}}}finally{Hs=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ao(e):""}function Ym(e){switch(e.tag){case 5:return Ao(e.type);case 16:return Ao("Lazy");case 13:return Ao("Suspense");case 19:return Ao("SuspenseList");case 0:case 2:case 15:return e=qs(e.type,!1),e;case 11:return e=qs(e.type.render,!1),e;case 1:return e=qs(e.type,!0),e;default:return""}}function Eu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ui:return"Fragment";case $i:return"Portal";case ku:return"Profiler";case jc:return"StrictMode";case Cu:return"Suspense";case _u:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Mp:return(e.displayName||"Context")+".Consumer";case Ap:return(e._context.displayName||"Context")+".Provider";case Dc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ic:return t=e.displayName||null,t!==null?t:Eu(e.type)||"Memo";case zr:t=e._payload,e=e._init;try{return Eu(e(t))}catch{}}return null}function Xm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Eu(t);case 8:return t===jc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ei(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Gm(e){var t=zp(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(u){r=""+u,a.call(this,u)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(u){r=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Xl(e){e._valueTracker||(e._valueTracker=Gm(e))}function Bp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=zp(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Da(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ju(e,t){var n=t.checked;return ft({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Hf(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ei(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Fp(e,t){t=t.checked,t!=null&&Ec(e,"checked",t,!1)}function Du(e,t){Fp(e,t);var n=ei(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Iu(e,t.type,n):t.hasOwnProperty("defaultValue")&&Iu(e,t.type,ei(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function qf(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Iu(e,t,n){(t!=="number"||Da(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Mo=Array.isArray;function to(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ei(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Ou(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ne(91));return ft({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Qf(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ne(92));if(Mo(n)){if(1<n.length)throw Error(ne(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ei(n)}}function Kp(e,t){var n=ei(t.value),r=ei(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Yf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function $p(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?$p(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Gl,Up=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Gl=Gl||document.createElement("div"),Gl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Gl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function nl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Uo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Jm=["Webkit","ms","Moz","O"];Object.keys(Uo).forEach(function(e){Jm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Uo[t]=Uo[e]})});function Wp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Uo.hasOwnProperty(e)&&Uo[e]?(""+t).trim():t+"px"}function Vp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Wp(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var Zm=ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nu(e,t){if(t){if(Zm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ne(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ne(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ne(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ne(62))}}function Tu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ru=null;function Oc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Au=null,no=null,ro=null;function Xf(e){if(e=Cl(e)){if(typeof Au!="function")throw Error(ne(280));var t=e.stateNode;t&&(t=ss(t),Au(e.stateNode,e.type,t))}}function Hp(e){no?ro?ro.push(e):ro=[e]:no=e}function qp(){if(no){var e=no,t=ro;if(ro=no=null,Xf(e),t)for(e=0;e<t.length;e++)Xf(t[e])}}function Qp(e,t){return e(t)}function Yp(){}var Qs=!1;function Xp(e,t,n){if(Qs)return e(t,n);Qs=!0;try{return Qp(e,t,n)}finally{Qs=!1,(no!==null||ro!==null)&&(Yp(),qp())}}function rl(e,t){var n=e.stateNode;if(n===null)return null;var r=ss(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ne(231,t,typeof n));return n}var Mu=!1;if(_r)try{var Do={};Object.defineProperty(Do,"passive",{get:function(){Mu=!0}}),window.addEventListener("test",Do,Do),window.removeEventListener("test",Do,Do)}catch{Mu=!1}function ev(e,t,n,r,o,a,u,f,p){var g=Array.prototype.slice.call(arguments,3);try{t.apply(n,g)}catch(C){this.onError(C)}}var Wo=!1,Ia=null,Oa=!1,Lu=null,tv={onError:function(e){Wo=!0,Ia=e}};function nv(e,t,n,r,o,a,u,f,p){Wo=!1,Ia=null,ev.apply(tv,arguments)}function rv(e,t,n,r,o,a,u,f,p){if(nv.apply(this,arguments),Wo){if(Wo){var g=Ia;Wo=!1,Ia=null}else throw Error(ne(198));Oa||(Oa=!0,Lu=g)}}function Oi(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Gp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Gf(e){if(Oi(e)!==e)throw Error(ne(188))}function iv(e){var t=e.alternate;if(!t){if(t=Oi(e),t===null)throw Error(ne(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var a=o.alternate;if(a===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return Gf(o),e;if(a===r)return Gf(o),t;a=a.sibling}throw Error(ne(188))}if(n.return!==r.return)n=o,r=a;else{for(var u=!1,f=o.child;f;){if(f===n){u=!0,n=o,r=a;break}if(f===r){u=!0,r=o,n=a;break}f=f.sibling}if(!u){for(f=a.child;f;){if(f===n){u=!0,n=a,r=o;break}if(f===r){u=!0,r=a,n=o;break}f=f.sibling}if(!u)throw Error(ne(189))}}if(n.alternate!==r)throw Error(ne(190))}if(n.tag!==3)throw Error(ne(188));return n.stateNode.current===n?e:t}function Jp(e){return e=iv(e),e!==null?Zp(e):null}function Zp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Zp(e);if(t!==null)return t;e=e.sibling}return null}var eh=Dn.unstable_scheduleCallback,Jf=Dn.unstable_cancelCallback,ov=Dn.unstable_shouldYield,lv=Dn.unstable_requestPaint,vt=Dn.unstable_now,av=Dn.unstable_getCurrentPriorityLevel,Pc=Dn.unstable_ImmediatePriority,th=Dn.unstable_UserBlockingPriority,Pa=Dn.unstable_NormalPriority,sv=Dn.unstable_LowPriority,nh=Dn.unstable_IdlePriority,is=null,dr=null;function uv(e){if(dr&&typeof dr.onCommitFiberRoot=="function")try{dr.onCommitFiberRoot(is,e,void 0,(e.current.flags&128)===128)}catch{}}var Xn=Math.clz32?Math.clz32:dv,cv=Math.log,fv=Math.LN2;function dv(e){return e>>>=0,e===0?32:31-(cv(e)/fv|0)|0}var Jl=64,Zl=4194304;function Lo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Na(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,a=e.pingedLanes,u=n&268435455;if(u!==0){var f=u&~o;f!==0?r=Lo(f):(a&=u,a!==0&&(r=Lo(a)))}else u=n&~o,u!==0?r=Lo(u):a!==0&&(r=Lo(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,a=t&-t,o>=a||o===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Xn(t),o=1<<n,r|=e[n],t&=~o;return r}function pv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hv(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var u=31-Xn(a),f=1<<u,p=o[u];p===-1?(!(f&n)||f&r)&&(o[u]=pv(f,t)):p<=t&&(e.expiredLanes|=f),a&=~f}}function zu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function rh(){var e=Jl;return Jl<<=1,!(Jl&4194240)&&(Jl=64),e}function Ys(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function bl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Xn(t),e[t]=n}function gv(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Xn(n),a=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~a}}function Nc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Xn(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var Ye=0;function ih(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var oh,Tc,lh,ah,sh,Bu=!1,ea=[],Hr=null,qr=null,Qr=null,il=new Map,ol=new Map,Kr=[],mv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zf(e,t){switch(e){case"focusin":case"focusout":Hr=null;break;case"dragenter":case"dragleave":qr=null;break;case"mouseover":case"mouseout":Qr=null;break;case"pointerover":case"pointerout":il.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ol.delete(t.pointerId)}}function Io(e,t,n,r,o,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[o]},t!==null&&(t=Cl(t),t!==null&&Tc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function vv(e,t,n,r,o){switch(t){case"focusin":return Hr=Io(Hr,e,t,n,r,o),!0;case"dragenter":return qr=Io(qr,e,t,n,r,o),!0;case"mouseover":return Qr=Io(Qr,e,t,n,r,o),!0;case"pointerover":var a=o.pointerId;return il.set(a,Io(il.get(a)||null,e,t,n,r,o)),!0;case"gotpointercapture":return a=o.pointerId,ol.set(a,Io(ol.get(a)||null,e,t,n,r,o)),!0}return!1}function uh(e){var t=wi(e.target);if(t!==null){var n=Oi(t);if(n!==null){if(t=n.tag,t===13){if(t=Gp(n),t!==null){e.blockedOn=t,sh(e.priority,function(){lh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ma(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Fu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ru=r,n.target.dispatchEvent(r),Ru=null}else return t=Cl(n),t!==null&&Tc(t),e.blockedOn=n,!1;t.shift()}return!0}function ed(e,t,n){ma(e)&&n.delete(t)}function yv(){Bu=!1,Hr!==null&&ma(Hr)&&(Hr=null),qr!==null&&ma(qr)&&(qr=null),Qr!==null&&ma(Qr)&&(Qr=null),il.forEach(ed),ol.forEach(ed)}function Oo(e,t){e.blockedOn===t&&(e.blockedOn=null,Bu||(Bu=!0,Dn.unstable_scheduleCallback(Dn.unstable_NormalPriority,yv)))}function ll(e){function t(o){return Oo(o,e)}if(0<ea.length){Oo(ea[0],e);for(var n=1;n<ea.length;n++){var r=ea[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Hr!==null&&Oo(Hr,e),qr!==null&&Oo(qr,e),Qr!==null&&Oo(Qr,e),il.forEach(t),ol.forEach(t),n=0;n<Kr.length;n++)r=Kr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Kr.length&&(n=Kr[0],n.blockedOn===null);)uh(n),n.blockedOn===null&&Kr.shift()}var io=Ir.ReactCurrentBatchConfig,Ta=!0;function wv(e,t,n,r){var o=Ye,a=io.transition;io.transition=null;try{Ye=1,Rc(e,t,n,r)}finally{Ye=o,io.transition=a}}function xv(e,t,n,r){var o=Ye,a=io.transition;io.transition=null;try{Ye=4,Rc(e,t,n,r)}finally{Ye=o,io.transition=a}}function Rc(e,t,n,r){if(Ta){var o=Fu(e,t,n,r);if(o===null)ou(e,t,r,Ra,n),Zf(e,r);else if(vv(o,e,t,n,r))r.stopPropagation();else if(Zf(e,r),t&4&&-1<mv.indexOf(e)){for(;o!==null;){var a=Cl(o);if(a!==null&&oh(a),a=Fu(e,t,n,r),a===null&&ou(e,t,r,Ra,n),a===o)break;o=a}o!==null&&r.stopPropagation()}else ou(e,t,r,null,n)}}var Ra=null;function Fu(e,t,n,r){if(Ra=null,e=Oc(r),e=wi(e),e!==null)if(t=Oi(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Gp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ra=e,null}function ch(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(av()){case Pc:return 1;case th:return 4;case Pa:case sv:return 16;case nh:return 536870912;default:return 16}default:return 16}}var Ur=null,Ac=null,va=null;function fh(){if(va)return va;var e,t=Ac,n=t.length,r,o="value"in Ur?Ur.value:Ur.textContent,a=o.length;for(e=0;e<n&&t[e]===o[e];e++);var u=n-e;for(r=1;r<=u&&t[n-r]===o[a-r];r++);return va=o.slice(e,1<r?1-r:void 0)}function ya(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ta(){return!0}function td(){return!1}function On(e){function t(n,r,o,a,u){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=a,this.target=u,this.currentTarget=null;for(var f in e)e.hasOwnProperty(f)&&(n=e[f],this[f]=n?n(a):a[f]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ta:td,this.isPropagationStopped=td,this}return ft(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ta)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ta)},persist:function(){},isPersistent:ta}),t}var vo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mc=On(vo),kl=ft({},vo,{view:0,detail:0}),Sv=On(kl),Xs,Gs,Po,os=ft({},kl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Po&&(Po&&e.type==="mousemove"?(Xs=e.screenX-Po.screenX,Gs=e.screenY-Po.screenY):Gs=Xs=0,Po=e),Xs)},movementY:function(e){return"movementY"in e?e.movementY:Gs}}),nd=On(os),bv=ft({},os,{dataTransfer:0}),kv=On(bv),Cv=ft({},kl,{relatedTarget:0}),Js=On(Cv),_v=ft({},vo,{animationName:0,elapsedTime:0,pseudoElement:0}),Ev=On(_v),jv=ft({},vo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Dv=On(jv),Iv=ft({},vo,{data:0}),rd=On(Iv),Ov={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Nv[e])?!!t[e]:!1}function Lc(){return Tv}var Rv=ft({},kl,{key:function(e){if(e.key){var t=Ov[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ya(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Pv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lc,charCode:function(e){return e.type==="keypress"?ya(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ya(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Av=On(Rv),Mv=ft({},os,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),id=On(Mv),Lv=ft({},kl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lc}),zv=On(Lv),Bv=ft({},vo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fv=On(Bv),Kv=ft({},os,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$v=On(Kv),Uv=[9,13,27,32],zc=_r&&"CompositionEvent"in window,Vo=null;_r&&"documentMode"in document&&(Vo=document.documentMode);var Wv=_r&&"TextEvent"in window&&!Vo,dh=_r&&(!zc||Vo&&8<Vo&&11>=Vo),od=" ",ld=!1;function ph(e,t){switch(e){case"keyup":return Uv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wi=!1;function Vv(e,t){switch(e){case"compositionend":return hh(t);case"keypress":return t.which!==32?null:(ld=!0,od);case"textInput":return e=t.data,e===od&&ld?null:e;default:return null}}function Hv(e,t){if(Wi)return e==="compositionend"||!zc&&ph(e,t)?(e=fh(),va=Ac=Ur=null,Wi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return dh&&t.locale!=="ko"?null:t.data;default:return null}}var qv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ad(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!qv[e.type]:t==="textarea"}function gh(e,t,n,r){Hp(r),t=Aa(t,"onChange"),0<t.length&&(n=new Mc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ho=null,al=null;function Qv(e){Eh(e,0)}function ls(e){var t=qi(e);if(Bp(t))return e}function Yv(e,t){if(e==="change")return t}var mh=!1;if(_r){var Zs;if(_r){var eu="oninput"in document;if(!eu){var sd=document.createElement("div");sd.setAttribute("oninput","return;"),eu=typeof sd.oninput=="function"}Zs=eu}else Zs=!1;mh=Zs&&(!document.documentMode||9<document.documentMode)}function ud(){Ho&&(Ho.detachEvent("onpropertychange",vh),al=Ho=null)}function vh(e){if(e.propertyName==="value"&&ls(al)){var t=[];gh(t,al,e,Oc(e)),Xp(Qv,t)}}function Xv(e,t,n){e==="focusin"?(ud(),Ho=t,al=n,Ho.attachEvent("onpropertychange",vh)):e==="focusout"&&ud()}function Gv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ls(al)}function Jv(e,t){if(e==="click")return ls(t)}function Zv(e,t){if(e==="input"||e==="change")return ls(t)}function ey(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Jn=typeof Object.is=="function"?Object.is:ey;function sl(e,t){if(Jn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!bu.call(t,o)||!Jn(e[o],t[o]))return!1}return!0}function cd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fd(e,t){var n=cd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cd(n)}}function yh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?yh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function wh(){for(var e=window,t=Da();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Da(e.document)}return t}function Bc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ty(e){var t=wh(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&yh(n.ownerDocument.documentElement,n)){if(r!==null&&Bc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,a=Math.min(r.start,o);r=r.end===void 0?a:Math.min(r.end,o),!e.extend&&a>r&&(o=r,r=a,a=o),o=fd(n,a);var u=fd(n,r);o&&u&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==u.node||e.focusOffset!==u.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(u.node,u.offset)):(t.setEnd(u.node,u.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ny=_r&&"documentMode"in document&&11>=document.documentMode,Vi=null,Ku=null,qo=null,$u=!1;function dd(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$u||Vi==null||Vi!==Da(r)||(r=Vi,"selectionStart"in r&&Bc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),qo&&sl(qo,r)||(qo=r,r=Aa(Ku,"onSelect"),0<r.length&&(t=new Mc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Vi)))}function na(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Hi={animationend:na("Animation","AnimationEnd"),animationiteration:na("Animation","AnimationIteration"),animationstart:na("Animation","AnimationStart"),transitionend:na("Transition","TransitionEnd")},tu={},xh={};_r&&(xh=document.createElement("div").style,"AnimationEvent"in window||(delete Hi.animationend.animation,delete Hi.animationiteration.animation,delete Hi.animationstart.animation),"TransitionEvent"in window||delete Hi.transitionend.transition);function as(e){if(tu[e])return tu[e];if(!Hi[e])return e;var t=Hi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in xh)return tu[e]=t[n];return e}var Sh=as("animationend"),bh=as("animationiteration"),kh=as("animationstart"),Ch=as("transitionend"),_h=new Map,pd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ni(e,t){_h.set(e,t),Ii(t,[e])}for(var nu=0;nu<pd.length;nu++){var ru=pd[nu],ry=ru.toLowerCase(),iy=ru[0].toUpperCase()+ru.slice(1);ni(ry,"on"+iy)}ni(Sh,"onAnimationEnd");ni(bh,"onAnimationIteration");ni(kh,"onAnimationStart");ni("dblclick","onDoubleClick");ni("focusin","onFocus");ni("focusout","onBlur");ni(Ch,"onTransitionEnd");so("onMouseEnter",["mouseout","mouseover"]);so("onMouseLeave",["mouseout","mouseover"]);so("onPointerEnter",["pointerout","pointerover"]);so("onPointerLeave",["pointerout","pointerover"]);Ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ii("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oy=new Set("cancel close invalid load scroll toggle".split(" ").concat(zo));function hd(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,rv(r,t,void 0,e),e.currentTarget=null}function Eh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var u=r.length-1;0<=u;u--){var f=r[u],p=f.instance,g=f.currentTarget;if(f=f.listener,p!==a&&o.isPropagationStopped())break e;hd(o,f,g),a=p}else for(u=0;u<r.length;u++){if(f=r[u],p=f.instance,g=f.currentTarget,f=f.listener,p!==a&&o.isPropagationStopped())break e;hd(o,f,g),a=p}}}if(Oa)throw e=Lu,Oa=!1,Lu=null,e}function rt(e,t){var n=t[qu];n===void 0&&(n=t[qu]=new Set);var r=e+"__bubble";n.has(r)||(jh(t,e,2,!1),n.add(r))}function iu(e,t,n){var r=0;t&&(r|=4),jh(n,e,r,t)}var ra="_reactListening"+Math.random().toString(36).slice(2);function ul(e){if(!e[ra]){e[ra]=!0,Rp.forEach(function(n){n!=="selectionchange"&&(oy.has(n)||iu(n,!1,e),iu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ra]||(t[ra]=!0,iu("selectionchange",!1,t))}}function jh(e,t,n,r){switch(ch(t)){case 1:var o=wv;break;case 4:o=xv;break;default:o=Rc}n=o.bind(null,t,n,e),o=void 0,!Mu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function ou(e,t,n,r,o){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var u=r.tag;if(u===3||u===4){var f=r.stateNode.containerInfo;if(f===o||f.nodeType===8&&f.parentNode===o)break;if(u===4)for(u=r.return;u!==null;){var p=u.tag;if((p===3||p===4)&&(p=u.stateNode.containerInfo,p===o||p.nodeType===8&&p.parentNode===o))return;u=u.return}for(;f!==null;){if(u=wi(f),u===null)return;if(p=u.tag,p===5||p===6){r=a=u;continue e}f=f.parentNode}}r=r.return}Xp(function(){var g=a,C=Oc(n),x=[];e:{var j=_h.get(e);if(j!==void 0){var z=Mc,F=e;switch(e){case"keypress":if(ya(n)===0)break e;case"keydown":case"keyup":z=Av;break;case"focusin":F="focus",z=Js;break;case"focusout":F="blur",z=Js;break;case"beforeblur":case"afterblur":z=Js;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=nd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=kv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=zv;break;case Sh:case bh:case kh:z=Ev;break;case Ch:z=Fv;break;case"scroll":z=Sv;break;case"wheel":z=$v;break;case"copy":case"cut":case"paste":z=Dv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=id}var $=(t&4)!==0,Y=!$&&e==="scroll",k=$?j!==null?j+"Capture":null:j;$=[];for(var y=g,_;y!==null;){_=y;var K=_.stateNode;if(_.tag===5&&K!==null&&(_=K,k!==null&&(K=rl(y,k),K!=null&&$.push(cl(y,K,_)))),Y)break;y=y.return}0<$.length&&(j=new z(j,F,null,n,C),x.push({event:j,listeners:$}))}}if(!(t&7)){e:{if(j=e==="mouseover"||e==="pointerover",z=e==="mouseout"||e==="pointerout",j&&n!==Ru&&(F=n.relatedTarget||n.fromElement)&&(wi(F)||F[Er]))break e;if((z||j)&&(j=C.window===C?C:(j=C.ownerDocument)?j.defaultView||j.parentWindow:window,z?(F=n.relatedTarget||n.toElement,z=g,F=F?wi(F):null,F!==null&&(Y=Oi(F),F!==Y||F.tag!==5&&F.tag!==6)&&(F=null)):(z=null,F=g),z!==F)){if($=nd,K="onMouseLeave",k="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&($=id,K="onPointerLeave",k="onPointerEnter",y="pointer"),Y=z==null?j:qi(z),_=F==null?j:qi(F),j=new $(K,y+"leave",z,n,C),j.target=Y,j.relatedTarget=_,K=null,wi(C)===g&&($=new $(k,y+"enter",F,n,C),$.target=_,$.relatedTarget=Y,K=$),Y=K,z&&F)t:{for($=z,k=F,y=0,_=$;_;_=Ki(_))y++;for(_=0,K=k;K;K=Ki(K))_++;for(;0<y-_;)$=Ki($),y--;for(;0<_-y;)k=Ki(k),_--;for(;y--;){if($===k||k!==null&&$===k.alternate)break t;$=Ki($),k=Ki(k)}$=null}else $=null;z!==null&&gd(x,j,z,$,!1),F!==null&&Y!==null&&gd(x,Y,F,$,!0)}}e:{if(j=g?qi(g):window,z=j.nodeName&&j.nodeName.toLowerCase(),z==="select"||z==="input"&&j.type==="file")var J=Yv;else if(ad(j))if(mh)J=Zv;else{J=Gv;var G=Xv}else(z=j.nodeName)&&z.toLowerCase()==="input"&&(j.type==="checkbox"||j.type==="radio")&&(J=Jv);if(J&&(J=J(e,g))){gh(x,J,n,C);break e}G&&G(e,j,g),e==="focusout"&&(G=j._wrapperState)&&G.controlled&&j.type==="number"&&Iu(j,"number",j.value)}switch(G=g?qi(g):window,e){case"focusin":(ad(G)||G.contentEditable==="true")&&(Vi=G,Ku=g,qo=null);break;case"focusout":qo=Ku=Vi=null;break;case"mousedown":$u=!0;break;case"contextmenu":case"mouseup":case"dragend":$u=!1,dd(x,n,C);break;case"selectionchange":if(ny)break;case"keydown":case"keyup":dd(x,n,C)}var q;if(zc)e:{switch(e){case"compositionstart":var ee="onCompositionStart";break e;case"compositionend":ee="onCompositionEnd";break e;case"compositionupdate":ee="onCompositionUpdate";break e}ee=void 0}else Wi?ph(e,n)&&(ee="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ee="onCompositionStart");ee&&(dh&&n.locale!=="ko"&&(Wi||ee!=="onCompositionStart"?ee==="onCompositionEnd"&&Wi&&(q=fh()):(Ur=C,Ac="value"in Ur?Ur.value:Ur.textContent,Wi=!0)),G=Aa(g,ee),0<G.length&&(ee=new rd(ee,e,null,n,C),x.push({event:ee,listeners:G}),q?ee.data=q:(q=hh(n),q!==null&&(ee.data=q)))),(q=Wv?Vv(e,n):Hv(e,n))&&(g=Aa(g,"onBeforeInput"),0<g.length&&(C=new rd("onBeforeInput","beforeinput",null,n,C),x.push({event:C,listeners:g}),C.data=q))}Eh(x,t)})}function cl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Aa(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,a=o.stateNode;o.tag===5&&a!==null&&(o=a,a=rl(e,n),a!=null&&r.unshift(cl(e,a,o)),a=rl(e,t),a!=null&&r.push(cl(e,a,o))),e=e.return}return r}function Ki(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function gd(e,t,n,r,o){for(var a=t._reactName,u=[];n!==null&&n!==r;){var f=n,p=f.alternate,g=f.stateNode;if(p!==null&&p===r)break;f.tag===5&&g!==null&&(f=g,o?(p=rl(n,a),p!=null&&u.unshift(cl(n,p,f))):o||(p=rl(n,a),p!=null&&u.push(cl(n,p,f)))),n=n.return}u.length!==0&&e.push({event:t,listeners:u})}var ly=/\r\n?/g,ay=/\u0000|\uFFFD/g;function md(e){return(typeof e=="string"?e:""+e).replace(ly,`
`).replace(ay,"")}function ia(e,t,n){if(t=md(t),md(e)!==t&&n)throw Error(ne(425))}function Ma(){}var Uu=null,Wu=null;function Vu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Hu=typeof setTimeout=="function"?setTimeout:void 0,sy=typeof clearTimeout=="function"?clearTimeout:void 0,vd=typeof Promise=="function"?Promise:void 0,uy=typeof queueMicrotask=="function"?queueMicrotask:typeof vd<"u"?function(e){return vd.resolve(null).then(e).catch(cy)}:Hu;function cy(e){setTimeout(function(){throw e})}function lu(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),ll(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);ll(t)}function Yr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function yd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var yo=Math.random().toString(36).slice(2),fr="__reactFiber$"+yo,fl="__reactProps$"+yo,Er="__reactContainer$"+yo,qu="__reactEvents$"+yo,fy="__reactListeners$"+yo,dy="__reactHandles$"+yo;function wi(e){var t=e[fr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Er]||n[fr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=yd(e);e!==null;){if(n=e[fr])return n;e=yd(e)}return t}e=n,n=e.parentNode}return null}function Cl(e){return e=e[fr]||e[Er],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ne(33))}function ss(e){return e[fl]||null}var Qu=[],Qi=-1;function ri(e){return{current:e}}function it(e){0>Qi||(e.current=Qu[Qi],Qu[Qi]=null,Qi--)}function et(e,t){Qi++,Qu[Qi]=e.current,e.current=t}var ti={},Xt=ri(ti),gn=ri(!1),Ci=ti;function uo(e,t){var n=e.type.contextTypes;if(!n)return ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},a;for(a in n)o[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function mn(e){return e=e.childContextTypes,e!=null}function La(){it(gn),it(Xt)}function wd(e,t,n){if(Xt.current!==ti)throw Error(ne(168));et(Xt,t),et(gn,n)}function Dh(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(ne(108,Xm(e)||"Unknown",o));return ft({},n,r)}function za(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ti,Ci=Xt.current,et(Xt,e),et(gn,gn.current),!0}function xd(e,t,n){var r=e.stateNode;if(!r)throw Error(ne(169));n?(e=Dh(e,t,Ci),r.__reactInternalMemoizedMergedChildContext=e,it(gn),it(Xt),et(Xt,e)):it(gn),et(gn,n)}var Sr=null,us=!1,au=!1;function Ih(e){Sr===null?Sr=[e]:Sr.push(e)}function py(e){us=!0,Ih(e)}function ii(){if(!au&&Sr!==null){au=!0;var e=0,t=Ye;try{var n=Sr;for(Ye=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Sr=null,us=!1}catch(o){throw Sr!==null&&(Sr=Sr.slice(e+1)),eh(Pc,ii),o}finally{Ye=t,au=!1}}return null}var Yi=[],Xi=0,Ba=null,Fa=0,Rn=[],An=0,_i=null,br=1,kr="";function vi(e,t){Yi[Xi++]=Fa,Yi[Xi++]=Ba,Ba=e,Fa=t}function Oh(e,t,n){Rn[An++]=br,Rn[An++]=kr,Rn[An++]=_i,_i=e;var r=br;e=kr;var o=32-Xn(r)-1;r&=~(1<<o),n+=1;var a=32-Xn(t)+o;if(30<a){var u=o-o%5;a=(r&(1<<u)-1).toString(32),r>>=u,o-=u,br=1<<32-Xn(t)+o|n<<o|r,kr=a+e}else br=1<<a|n<<o|r,kr=e}function Fc(e){e.return!==null&&(vi(e,1),Oh(e,1,0))}function Kc(e){for(;e===Ba;)Ba=Yi[--Xi],Yi[Xi]=null,Fa=Yi[--Xi],Yi[Xi]=null;for(;e===_i;)_i=Rn[--An],Rn[An]=null,kr=Rn[--An],Rn[An]=null,br=Rn[--An],Rn[An]=null}var jn=null,En=null,at=!1,Yn=null;function Ph(e,t){var n=Mn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Sd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,jn=e,En=Yr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,jn=e,En=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=_i!==null?{id:br,overflow:kr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Mn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,jn=e,En=null,!0):!1;default:return!1}}function Yu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Xu(e){if(at){var t=En;if(t){var n=t;if(!Sd(e,t)){if(Yu(e))throw Error(ne(418));t=Yr(n.nextSibling);var r=jn;t&&Sd(e,t)?Ph(r,n):(e.flags=e.flags&-4097|2,at=!1,jn=e)}}else{if(Yu(e))throw Error(ne(418));e.flags=e.flags&-4097|2,at=!1,jn=e}}}function bd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;jn=e}function oa(e){if(e!==jn)return!1;if(!at)return bd(e),at=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Vu(e.type,e.memoizedProps)),t&&(t=En)){if(Yu(e))throw Nh(),Error(ne(418));for(;t;)Ph(e,t),t=Yr(t.nextSibling)}if(bd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ne(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){En=Yr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}En=null}}else En=jn?Yr(e.stateNode.nextSibling):null;return!0}function Nh(){for(var e=En;e;)e=Yr(e.nextSibling)}function co(){En=jn=null,at=!1}function $c(e){Yn===null?Yn=[e]:Yn.push(e)}var hy=Ir.ReactCurrentBatchConfig;function No(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ne(309));var r=n.stateNode}if(!r)throw Error(ne(147,e));var o=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(u){var f=o.refs;u===null?delete f[a]:f[a]=u},t._stringRef=a,t)}if(typeof e!="string")throw Error(ne(284));if(!n._owner)throw Error(ne(290,e))}return e}function la(e,t){throw e=Object.prototype.toString.call(t),Error(ne(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function kd(e){var t=e._init;return t(e._payload)}function Th(e){function t(k,y){if(e){var _=k.deletions;_===null?(k.deletions=[y],k.flags|=16):_.push(y)}}function n(k,y){if(!e)return null;for(;y!==null;)t(k,y),y=y.sibling;return null}function r(k,y){for(k=new Map;y!==null;)y.key!==null?k.set(y.key,y):k.set(y.index,y),y=y.sibling;return k}function o(k,y){return k=Zr(k,y),k.index=0,k.sibling=null,k}function a(k,y,_){return k.index=_,e?(_=k.alternate,_!==null?(_=_.index,_<y?(k.flags|=2,y):_):(k.flags|=2,y)):(k.flags|=1048576,y)}function u(k){return e&&k.alternate===null&&(k.flags|=2),k}function f(k,y,_,K){return y===null||y.tag!==6?(y=hu(_,k.mode,K),y.return=k,y):(y=o(y,_),y.return=k,y)}function p(k,y,_,K){var J=_.type;return J===Ui?C(k,y,_.props.children,K,_.key):y!==null&&(y.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===zr&&kd(J)===y.type)?(K=o(y,_.props),K.ref=No(k,y,_),K.return=k,K):(K=_a(_.type,_.key,_.props,null,k.mode,K),K.ref=No(k,y,_),K.return=k,K)}function g(k,y,_,K){return y===null||y.tag!==4||y.stateNode.containerInfo!==_.containerInfo||y.stateNode.implementation!==_.implementation?(y=gu(_,k.mode,K),y.return=k,y):(y=o(y,_.children||[]),y.return=k,y)}function C(k,y,_,K,J){return y===null||y.tag!==7?(y=ki(_,k.mode,K,J),y.return=k,y):(y=o(y,_),y.return=k,y)}function x(k,y,_){if(typeof y=="string"&&y!==""||typeof y=="number")return y=hu(""+y,k.mode,_),y.return=k,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Yl:return _=_a(y.type,y.key,y.props,null,k.mode,_),_.ref=No(k,null,y),_.return=k,_;case $i:return y=gu(y,k.mode,_),y.return=k,y;case zr:var K=y._init;return x(k,K(y._payload),_)}if(Mo(y)||jo(y))return y=ki(y,k.mode,_,null),y.return=k,y;la(k,y)}return null}function j(k,y,_,K){var J=y!==null?y.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return J!==null?null:f(k,y,""+_,K);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Yl:return _.key===J?p(k,y,_,K):null;case $i:return _.key===J?g(k,y,_,K):null;case zr:return J=_._init,j(k,y,J(_._payload),K)}if(Mo(_)||jo(_))return J!==null?null:C(k,y,_,K,null);la(k,_)}return null}function z(k,y,_,K,J){if(typeof K=="string"&&K!==""||typeof K=="number")return k=k.get(_)||null,f(y,k,""+K,J);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Yl:return k=k.get(K.key===null?_:K.key)||null,p(y,k,K,J);case $i:return k=k.get(K.key===null?_:K.key)||null,g(y,k,K,J);case zr:var G=K._init;return z(k,y,_,G(K._payload),J)}if(Mo(K)||jo(K))return k=k.get(_)||null,C(y,k,K,J,null);la(y,K)}return null}function F(k,y,_,K){for(var J=null,G=null,q=y,ee=y=0,Ce=null;q!==null&&ee<_.length;ee++){q.index>ee?(Ce=q,q=null):Ce=q.sibling;var ve=j(k,q,_[ee],K);if(ve===null){q===null&&(q=Ce);break}e&&q&&ve.alternate===null&&t(k,q),y=a(ve,y,ee),G===null?J=ve:G.sibling=ve,G=ve,q=Ce}if(ee===_.length)return n(k,q),at&&vi(k,ee),J;if(q===null){for(;ee<_.length;ee++)q=x(k,_[ee],K),q!==null&&(y=a(q,y,ee),G===null?J=q:G.sibling=q,G=q);return at&&vi(k,ee),J}for(q=r(k,q);ee<_.length;ee++)Ce=z(q,k,ee,_[ee],K),Ce!==null&&(e&&Ce.alternate!==null&&q.delete(Ce.key===null?ee:Ce.key),y=a(Ce,y,ee),G===null?J=Ce:G.sibling=Ce,G=Ce);return e&&q.forEach(function(H){return t(k,H)}),at&&vi(k,ee),J}function $(k,y,_,K){var J=jo(_);if(typeof J!="function")throw Error(ne(150));if(_=J.call(_),_==null)throw Error(ne(151));for(var G=J=null,q=y,ee=y=0,Ce=null,ve=_.next();q!==null&&!ve.done;ee++,ve=_.next()){q.index>ee?(Ce=q,q=null):Ce=q.sibling;var H=j(k,q,ve.value,K);if(H===null){q===null&&(q=Ce);break}e&&q&&H.alternate===null&&t(k,q),y=a(H,y,ee),G===null?J=H:G.sibling=H,G=H,q=Ce}if(ve.done)return n(k,q),at&&vi(k,ee),J;if(q===null){for(;!ve.done;ee++,ve=_.next())ve=x(k,ve.value,K),ve!==null&&(y=a(ve,y,ee),G===null?J=ve:G.sibling=ve,G=ve);return at&&vi(k,ee),J}for(q=r(k,q);!ve.done;ee++,ve=_.next())ve=z(q,k,ee,ve.value,K),ve!==null&&(e&&ve.alternate!==null&&q.delete(ve.key===null?ee:ve.key),y=a(ve,y,ee),G===null?J=ve:G.sibling=ve,G=ve);return e&&q.forEach(function(pe){return t(k,pe)}),at&&vi(k,ee),J}function Y(k,y,_,K){if(typeof _=="object"&&_!==null&&_.type===Ui&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Yl:e:{for(var J=_.key,G=y;G!==null;){if(G.key===J){if(J=_.type,J===Ui){if(G.tag===7){n(k,G.sibling),y=o(G,_.props.children),y.return=k,k=y;break e}}else if(G.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===zr&&kd(J)===G.type){n(k,G.sibling),y=o(G,_.props),y.ref=No(k,G,_),y.return=k,k=y;break e}n(k,G);break}else t(k,G);G=G.sibling}_.type===Ui?(y=ki(_.props.children,k.mode,K,_.key),y.return=k,k=y):(K=_a(_.type,_.key,_.props,null,k.mode,K),K.ref=No(k,y,_),K.return=k,k=K)}return u(k);case $i:e:{for(G=_.key;y!==null;){if(y.key===G)if(y.tag===4&&y.stateNode.containerInfo===_.containerInfo&&y.stateNode.implementation===_.implementation){n(k,y.sibling),y=o(y,_.children||[]),y.return=k,k=y;break e}else{n(k,y);break}else t(k,y);y=y.sibling}y=gu(_,k.mode,K),y.return=k,k=y}return u(k);case zr:return G=_._init,Y(k,y,G(_._payload),K)}if(Mo(_))return F(k,y,_,K);if(jo(_))return $(k,y,_,K);la(k,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,y!==null&&y.tag===6?(n(k,y.sibling),y=o(y,_),y.return=k,k=y):(n(k,y),y=hu(_,k.mode,K),y.return=k,k=y),u(k)):n(k,y)}return Y}var fo=Th(!0),Rh=Th(!1),Ka=ri(null),$a=null,Gi=null,Uc=null;function Wc(){Uc=Gi=$a=null}function Vc(e){var t=Ka.current;it(Ka),e._currentValue=t}function Gu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function oo(e,t){$a=e,Uc=Gi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(hn=!0),e.firstContext=null)}function zn(e){var t=e._currentValue;if(Uc!==e)if(e={context:e,memoizedValue:t,next:null},Gi===null){if($a===null)throw Error(ne(308));Gi=e,$a.dependencies={lanes:0,firstContext:e}}else Gi=Gi.next=e;return t}var xi=null;function Hc(e){xi===null?xi=[e]:xi.push(e)}function Ah(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Hc(t)):(n.next=o.next,o.next=n),t.interleaved=n,jr(e,r)}function jr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Br=!1;function qc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Cr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Xr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,$e&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,jr(e,n)}return o=r.interleaved,o===null?(t.next=t,Hc(r)):(t.next=o.next,o.next=t),r.interleaved=t,jr(e,n)}function wa(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Nc(e,n)}}function Cd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var u={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?o=a=u:a=a.next=u,n=n.next}while(n!==null);a===null?o=a=t:a=a.next=t}else o=a=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ua(e,t,n,r){var o=e.updateQueue;Br=!1;var a=o.firstBaseUpdate,u=o.lastBaseUpdate,f=o.shared.pending;if(f!==null){o.shared.pending=null;var p=f,g=p.next;p.next=null,u===null?a=g:u.next=g,u=p;var C=e.alternate;C!==null&&(C=C.updateQueue,f=C.lastBaseUpdate,f!==u&&(f===null?C.firstBaseUpdate=g:f.next=g,C.lastBaseUpdate=p))}if(a!==null){var x=o.baseState;u=0,C=g=p=null,f=a;do{var j=f.lane,z=f.eventTime;if((r&j)===j){C!==null&&(C=C.next={eventTime:z,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,next:null});e:{var F=e,$=f;switch(j=t,z=n,$.tag){case 1:if(F=$.payload,typeof F=="function"){x=F.call(z,x,j);break e}x=F;break e;case 3:F.flags=F.flags&-65537|128;case 0:if(F=$.payload,j=typeof F=="function"?F.call(z,x,j):F,j==null)break e;x=ft({},x,j);break e;case 2:Br=!0}}f.callback!==null&&f.lane!==0&&(e.flags|=64,j=o.effects,j===null?o.effects=[f]:j.push(f))}else z={eventTime:z,lane:j,tag:f.tag,payload:f.payload,callback:f.callback,next:null},C===null?(g=C=z,p=x):C=C.next=z,u|=j;if(f=f.next,f===null){if(f=o.shared.pending,f===null)break;j=f,f=j.next,j.next=null,o.lastBaseUpdate=j,o.shared.pending=null}}while(!0);if(C===null&&(p=x),o.baseState=p,o.firstBaseUpdate=g,o.lastBaseUpdate=C,t=o.shared.interleaved,t!==null){o=t;do u|=o.lane,o=o.next;while(o!==t)}else a===null&&(o.shared.lanes=0);ji|=u,e.lanes=u,e.memoizedState=x}}function _d(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(ne(191,o));o.call(r)}}}var _l={},pr=ri(_l),dl=ri(_l),pl=ri(_l);function Si(e){if(e===_l)throw Error(ne(174));return e}function Qc(e,t){switch(et(pl,t),et(dl,e),et(pr,_l),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Pu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Pu(t,e)}it(pr),et(pr,t)}function po(){it(pr),it(dl),it(pl)}function Lh(e){Si(pl.current);var t=Si(pr.current),n=Pu(t,e.type);t!==n&&(et(dl,e),et(pr,n))}function Yc(e){dl.current===e&&(it(pr),it(dl))}var ut=ri(0);function Wa(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var su=[];function Xc(){for(var e=0;e<su.length;e++)su[e]._workInProgressVersionPrimary=null;su.length=0}var xa=Ir.ReactCurrentDispatcher,uu=Ir.ReactCurrentBatchConfig,Ei=0,ct=null,_t=null,Nt=null,Va=!1,Qo=!1,hl=0,gy=0;function qt(){throw Error(ne(321))}function Gc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jn(e[n],t[n]))return!1;return!0}function Jc(e,t,n,r,o,a){if(Ei=a,ct=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,xa.current=e===null||e.memoizedState===null?wy:xy,e=n(r,o),Qo){a=0;do{if(Qo=!1,hl=0,25<=a)throw Error(ne(301));a+=1,Nt=_t=null,t.updateQueue=null,xa.current=Sy,e=n(r,o)}while(Qo)}if(xa.current=Ha,t=_t!==null&&_t.next!==null,Ei=0,Nt=_t=ct=null,Va=!1,t)throw Error(ne(300));return e}function Zc(){var e=hl!==0;return hl=0,e}function cr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?ct.memoizedState=Nt=e:Nt=Nt.next=e,Nt}function Bn(){if(_t===null){var e=ct.alternate;e=e!==null?e.memoizedState:null}else e=_t.next;var t=Nt===null?ct.memoizedState:Nt.next;if(t!==null)Nt=t,_t=e;else{if(e===null)throw Error(ne(310));_t=e,e={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},Nt===null?ct.memoizedState=Nt=e:Nt=Nt.next=e}return Nt}function gl(e,t){return typeof t=="function"?t(e):t}function cu(e){var t=Bn(),n=t.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=e;var r=_t,o=r.baseQueue,a=n.pending;if(a!==null){if(o!==null){var u=o.next;o.next=a.next,a.next=u}r.baseQueue=o=a,n.pending=null}if(o!==null){a=o.next,r=r.baseState;var f=u=null,p=null,g=a;do{var C=g.lane;if((Ei&C)===C)p!==null&&(p=p.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),r=g.hasEagerState?g.eagerState:e(r,g.action);else{var x={lane:C,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};p===null?(f=p=x,u=r):p=p.next=x,ct.lanes|=C,ji|=C}g=g.next}while(g!==null&&g!==a);p===null?u=r:p.next=f,Jn(r,t.memoizedState)||(hn=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=p,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do a=o.lane,ct.lanes|=a,ji|=a,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function fu(e){var t=Bn(),n=t.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(o!==null){n.pending=null;var u=o=o.next;do a=e(a,u.action),u=u.next;while(u!==o);Jn(a,t.memoizedState)||(hn=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function zh(){}function Bh(e,t){var n=ct,r=Bn(),o=t(),a=!Jn(r.memoizedState,o);if(a&&(r.memoizedState=o,hn=!0),r=r.queue,ef($h.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||Nt!==null&&Nt.memoizedState.tag&1){if(n.flags|=2048,ml(9,Kh.bind(null,n,r,o,t),void 0,null),Rt===null)throw Error(ne(349));Ei&30||Fh(n,t,o)}return o}function Fh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ct.updateQueue,t===null?(t={lastEffect:null,stores:null},ct.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Kh(e,t,n,r){t.value=n,t.getSnapshot=r,Uh(t)&&Wh(e)}function $h(e,t,n){return n(function(){Uh(t)&&Wh(e)})}function Uh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jn(e,n)}catch{return!0}}function Wh(e){var t=jr(e,1);t!==null&&Gn(t,e,1,-1)}function Ed(e){var t=cr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gl,lastRenderedState:e},t.queue=e,e=e.dispatch=yy.bind(null,ct,e),[t.memoizedState,e]}function ml(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ct.updateQueue,t===null?(t={lastEffect:null,stores:null},ct.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Vh(){return Bn().memoizedState}function Sa(e,t,n,r){var o=cr();ct.flags|=e,o.memoizedState=ml(1|t,n,void 0,r===void 0?null:r)}function cs(e,t,n,r){var o=Bn();r=r===void 0?null:r;var a=void 0;if(_t!==null){var u=_t.memoizedState;if(a=u.destroy,r!==null&&Gc(r,u.deps)){o.memoizedState=ml(t,n,a,r);return}}ct.flags|=e,o.memoizedState=ml(1|t,n,a,r)}function jd(e,t){return Sa(8390656,8,e,t)}function ef(e,t){return cs(2048,8,e,t)}function Hh(e,t){return cs(4,2,e,t)}function qh(e,t){return cs(4,4,e,t)}function Qh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Yh(e,t,n){return n=n!=null?n.concat([e]):null,cs(4,4,Qh.bind(null,t,e),n)}function tf(){}function Xh(e,t){var n=Bn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Gc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Gh(e,t){var n=Bn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Gc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jh(e,t,n){return Ei&21?(Jn(n,t)||(n=rh(),ct.lanes|=n,ji|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,hn=!0),e.memoizedState=n)}function my(e,t){var n=Ye;Ye=n!==0&&4>n?n:4,e(!0);var r=uu.transition;uu.transition={};try{e(!1),t()}finally{Ye=n,uu.transition=r}}function Zh(){return Bn().memoizedState}function vy(e,t,n){var r=Jr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},eg(e))tg(t,n);else if(n=Ah(e,t,n,r),n!==null){var o=an();Gn(n,e,r,o),ng(n,t,r)}}function yy(e,t,n){var r=Jr(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(eg(e))tg(t,o);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var u=t.lastRenderedState,f=a(u,n);if(o.hasEagerState=!0,o.eagerState=f,Jn(f,u)){var p=t.interleaved;p===null?(o.next=o,Hc(t)):(o.next=p.next,p.next=o),t.interleaved=o;return}}catch{}finally{}n=Ah(e,t,o,r),n!==null&&(o=an(),Gn(n,e,r,o),ng(n,t,r))}}function eg(e){var t=e.alternate;return e===ct||t!==null&&t===ct}function tg(e,t){Qo=Va=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ng(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Nc(e,n)}}var Ha={readContext:zn,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},wy={readContext:zn,useCallback:function(e,t){return cr().memoizedState=[e,t===void 0?null:t],e},useContext:zn,useEffect:jd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Sa(4194308,4,Qh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Sa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Sa(4,2,e,t)},useMemo:function(e,t){var n=cr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=cr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=vy.bind(null,ct,e),[r.memoizedState,e]},useRef:function(e){var t=cr();return e={current:e},t.memoizedState=e},useState:Ed,useDebugValue:tf,useDeferredValue:function(e){return cr().memoizedState=e},useTransition:function(){var e=Ed(!1),t=e[0];return e=my.bind(null,e[1]),cr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ct,o=cr();if(at){if(n===void 0)throw Error(ne(407));n=n()}else{if(n=t(),Rt===null)throw Error(ne(349));Ei&30||Fh(r,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,jd($h.bind(null,r,a,e),[e]),r.flags|=2048,ml(9,Kh.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=cr(),t=Rt.identifierPrefix;if(at){var n=kr,r=br;n=(r&~(1<<32-Xn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=hl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=gy++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},xy={readContext:zn,useCallback:Xh,useContext:zn,useEffect:ef,useImperativeHandle:Yh,useInsertionEffect:Hh,useLayoutEffect:qh,useMemo:Gh,useReducer:cu,useRef:Vh,useState:function(){return cu(gl)},useDebugValue:tf,useDeferredValue:function(e){var t=Bn();return Jh(t,_t.memoizedState,e)},useTransition:function(){var e=cu(gl)[0],t=Bn().memoizedState;return[e,t]},useMutableSource:zh,useSyncExternalStore:Bh,useId:Zh,unstable_isNewReconciler:!1},Sy={readContext:zn,useCallback:Xh,useContext:zn,useEffect:ef,useImperativeHandle:Yh,useInsertionEffect:Hh,useLayoutEffect:qh,useMemo:Gh,useReducer:fu,useRef:Vh,useState:function(){return fu(gl)},useDebugValue:tf,useDeferredValue:function(e){var t=Bn();return _t===null?t.memoizedState=e:Jh(t,_t.memoizedState,e)},useTransition:function(){var e=fu(gl)[0],t=Bn().memoizedState;return[e,t]},useMutableSource:zh,useSyncExternalStore:Bh,useId:Zh,unstable_isNewReconciler:!1};function qn(e,t){if(e&&e.defaultProps){t=ft({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ju(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ft({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var fs={isMounted:function(e){return(e=e._reactInternals)?Oi(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=an(),o=Jr(e),a=Cr(r,o);a.payload=t,n!=null&&(a.callback=n),t=Xr(e,a,o),t!==null&&(Gn(t,e,o,r),wa(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=an(),o=Jr(e),a=Cr(r,o);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Xr(e,a,o),t!==null&&(Gn(t,e,o,r),wa(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=an(),r=Jr(e),o=Cr(n,r);o.tag=2,t!=null&&(o.callback=t),t=Xr(e,o,r),t!==null&&(Gn(t,e,r,n),wa(t,e,r))}};function Dd(e,t,n,r,o,a,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,u):t.prototype&&t.prototype.isPureReactComponent?!sl(n,r)||!sl(o,a):!0}function rg(e,t,n){var r=!1,o=ti,a=t.contextType;return typeof a=="object"&&a!==null?a=zn(a):(o=mn(t)?Ci:Xt.current,r=t.contextTypes,a=(r=r!=null)?uo(e,o):ti),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=fs,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function Id(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fs.enqueueReplaceState(t,t.state,null)}function Zu(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},qc(e);var a=t.contextType;typeof a=="object"&&a!==null?o.context=zn(a):(a=mn(t)?Ci:Xt.current,o.context=uo(e,a)),o.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Ju(e,t,a,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&fs.enqueueReplaceState(o,o.state,null),Ua(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function ho(e,t){try{var n="",r=t;do n+=Ym(r),r=r.return;while(r);var o=n}catch(a){o=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:o,digest:null}}function du(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ec(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var by=typeof WeakMap=="function"?WeakMap:Map;function ig(e,t,n){n=Cr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Qa||(Qa=!0,cc=r),ec(e,t)},n}function og(e,t,n){n=Cr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){ec(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){ec(e,t),typeof r!="function"&&(Gr===null?Gr=new Set([this]):Gr.add(this));var u=t.stack;this.componentDidCatch(t.value,{componentStack:u!==null?u:""})}),n}function Od(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new by;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=My.bind(null,e,t,n),t.then(e,e))}function Pd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Nd(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Cr(-1,1),t.tag=2,Xr(n,t,1))),n.lanes|=1),e)}var ky=Ir.ReactCurrentOwner,hn=!1;function on(e,t,n,r){t.child=e===null?Rh(t,null,n,r):fo(t,e.child,n,r)}function Td(e,t,n,r,o){n=n.render;var a=t.ref;return oo(t,o),r=Jc(e,t,n,r,a,o),n=Zc(),e!==null&&!hn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Dr(e,t,o)):(at&&n&&Fc(t),t.flags|=1,on(e,t,r,o),t.child)}function Rd(e,t,n,r,o){if(e===null){var a=n.type;return typeof a=="function"&&!cf(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,lg(e,t,a,r,o)):(e=_a(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&o)){var u=a.memoizedProps;if(n=n.compare,n=n!==null?n:sl,n(u,r)&&e.ref===t.ref)return Dr(e,t,o)}return t.flags|=1,e=Zr(a,r),e.ref=t.ref,e.return=t,t.child=e}function lg(e,t,n,r,o){if(e!==null){var a=e.memoizedProps;if(sl(a,r)&&e.ref===t.ref)if(hn=!1,t.pendingProps=r=a,(e.lanes&o)!==0)e.flags&131072&&(hn=!0);else return t.lanes=e.lanes,Dr(e,t,o)}return tc(e,t,n,r,o)}function ag(e,t,n){var r=t.pendingProps,o=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(Zi,_n),_n|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,et(Zi,_n),_n|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,et(Zi,_n),_n|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,et(Zi,_n),_n|=r;return on(e,t,o,n),t.child}function sg(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function tc(e,t,n,r,o){var a=mn(n)?Ci:Xt.current;return a=uo(t,a),oo(t,o),n=Jc(e,t,n,r,a,o),r=Zc(),e!==null&&!hn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Dr(e,t,o)):(at&&r&&Fc(t),t.flags|=1,on(e,t,n,o),t.child)}function Ad(e,t,n,r,o){if(mn(n)){var a=!0;za(t)}else a=!1;if(oo(t,o),t.stateNode===null)ba(e,t),rg(t,n,r),Zu(t,n,r,o),r=!0;else if(e===null){var u=t.stateNode,f=t.memoizedProps;u.props=f;var p=u.context,g=n.contextType;typeof g=="object"&&g!==null?g=zn(g):(g=mn(n)?Ci:Xt.current,g=uo(t,g));var C=n.getDerivedStateFromProps,x=typeof C=="function"||typeof u.getSnapshotBeforeUpdate=="function";x||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(f!==r||p!==g)&&Id(t,u,r,g),Br=!1;var j=t.memoizedState;u.state=j,Ua(t,r,u,o),p=t.memoizedState,f!==r||j!==p||gn.current||Br?(typeof C=="function"&&(Ju(t,n,C,r),p=t.memoizedState),(f=Br||Dd(t,n,f,r,j,p,g))?(x||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=p),u.props=r,u.state=p,u.context=g,r=f):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{u=t.stateNode,Mh(e,t),f=t.memoizedProps,g=t.type===t.elementType?f:qn(t.type,f),u.props=g,x=t.pendingProps,j=u.context,p=n.contextType,typeof p=="object"&&p!==null?p=zn(p):(p=mn(n)?Ci:Xt.current,p=uo(t,p));var z=n.getDerivedStateFromProps;(C=typeof z=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(f!==x||j!==p)&&Id(t,u,r,p),Br=!1,j=t.memoizedState,u.state=j,Ua(t,r,u,o);var F=t.memoizedState;f!==x||j!==F||gn.current||Br?(typeof z=="function"&&(Ju(t,n,z,r),F=t.memoizedState),(g=Br||Dd(t,n,g,r,j,F,p)||!1)?(C||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,F,p),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,F,p)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&j===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&j===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=F),u.props=r,u.state=F,u.context=p,r=g):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&j===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&j===e.memoizedState||(t.flags|=1024),r=!1)}return nc(e,t,n,r,a,o)}function nc(e,t,n,r,o,a){sg(e,t);var u=(t.flags&128)!==0;if(!r&&!u)return o&&xd(t,n,!1),Dr(e,t,a);r=t.stateNode,ky.current=t;var f=u&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&u?(t.child=fo(t,e.child,null,a),t.child=fo(t,null,f,a)):on(e,t,f,a),t.memoizedState=r.state,o&&xd(t,n,!0),t.child}function ug(e){var t=e.stateNode;t.pendingContext?wd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&wd(e,t.context,!1),Qc(e,t.containerInfo)}function Md(e,t,n,r,o){return co(),$c(o),t.flags|=256,on(e,t,n,r),t.child}var rc={dehydrated:null,treeContext:null,retryLane:0};function ic(e){return{baseLanes:e,cachePool:null,transitions:null}}function cg(e,t,n){var r=t.pendingProps,o=ut.current,a=!1,u=(t.flags&128)!==0,f;if((f=u)||(f=e!==null&&e.memoizedState===null?!1:(o&2)!==0),f?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),et(ut,o&1),e===null)return Xu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(u=r.children,e=r.fallback,a?(r=t.mode,a=t.child,u={mode:"hidden",children:u},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=u):a=hs(u,r,0,null),e=ki(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=ic(n),t.memoizedState=rc,e):nf(t,u));if(o=e.memoizedState,o!==null&&(f=o.dehydrated,f!==null))return Cy(e,t,u,r,f,o,n);if(a){a=r.fallback,u=t.mode,o=e.child,f=o.sibling;var p={mode:"hidden",children:r.children};return!(u&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=p,t.deletions=null):(r=Zr(o,p),r.subtreeFlags=o.subtreeFlags&14680064),f!==null?a=Zr(f,a):(a=ki(a,u,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,u=e.child.memoizedState,u=u===null?ic(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},a.memoizedState=u,a.childLanes=e.childLanes&~n,t.memoizedState=rc,r}return a=e.child,e=a.sibling,r=Zr(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function nf(e,t){return t=hs({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function aa(e,t,n,r){return r!==null&&$c(r),fo(t,e.child,null,n),e=nf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Cy(e,t,n,r,o,a,u){if(n)return t.flags&256?(t.flags&=-257,r=du(Error(ne(422))),aa(e,t,u,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,o=t.mode,r=hs({mode:"visible",children:r.children},o,0,null),a=ki(a,o,u,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&fo(t,e.child,null,u),t.child.memoizedState=ic(u),t.memoizedState=rc,a);if(!(t.mode&1))return aa(e,t,u,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var f=r.dgst;return r=f,a=Error(ne(419)),r=du(a,r,void 0),aa(e,t,u,r)}if(f=(u&e.childLanes)!==0,hn||f){if(r=Rt,r!==null){switch(u&-u){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|u)?0:o,o!==0&&o!==a.retryLane&&(a.retryLane=o,jr(e,o),Gn(r,e,o,-1))}return uf(),r=du(Error(ne(421))),aa(e,t,u,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=Ly.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,En=Yr(o.nextSibling),jn=t,at=!0,Yn=null,e!==null&&(Rn[An++]=br,Rn[An++]=kr,Rn[An++]=_i,br=e.id,kr=e.overflow,_i=t),t=nf(t,r.children),t.flags|=4096,t)}function Ld(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Gu(e.return,t,n)}function pu(e,t,n,r,o){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=o)}function fg(e,t,n){var r=t.pendingProps,o=r.revealOrder,a=r.tail;if(on(e,t,r.children,n),r=ut.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ld(e,n,t);else if(e.tag===19)Ld(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(et(ut,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Wa(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),pu(t,!1,o,n,a);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Wa(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}pu(t,!0,n,null,a);break;case"together":pu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ba(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Dr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ji|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ne(153));if(t.child!==null){for(e=t.child,n=Zr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Zr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function _y(e,t,n){switch(t.tag){case 3:ug(t),co();break;case 5:Lh(t);break;case 1:mn(t.type)&&za(t);break;case 4:Qc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;et(Ka,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(et(ut,ut.current&1),t.flags|=128,null):n&t.child.childLanes?cg(e,t,n):(et(ut,ut.current&1),e=Dr(e,t,n),e!==null?e.sibling:null);et(ut,ut.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return fg(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),et(ut,ut.current),r)break;return null;case 22:case 23:return t.lanes=0,ag(e,t,n)}return Dr(e,t,n)}var dg,oc,pg,hg;dg=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};oc=function(){};pg=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Si(pr.current);var a=null;switch(n){case"input":o=ju(e,o),r=ju(e,r),a=[];break;case"select":o=ft({},o,{value:void 0}),r=ft({},r,{value:void 0}),a=[];break;case"textarea":o=Ou(e,o),r=Ou(e,r),a=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ma)}Nu(n,r);var u;n=null;for(g in o)if(!r.hasOwnProperty(g)&&o.hasOwnProperty(g)&&o[g]!=null)if(g==="style"){var f=o[g];for(u in f)f.hasOwnProperty(u)&&(n||(n={}),n[u]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(tl.hasOwnProperty(g)?a||(a=[]):(a=a||[]).push(g,null));for(g in r){var p=r[g];if(f=o!=null?o[g]:void 0,r.hasOwnProperty(g)&&p!==f&&(p!=null||f!=null))if(g==="style")if(f){for(u in f)!f.hasOwnProperty(u)||p&&p.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in p)p.hasOwnProperty(u)&&f[u]!==p[u]&&(n||(n={}),n[u]=p[u])}else n||(a||(a=[]),a.push(g,n)),n=p;else g==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,f=f?f.__html:void 0,p!=null&&f!==p&&(a=a||[]).push(g,p)):g==="children"?typeof p!="string"&&typeof p!="number"||(a=a||[]).push(g,""+p):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(tl.hasOwnProperty(g)?(p!=null&&g==="onScroll"&&rt("scroll",e),a||f===p||(a=[])):(a=a||[]).push(g,p))}n&&(a=a||[]).push("style",n);var g=a;(t.updateQueue=g)&&(t.flags|=4)}};hg=function(e,t,n,r){n!==r&&(t.flags|=4)};function To(e,t){if(!at)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Qt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ey(e,t,n){var r=t.pendingProps;switch(Kc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(t),null;case 1:return mn(t.type)&&La(),Qt(t),null;case 3:return r=t.stateNode,po(),it(gn),it(Xt),Xc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(oa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Yn!==null&&(pc(Yn),Yn=null))),oc(e,t),Qt(t),null;case 5:Yc(t);var o=Si(pl.current);if(n=t.type,e!==null&&t.stateNode!=null)pg(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ne(166));return Qt(t),null}if(e=Si(pr.current),oa(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[fr]=t,r[fl]=a,e=(t.mode&1)!==0,n){case"dialog":rt("cancel",r),rt("close",r);break;case"iframe":case"object":case"embed":rt("load",r);break;case"video":case"audio":for(o=0;o<zo.length;o++)rt(zo[o],r);break;case"source":rt("error",r);break;case"img":case"image":case"link":rt("error",r),rt("load",r);break;case"details":rt("toggle",r);break;case"input":Hf(r,a),rt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},rt("invalid",r);break;case"textarea":Qf(r,a),rt("invalid",r)}Nu(n,a),o=null;for(var u in a)if(a.hasOwnProperty(u)){var f=a[u];u==="children"?typeof f=="string"?r.textContent!==f&&(a.suppressHydrationWarning!==!0&&ia(r.textContent,f,e),o=["children",f]):typeof f=="number"&&r.textContent!==""+f&&(a.suppressHydrationWarning!==!0&&ia(r.textContent,f,e),o=["children",""+f]):tl.hasOwnProperty(u)&&f!=null&&u==="onScroll"&&rt("scroll",r)}switch(n){case"input":Xl(r),qf(r,a,!0);break;case"textarea":Xl(r),Yf(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Ma)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{u=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=$p(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),n==="select"&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[fr]=t,e[fl]=r,dg(e,t,!1,!1),t.stateNode=e;e:{switch(u=Tu(n,r),n){case"dialog":rt("cancel",e),rt("close",e),o=r;break;case"iframe":case"object":case"embed":rt("load",e),o=r;break;case"video":case"audio":for(o=0;o<zo.length;o++)rt(zo[o],e);o=r;break;case"source":rt("error",e),o=r;break;case"img":case"image":case"link":rt("error",e),rt("load",e),o=r;break;case"details":rt("toggle",e),o=r;break;case"input":Hf(e,r),o=ju(e,r),rt("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=ft({},r,{value:void 0}),rt("invalid",e);break;case"textarea":Qf(e,r),o=Ou(e,r),rt("invalid",e);break;default:o=r}Nu(n,o),f=o;for(a in f)if(f.hasOwnProperty(a)){var p=f[a];a==="style"?Vp(e,p):a==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,p!=null&&Up(e,p)):a==="children"?typeof p=="string"?(n!=="textarea"||p!=="")&&nl(e,p):typeof p=="number"&&nl(e,""+p):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(tl.hasOwnProperty(a)?p!=null&&a==="onScroll"&&rt("scroll",e):p!=null&&Ec(e,a,p,u))}switch(n){case"input":Xl(e),qf(e,r,!1);break;case"textarea":Xl(e),Yf(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ei(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?to(e,!!r.multiple,a,!1):r.defaultValue!=null&&to(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Ma)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Qt(t),null;case 6:if(e&&t.stateNode!=null)hg(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ne(166));if(n=Si(pl.current),Si(pr.current),oa(t)){if(r=t.stateNode,n=t.memoizedProps,r[fr]=t,(a=r.nodeValue!==n)&&(e=jn,e!==null))switch(e.tag){case 3:ia(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ia(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[fr]=t,t.stateNode=r}return Qt(t),null;case 13:if(it(ut),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(at&&En!==null&&t.mode&1&&!(t.flags&128))Nh(),co(),t.flags|=98560,a=!1;else if(a=oa(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(ne(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ne(317));a[fr]=t}else co(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Qt(t),a=!1}else Yn!==null&&(pc(Yn),Yn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ut.current&1?jt===0&&(jt=3):uf())),t.updateQueue!==null&&(t.flags|=4),Qt(t),null);case 4:return po(),oc(e,t),e===null&&ul(t.stateNode.containerInfo),Qt(t),null;case 10:return Vc(t.type._context),Qt(t),null;case 17:return mn(t.type)&&La(),Qt(t),null;case 19:if(it(ut),a=t.memoizedState,a===null)return Qt(t),null;if(r=(t.flags&128)!==0,u=a.rendering,u===null)if(r)To(a,!1);else{if(jt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(u=Wa(e),u!==null){for(t.flags|=128,To(a,!1),r=u.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,u=a.alternate,u===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return et(ut,ut.current&1|2),t.child}e=e.sibling}a.tail!==null&&vt()>go&&(t.flags|=128,r=!0,To(a,!1),t.lanes=4194304)}else{if(!r)if(e=Wa(u),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),To(a,!0),a.tail===null&&a.tailMode==="hidden"&&!u.alternate&&!at)return Qt(t),null}else 2*vt()-a.renderingStartTime>go&&n!==1073741824&&(t.flags|=128,r=!0,To(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(n=a.last,n!==null?n.sibling=u:t.child=u,a.last=u)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=vt(),t.sibling=null,n=ut.current,et(ut,r?n&1|2:n&1),t):(Qt(t),null);case 22:case 23:return sf(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?_n&1073741824&&(Qt(t),t.subtreeFlags&6&&(t.flags|=8192)):Qt(t),null;case 24:return null;case 25:return null}throw Error(ne(156,t.tag))}function jy(e,t){switch(Kc(t),t.tag){case 1:return mn(t.type)&&La(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return po(),it(gn),it(Xt),Xc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Yc(t),null;case 13:if(it(ut),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ne(340));co()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return it(ut),null;case 4:return po(),null;case 10:return Vc(t.type._context),null;case 22:case 23:return sf(),null;case 24:return null;default:return null}}var sa=!1,Yt=!1,Dy=typeof WeakSet=="function"?WeakSet:Set,me=null;function Ji(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){gt(e,t,r)}else n.current=null}function lc(e,t,n){try{n()}catch(r){gt(e,t,r)}}var zd=!1;function Iy(e,t){if(Uu=Ta,e=wh(),Bc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var u=0,f=-1,p=-1,g=0,C=0,x=e,j=null;t:for(;;){for(var z;x!==n||o!==0&&x.nodeType!==3||(f=u+o),x!==a||r!==0&&x.nodeType!==3||(p=u+r),x.nodeType===3&&(u+=x.nodeValue.length),(z=x.firstChild)!==null;)j=x,x=z;for(;;){if(x===e)break t;if(j===n&&++g===o&&(f=u),j===a&&++C===r&&(p=u),(z=x.nextSibling)!==null)break;x=j,j=x.parentNode}x=z}n=f===-1||p===-1?null:{start:f,end:p}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wu={focusedElem:e,selectionRange:n},Ta=!1,me=t;me!==null;)if(t=me,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,me=e;else for(;me!==null;){t=me;try{var F=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(F!==null){var $=F.memoizedProps,Y=F.memoizedState,k=t.stateNode,y=k.getSnapshotBeforeUpdate(t.elementType===t.type?$:qn(t.type,$),Y);k.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ne(163))}}catch(K){gt(t,t.return,K)}if(e=t.sibling,e!==null){e.return=t.return,me=e;break}me=t.return}return F=zd,zd=!1,F}function Yo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,a!==void 0&&lc(t,n,a)}o=o.next}while(o!==r)}}function ds(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ac(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function gg(e){var t=e.alternate;t!==null&&(e.alternate=null,gg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[fr],delete t[fl],delete t[qu],delete t[fy],delete t[dy])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function mg(e){return e.tag===5||e.tag===3||e.tag===4}function Bd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||mg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function sc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ma));else if(r!==4&&(e=e.child,e!==null))for(sc(e,t,n),e=e.sibling;e!==null;)sc(e,t,n),e=e.sibling}function uc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(uc(e,t,n),e=e.sibling;e!==null;)uc(e,t,n),e=e.sibling}var Bt=null,Qn=!1;function Lr(e,t,n){for(n=n.child;n!==null;)vg(e,t,n),n=n.sibling}function vg(e,t,n){if(dr&&typeof dr.onCommitFiberUnmount=="function")try{dr.onCommitFiberUnmount(is,n)}catch{}switch(n.tag){case 5:Yt||Ji(n,t);case 6:var r=Bt,o=Qn;Bt=null,Lr(e,t,n),Bt=r,Qn=o,Bt!==null&&(Qn?(e=Bt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Bt.removeChild(n.stateNode));break;case 18:Bt!==null&&(Qn?(e=Bt,n=n.stateNode,e.nodeType===8?lu(e.parentNode,n):e.nodeType===1&&lu(e,n),ll(e)):lu(Bt,n.stateNode));break;case 4:r=Bt,o=Qn,Bt=n.stateNode.containerInfo,Qn=!0,Lr(e,t,n),Bt=r,Qn=o;break;case 0:case 11:case 14:case 15:if(!Yt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var a=o,u=a.destroy;a=a.tag,u!==void 0&&(a&2||a&4)&&lc(n,t,u),o=o.next}while(o!==r)}Lr(e,t,n);break;case 1:if(!Yt&&(Ji(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(f){gt(n,t,f)}Lr(e,t,n);break;case 21:Lr(e,t,n);break;case 22:n.mode&1?(Yt=(r=Yt)||n.memoizedState!==null,Lr(e,t,n),Yt=r):Lr(e,t,n);break;default:Lr(e,t,n)}}function Fd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Dy),t.forEach(function(r){var o=zy.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Vn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var a=e,u=t,f=u;e:for(;f!==null;){switch(f.tag){case 5:Bt=f.stateNode,Qn=!1;break e;case 3:Bt=f.stateNode.containerInfo,Qn=!0;break e;case 4:Bt=f.stateNode.containerInfo,Qn=!0;break e}f=f.return}if(Bt===null)throw Error(ne(160));vg(a,u,o),Bt=null,Qn=!1;var p=o.alternate;p!==null&&(p.return=null),o.return=null}catch(g){gt(o,t,g)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)yg(t,e),t=t.sibling}function yg(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Vn(t,e),ur(e),r&4){try{Yo(3,e,e.return),ds(3,e)}catch($){gt(e,e.return,$)}try{Yo(5,e,e.return)}catch($){gt(e,e.return,$)}}break;case 1:Vn(t,e),ur(e),r&512&&n!==null&&Ji(n,n.return);break;case 5:if(Vn(t,e),ur(e),r&512&&n!==null&&Ji(n,n.return),e.flags&32){var o=e.stateNode;try{nl(o,"")}catch($){gt(e,e.return,$)}}if(r&4&&(o=e.stateNode,o!=null)){var a=e.memoizedProps,u=n!==null?n.memoizedProps:a,f=e.type,p=e.updateQueue;if(e.updateQueue=null,p!==null)try{f==="input"&&a.type==="radio"&&a.name!=null&&Fp(o,a),Tu(f,u);var g=Tu(f,a);for(u=0;u<p.length;u+=2){var C=p[u],x=p[u+1];C==="style"?Vp(o,x):C==="dangerouslySetInnerHTML"?Up(o,x):C==="children"?nl(o,x):Ec(o,C,x,g)}switch(f){case"input":Du(o,a);break;case"textarea":Kp(o,a);break;case"select":var j=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var z=a.value;z!=null?to(o,!!a.multiple,z,!1):j!==!!a.multiple&&(a.defaultValue!=null?to(o,!!a.multiple,a.defaultValue,!0):to(o,!!a.multiple,a.multiple?[]:"",!1))}o[fl]=a}catch($){gt(e,e.return,$)}}break;case 6:if(Vn(t,e),ur(e),r&4){if(e.stateNode===null)throw Error(ne(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch($){gt(e,e.return,$)}}break;case 3:if(Vn(t,e),ur(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ll(t.containerInfo)}catch($){gt(e,e.return,$)}break;case 4:Vn(t,e),ur(e);break;case 13:Vn(t,e),ur(e),o=e.child,o.flags&8192&&(a=o.memoizedState!==null,o.stateNode.isHidden=a,!a||o.alternate!==null&&o.alternate.memoizedState!==null||(lf=vt())),r&4&&Fd(e);break;case 22:if(C=n!==null&&n.memoizedState!==null,e.mode&1?(Yt=(g=Yt)||C,Vn(t,e),Yt=g):Vn(t,e),ur(e),r&8192){if(g=e.memoizedState!==null,(e.stateNode.isHidden=g)&&!C&&e.mode&1)for(me=e,C=e.child;C!==null;){for(x=me=C;me!==null;){switch(j=me,z=j.child,j.tag){case 0:case 11:case 14:case 15:Yo(4,j,j.return);break;case 1:Ji(j,j.return);var F=j.stateNode;if(typeof F.componentWillUnmount=="function"){r=j,n=j.return;try{t=r,F.props=t.memoizedProps,F.state=t.memoizedState,F.componentWillUnmount()}catch($){gt(r,n,$)}}break;case 5:Ji(j,j.return);break;case 22:if(j.memoizedState!==null){$d(x);continue}}z!==null?(z.return=j,me=z):$d(x)}C=C.sibling}e:for(C=null,x=e;;){if(x.tag===5){if(C===null){C=x;try{o=x.stateNode,g?(a=o.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(f=x.stateNode,p=x.memoizedProps.style,u=p!=null&&p.hasOwnProperty("display")?p.display:null,f.style.display=Wp("display",u))}catch($){gt(e,e.return,$)}}}else if(x.tag===6){if(C===null)try{x.stateNode.nodeValue=g?"":x.memoizedProps}catch($){gt(e,e.return,$)}}else if((x.tag!==22&&x.tag!==23||x.memoizedState===null||x===e)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===e)break e;for(;x.sibling===null;){if(x.return===null||x.return===e)break e;C===x&&(C=null),x=x.return}C===x&&(C=null),x.sibling.return=x.return,x=x.sibling}}break;case 19:Vn(t,e),ur(e),r&4&&Fd(e);break;case 21:break;default:Vn(t,e),ur(e)}}function ur(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(mg(n)){var r=n;break e}n=n.return}throw Error(ne(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(nl(o,""),r.flags&=-33);var a=Bd(e);uc(e,a,o);break;case 3:case 4:var u=r.stateNode.containerInfo,f=Bd(e);sc(e,f,u);break;default:throw Error(ne(161))}}catch(p){gt(e,e.return,p)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Oy(e,t,n){me=e,wg(e)}function wg(e,t,n){for(var r=(e.mode&1)!==0;me!==null;){var o=me,a=o.child;if(o.tag===22&&r){var u=o.memoizedState!==null||sa;if(!u){var f=o.alternate,p=f!==null&&f.memoizedState!==null||Yt;f=sa;var g=Yt;if(sa=u,(Yt=p)&&!g)for(me=o;me!==null;)u=me,p=u.child,u.tag===22&&u.memoizedState!==null?Ud(o):p!==null?(p.return=u,me=p):Ud(o);for(;a!==null;)me=a,wg(a),a=a.sibling;me=o,sa=f,Yt=g}Kd(e)}else o.subtreeFlags&8772&&a!==null?(a.return=o,me=a):Kd(e)}}function Kd(e){for(;me!==null;){var t=me;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Yt||ds(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Yt)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:qn(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&_d(t,a,r);break;case 3:var u=t.updateQueue;if(u!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}_d(t,u,n)}break;case 5:var f=t.stateNode;if(n===null&&t.flags&4){n=f;var p=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":p.autoFocus&&n.focus();break;case"img":p.src&&(n.src=p.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var g=t.alternate;if(g!==null){var C=g.memoizedState;if(C!==null){var x=C.dehydrated;x!==null&&ll(x)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ne(163))}Yt||t.flags&512&&ac(t)}catch(j){gt(t,t.return,j)}}if(t===e){me=null;break}if(n=t.sibling,n!==null){n.return=t.return,me=n;break}me=t.return}}function $d(e){for(;me!==null;){var t=me;if(t===e){me=null;break}var n=t.sibling;if(n!==null){n.return=t.return,me=n;break}me=t.return}}function Ud(e){for(;me!==null;){var t=me;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ds(4,t)}catch(p){gt(t,n,p)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(p){gt(t,o,p)}}var a=t.return;try{ac(t)}catch(p){gt(t,a,p)}break;case 5:var u=t.return;try{ac(t)}catch(p){gt(t,u,p)}}}catch(p){gt(t,t.return,p)}if(t===e){me=null;break}var f=t.sibling;if(f!==null){f.return=t.return,me=f;break}me=t.return}}var Py=Math.ceil,qa=Ir.ReactCurrentDispatcher,rf=Ir.ReactCurrentOwner,Ln=Ir.ReactCurrentBatchConfig,$e=0,Rt=null,xt=null,Ft=0,_n=0,Zi=ri(0),jt=0,vl=null,ji=0,ps=0,of=0,Xo=null,pn=null,lf=0,go=1/0,xr=null,Qa=!1,cc=null,Gr=null,ua=!1,Wr=null,Ya=0,Go=0,fc=null,ka=-1,Ca=0;function an(){return $e&6?vt():ka!==-1?ka:ka=vt()}function Jr(e){return e.mode&1?$e&2&&Ft!==0?Ft&-Ft:hy.transition!==null?(Ca===0&&(Ca=rh()),Ca):(e=Ye,e!==0||(e=window.event,e=e===void 0?16:ch(e.type)),e):1}function Gn(e,t,n,r){if(50<Go)throw Go=0,fc=null,Error(ne(185));bl(e,n,r),(!($e&2)||e!==Rt)&&(e===Rt&&(!($e&2)&&(ps|=n),jt===4&&$r(e,Ft)),vn(e,r),n===1&&$e===0&&!(t.mode&1)&&(go=vt()+500,us&&ii()))}function vn(e,t){var n=e.callbackNode;hv(e,t);var r=Na(e,e===Rt?Ft:0);if(r===0)n!==null&&Jf(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Jf(n),t===1)e.tag===0?py(Wd.bind(null,e)):Ih(Wd.bind(null,e)),uy(function(){!($e&6)&&ii()}),n=null;else{switch(ih(r)){case 1:n=Pc;break;case 4:n=th;break;case 16:n=Pa;break;case 536870912:n=nh;break;default:n=Pa}n=jg(n,xg.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function xg(e,t){if(ka=-1,Ca=0,$e&6)throw Error(ne(327));var n=e.callbackNode;if(lo()&&e.callbackNode!==n)return null;var r=Na(e,e===Rt?Ft:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Xa(e,r);else{t=r;var o=$e;$e|=2;var a=bg();(Rt!==e||Ft!==t)&&(xr=null,go=vt()+500,bi(e,t));do try{Ry();break}catch(f){Sg(e,f)}while(!0);Wc(),qa.current=a,$e=o,xt!==null?t=0:(Rt=null,Ft=0,t=jt)}if(t!==0){if(t===2&&(o=zu(e),o!==0&&(r=o,t=dc(e,o))),t===1)throw n=vl,bi(e,0),$r(e,r),vn(e,vt()),n;if(t===6)$r(e,r);else{if(o=e.current.alternate,!(r&30)&&!Ny(o)&&(t=Xa(e,r),t===2&&(a=zu(e),a!==0&&(r=a,t=dc(e,a))),t===1))throw n=vl,bi(e,0),$r(e,r),vn(e,vt()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(ne(345));case 2:yi(e,pn,xr);break;case 3:if($r(e,r),(r&130023424)===r&&(t=lf+500-vt(),10<t)){if(Na(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){an(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Hu(yi.bind(null,e,pn,xr),t);break}yi(e,pn,xr);break;case 4:if($r(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var u=31-Xn(r);a=1<<u,u=t[u],u>o&&(o=u),r&=~a}if(r=o,r=vt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Py(r/1960))-r,10<r){e.timeoutHandle=Hu(yi.bind(null,e,pn,xr),r);break}yi(e,pn,xr);break;case 5:yi(e,pn,xr);break;default:throw Error(ne(329))}}}return vn(e,vt()),e.callbackNode===n?xg.bind(null,e):null}function dc(e,t){var n=Xo;return e.current.memoizedState.isDehydrated&&(bi(e,t).flags|=256),e=Xa(e,t),e!==2&&(t=pn,pn=n,t!==null&&pc(t)),e}function pc(e){pn===null?pn=e:pn.push.apply(pn,e)}function Ny(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],a=o.getSnapshot;o=o.value;try{if(!Jn(a(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $r(e,t){for(t&=~of,t&=~ps,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Xn(t),r=1<<n;e[n]=-1,t&=~r}}function Wd(e){if($e&6)throw Error(ne(327));lo();var t=Na(e,0);if(!(t&1))return vn(e,vt()),null;var n=Xa(e,t);if(e.tag!==0&&n===2){var r=zu(e);r!==0&&(t=r,n=dc(e,r))}if(n===1)throw n=vl,bi(e,0),$r(e,t),vn(e,vt()),n;if(n===6)throw Error(ne(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yi(e,pn,xr),vn(e,vt()),null}function af(e,t){var n=$e;$e|=1;try{return e(t)}finally{$e=n,$e===0&&(go=vt()+500,us&&ii())}}function Di(e){Wr!==null&&Wr.tag===0&&!($e&6)&&lo();var t=$e;$e|=1;var n=Ln.transition,r=Ye;try{if(Ln.transition=null,Ye=1,e)return e()}finally{Ye=r,Ln.transition=n,$e=t,!($e&6)&&ii()}}function sf(){_n=Zi.current,it(Zi)}function bi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,sy(n)),xt!==null)for(n=xt.return;n!==null;){var r=n;switch(Kc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&La();break;case 3:po(),it(gn),it(Xt),Xc();break;case 5:Yc(r);break;case 4:po();break;case 13:it(ut);break;case 19:it(ut);break;case 10:Vc(r.type._context);break;case 22:case 23:sf()}n=n.return}if(Rt=e,xt=e=Zr(e.current,null),Ft=_n=t,jt=0,vl=null,of=ps=ji=0,pn=Xo=null,xi!==null){for(t=0;t<xi.length;t++)if(n=xi[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,a=n.pending;if(a!==null){var u=a.next;a.next=o,r.next=u}n.pending=r}xi=null}return e}function Sg(e,t){do{var n=xt;try{if(Wc(),xa.current=Ha,Va){for(var r=ct.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Va=!1}if(Ei=0,Nt=_t=ct=null,Qo=!1,hl=0,rf.current=null,n===null||n.return===null){jt=1,vl=t,xt=null;break}e:{var a=e,u=n.return,f=n,p=t;if(t=Ft,f.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){var g=p,C=f,x=C.tag;if(!(C.mode&1)&&(x===0||x===11||x===15)){var j=C.alternate;j?(C.updateQueue=j.updateQueue,C.memoizedState=j.memoizedState,C.lanes=j.lanes):(C.updateQueue=null,C.memoizedState=null)}var z=Pd(u);if(z!==null){z.flags&=-257,Nd(z,u,f,a,t),z.mode&1&&Od(a,g,t),t=z,p=g;var F=t.updateQueue;if(F===null){var $=new Set;$.add(p),t.updateQueue=$}else F.add(p);break e}else{if(!(t&1)){Od(a,g,t),uf();break e}p=Error(ne(426))}}else if(at&&f.mode&1){var Y=Pd(u);if(Y!==null){!(Y.flags&65536)&&(Y.flags|=256),Nd(Y,u,f,a,t),$c(ho(p,f));break e}}a=p=ho(p,f),jt!==4&&(jt=2),Xo===null?Xo=[a]:Xo.push(a),a=u;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var k=ig(a,p,t);Cd(a,k);break e;case 1:f=p;var y=a.type,_=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Gr===null||!Gr.has(_)))){a.flags|=65536,t&=-t,a.lanes|=t;var K=og(a,f,t);Cd(a,K);break e}}a=a.return}while(a!==null)}Cg(n)}catch(J){t=J,xt===n&&n!==null&&(xt=n=n.return);continue}break}while(!0)}function bg(){var e=qa.current;return qa.current=Ha,e===null?Ha:e}function uf(){(jt===0||jt===3||jt===2)&&(jt=4),Rt===null||!(ji&268435455)&&!(ps&268435455)||$r(Rt,Ft)}function Xa(e,t){var n=$e;$e|=2;var r=bg();(Rt!==e||Ft!==t)&&(xr=null,bi(e,t));do try{Ty();break}catch(o){Sg(e,o)}while(!0);if(Wc(),$e=n,qa.current=r,xt!==null)throw Error(ne(261));return Rt=null,Ft=0,jt}function Ty(){for(;xt!==null;)kg(xt)}function Ry(){for(;xt!==null&&!ov();)kg(xt)}function kg(e){var t=Eg(e.alternate,e,_n);e.memoizedProps=e.pendingProps,t===null?Cg(e):xt=t,rf.current=null}function Cg(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=jy(n,t),n!==null){n.flags&=32767,xt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{jt=6,xt=null;return}}else if(n=Ey(n,t,_n),n!==null){xt=n;return}if(t=t.sibling,t!==null){xt=t;return}xt=t=e}while(t!==null);jt===0&&(jt=5)}function yi(e,t,n){var r=Ye,o=Ln.transition;try{Ln.transition=null,Ye=1,Ay(e,t,n,r)}finally{Ln.transition=o,Ye=r}return null}function Ay(e,t,n,r){do lo();while(Wr!==null);if($e&6)throw Error(ne(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ne(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(gv(e,a),e===Rt&&(xt=Rt=null,Ft=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ua||(ua=!0,jg(Pa,function(){return lo(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Ln.transition,Ln.transition=null;var u=Ye;Ye=1;var f=$e;$e|=4,rf.current=null,Iy(e,n),yg(n,e),ty(Wu),Ta=!!Uu,Wu=Uu=null,e.current=n,Oy(n),lv(),$e=f,Ye=u,Ln.transition=a}else e.current=n;if(ua&&(ua=!1,Wr=e,Ya=o),a=e.pendingLanes,a===0&&(Gr=null),uv(n.stateNode),vn(e,vt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Qa)throw Qa=!1,e=cc,cc=null,e;return Ya&1&&e.tag!==0&&lo(),a=e.pendingLanes,a&1?e===fc?Go++:(Go=0,fc=e):Go=0,ii(),null}function lo(){if(Wr!==null){var e=ih(Ya),t=Ln.transition,n=Ye;try{if(Ln.transition=null,Ye=16>e?16:e,Wr===null)var r=!1;else{if(e=Wr,Wr=null,Ya=0,$e&6)throw Error(ne(331));var o=$e;for($e|=4,me=e.current;me!==null;){var a=me,u=a.child;if(me.flags&16){var f=a.deletions;if(f!==null){for(var p=0;p<f.length;p++){var g=f[p];for(me=g;me!==null;){var C=me;switch(C.tag){case 0:case 11:case 15:Yo(8,C,a)}var x=C.child;if(x!==null)x.return=C,me=x;else for(;me!==null;){C=me;var j=C.sibling,z=C.return;if(gg(C),C===g){me=null;break}if(j!==null){j.return=z,me=j;break}me=z}}}var F=a.alternate;if(F!==null){var $=F.child;if($!==null){F.child=null;do{var Y=$.sibling;$.sibling=null,$=Y}while($!==null)}}me=a}}if(a.subtreeFlags&2064&&u!==null)u.return=a,me=u;else e:for(;me!==null;){if(a=me,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Yo(9,a,a.return)}var k=a.sibling;if(k!==null){k.return=a.return,me=k;break e}me=a.return}}var y=e.current;for(me=y;me!==null;){u=me;var _=u.child;if(u.subtreeFlags&2064&&_!==null)_.return=u,me=_;else e:for(u=y;me!==null;){if(f=me,f.flags&2048)try{switch(f.tag){case 0:case 11:case 15:ds(9,f)}}catch(J){gt(f,f.return,J)}if(f===u){me=null;break e}var K=f.sibling;if(K!==null){K.return=f.return,me=K;break e}me=f.return}}if($e=o,ii(),dr&&typeof dr.onPostCommitFiberRoot=="function")try{dr.onPostCommitFiberRoot(is,e)}catch{}r=!0}return r}finally{Ye=n,Ln.transition=t}}return!1}function Vd(e,t,n){t=ho(n,t),t=ig(e,t,1),e=Xr(e,t,1),t=an(),e!==null&&(bl(e,1,t),vn(e,t))}function gt(e,t,n){if(e.tag===3)Vd(e,e,n);else for(;t!==null;){if(t.tag===3){Vd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Gr===null||!Gr.has(r))){e=ho(n,e),e=og(t,e,1),t=Xr(t,e,1),e=an(),t!==null&&(bl(t,1,e),vn(t,e));break}}t=t.return}}function My(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=an(),e.pingedLanes|=e.suspendedLanes&n,Rt===e&&(Ft&n)===n&&(jt===4||jt===3&&(Ft&130023424)===Ft&&500>vt()-lf?bi(e,0):of|=n),vn(e,t)}function _g(e,t){t===0&&(e.mode&1?(t=Zl,Zl<<=1,!(Zl&130023424)&&(Zl=4194304)):t=1);var n=an();e=jr(e,t),e!==null&&(bl(e,t,n),vn(e,n))}function Ly(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),_g(e,n)}function zy(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ne(314))}r!==null&&r.delete(t),_g(e,n)}var Eg;Eg=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||gn.current)hn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return hn=!1,_y(e,t,n);hn=!!(e.flags&131072)}else hn=!1,at&&t.flags&1048576&&Oh(t,Fa,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ba(e,t),e=t.pendingProps;var o=uo(t,Xt.current);oo(t,n),o=Jc(null,t,r,e,o,n);var a=Zc();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,mn(r)?(a=!0,za(t)):a=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,qc(t),o.updater=fs,t.stateNode=o,o._reactInternals=t,Zu(t,r,e,n),t=nc(null,t,r,!0,a,n)):(t.tag=0,at&&a&&Fc(t),on(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ba(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=Fy(r),e=qn(r,e),o){case 0:t=tc(null,t,r,e,n);break e;case 1:t=Ad(null,t,r,e,n);break e;case 11:t=Td(null,t,r,e,n);break e;case 14:t=Rd(null,t,r,qn(r.type,e),n);break e}throw Error(ne(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:qn(r,o),tc(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:qn(r,o),Ad(e,t,r,o,n);case 3:e:{if(ug(t),e===null)throw Error(ne(387));r=t.pendingProps,a=t.memoizedState,o=a.element,Mh(e,t),Ua(t,r,null,n);var u=t.memoizedState;if(r=u.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){o=ho(Error(ne(423)),t),t=Md(e,t,r,n,o);break e}else if(r!==o){o=ho(Error(ne(424)),t),t=Md(e,t,r,n,o);break e}else for(En=Yr(t.stateNode.containerInfo.firstChild),jn=t,at=!0,Yn=null,n=Rh(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(co(),r===o){t=Dr(e,t,n);break e}on(e,t,r,n)}t=t.child}return t;case 5:return Lh(t),e===null&&Xu(t),r=t.type,o=t.pendingProps,a=e!==null?e.memoizedProps:null,u=o.children,Vu(r,o)?u=null:a!==null&&Vu(r,a)&&(t.flags|=32),sg(e,t),on(e,t,u,n),t.child;case 6:return e===null&&Xu(t),null;case 13:return cg(e,t,n);case 4:return Qc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=fo(t,null,r,n):on(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:qn(r,o),Td(e,t,r,o,n);case 7:return on(e,t,t.pendingProps,n),t.child;case 8:return on(e,t,t.pendingProps.children,n),t.child;case 12:return on(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,a=t.memoizedProps,u=o.value,et(Ka,r._currentValue),r._currentValue=u,a!==null)if(Jn(a.value,u)){if(a.children===o.children&&!gn.current){t=Dr(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var f=a.dependencies;if(f!==null){u=a.child;for(var p=f.firstContext;p!==null;){if(p.context===r){if(a.tag===1){p=Cr(-1,n&-n),p.tag=2;var g=a.updateQueue;if(g!==null){g=g.shared;var C=g.pending;C===null?p.next=p:(p.next=C.next,C.next=p),g.pending=p}}a.lanes|=n,p=a.alternate,p!==null&&(p.lanes|=n),Gu(a.return,n,t),f.lanes|=n;break}p=p.next}}else if(a.tag===10)u=a.type===t.type?null:a.child;else if(a.tag===18){if(u=a.return,u===null)throw Error(ne(341));u.lanes|=n,f=u.alternate,f!==null&&(f.lanes|=n),Gu(u,n,t),u=a.sibling}else u=a.child;if(u!==null)u.return=a;else for(u=a;u!==null;){if(u===t){u=null;break}if(a=u.sibling,a!==null){a.return=u.return,u=a;break}u=u.return}a=u}on(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,oo(t,n),o=zn(o),r=r(o),t.flags|=1,on(e,t,r,n),t.child;case 14:return r=t.type,o=qn(r,t.pendingProps),o=qn(r.type,o),Rd(e,t,r,o,n);case 15:return lg(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:qn(r,o),ba(e,t),t.tag=1,mn(r)?(e=!0,za(t)):e=!1,oo(t,n),rg(t,r,o),Zu(t,r,o,n),nc(null,t,r,!0,e,n);case 19:return fg(e,t,n);case 22:return ag(e,t,n)}throw Error(ne(156,t.tag))};function jg(e,t){return eh(e,t)}function By(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(e,t,n,r){return new By(e,t,n,r)}function cf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Fy(e){if(typeof e=="function")return cf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Dc)return 11;if(e===Ic)return 14}return 2}function Zr(e,t){var n=e.alternate;return n===null?(n=Mn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function _a(e,t,n,r,o,a){var u=2;if(r=e,typeof e=="function")cf(e)&&(u=1);else if(typeof e=="string")u=5;else e:switch(e){case Ui:return ki(n.children,o,a,t);case jc:u=8,o|=8;break;case ku:return e=Mn(12,n,t,o|2),e.elementType=ku,e.lanes=a,e;case Cu:return e=Mn(13,n,t,o),e.elementType=Cu,e.lanes=a,e;case _u:return e=Mn(19,n,t,o),e.elementType=_u,e.lanes=a,e;case Lp:return hs(n,o,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ap:u=10;break e;case Mp:u=9;break e;case Dc:u=11;break e;case Ic:u=14;break e;case zr:u=16,r=null;break e}throw Error(ne(130,e==null?e:typeof e,""))}return t=Mn(u,n,t,o),t.elementType=e,t.type=r,t.lanes=a,t}function ki(e,t,n,r){return e=Mn(7,e,r,t),e.lanes=n,e}function hs(e,t,n,r){return e=Mn(22,e,r,t),e.elementType=Lp,e.lanes=n,e.stateNode={isHidden:!1},e}function hu(e,t,n){return e=Mn(6,e,null,t),e.lanes=n,e}function gu(e,t,n){return t=Mn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ky(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ys(0),this.expirationTimes=Ys(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ys(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function ff(e,t,n,r,o,a,u,f,p){return e=new Ky(e,t,n,f,p),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Mn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},qc(a),e}function $y(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$i,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Dg(e){if(!e)return ti;e=e._reactInternals;e:{if(Oi(e)!==e||e.tag!==1)throw Error(ne(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(mn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ne(171))}if(e.tag===1){var n=e.type;if(mn(n))return Dh(e,n,t)}return t}function Ig(e,t,n,r,o,a,u,f,p){return e=ff(n,r,!0,e,o,a,u,f,p),e.context=Dg(null),n=e.current,r=an(),o=Jr(n),a=Cr(r,o),a.callback=t??null,Xr(n,a,o),e.current.lanes=o,bl(e,o,r),vn(e,r),e}function gs(e,t,n,r){var o=t.current,a=an(),u=Jr(o);return n=Dg(n),t.context===null?t.context=n:t.pendingContext=n,t=Cr(a,u),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Xr(o,t,u),e!==null&&(Gn(e,o,u,a),wa(e,o,u)),u}function Ga(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Hd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function df(e,t){Hd(e,t),(e=e.alternate)&&Hd(e,t)}function Uy(){return null}var Og=typeof reportError=="function"?reportError:function(e){console.error(e)};function pf(e){this._internalRoot=e}ms.prototype.render=pf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ne(409));gs(e,t,null,null)};ms.prototype.unmount=pf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Di(function(){gs(null,e,null,null)}),t[Er]=null}};function ms(e){this._internalRoot=e}ms.prototype.unstable_scheduleHydration=function(e){if(e){var t=ah();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Kr.length&&t!==0&&t<Kr[n].priority;n++);Kr.splice(n,0,e),n===0&&uh(e)}};function hf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function vs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function qd(){}function Wy(e,t,n,r,o){if(o){if(typeof r=="function"){var a=r;r=function(){var g=Ga(u);a.call(g)}}var u=Ig(t,r,e,0,null,!1,!1,"",qd);return e._reactRootContainer=u,e[Er]=u.current,ul(e.nodeType===8?e.parentNode:e),Di(),u}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var f=r;r=function(){var g=Ga(p);f.call(g)}}var p=ff(e,0,!1,null,null,!1,!1,"",qd);return e._reactRootContainer=p,e[Er]=p.current,ul(e.nodeType===8?e.parentNode:e),Di(function(){gs(t,p,n,r)}),p}function ys(e,t,n,r,o){var a=n._reactRootContainer;if(a){var u=a;if(typeof o=="function"){var f=o;o=function(){var p=Ga(u);f.call(p)}}gs(t,u,e,o)}else u=Wy(n,t,e,o,r);return Ga(u)}oh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Lo(t.pendingLanes);n!==0&&(Nc(t,n|1),vn(t,vt()),!($e&6)&&(go=vt()+500,ii()))}break;case 13:Di(function(){var r=jr(e,1);if(r!==null){var o=an();Gn(r,e,1,o)}}),df(e,1)}};Tc=function(e){if(e.tag===13){var t=jr(e,134217728);if(t!==null){var n=an();Gn(t,e,134217728,n)}df(e,134217728)}};lh=function(e){if(e.tag===13){var t=Jr(e),n=jr(e,t);if(n!==null){var r=an();Gn(n,e,t,r)}df(e,t)}};ah=function(){return Ye};sh=function(e,t){var n=Ye;try{return Ye=e,t()}finally{Ye=n}};Au=function(e,t,n){switch(t){case"input":if(Du(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=ss(r);if(!o)throw Error(ne(90));Bp(r),Du(r,o)}}}break;case"textarea":Kp(e,n);break;case"select":t=n.value,t!=null&&to(e,!!n.multiple,t,!1)}};Qp=af;Yp=Di;var Vy={usingClientEntryPoint:!1,Events:[Cl,qi,ss,Hp,qp,af]},Ro={findFiberByHostInstance:wi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Hy={bundleType:Ro.bundleType,version:Ro.version,rendererPackageName:Ro.rendererPackageName,rendererConfig:Ro.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ir.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Jp(e),e===null?null:e.stateNode},findFiberByHostInstance:Ro.findFiberByHostInstance||Uy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ca=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ca.isDisabled&&ca.supportsFiber)try{is=ca.inject(Hy),dr=ca}catch{}}In.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vy;In.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hf(t))throw Error(ne(200));return $y(e,t,null,n)};In.createRoot=function(e,t){if(!hf(e))throw Error(ne(299));var n=!1,r="",o=Og;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=ff(e,1,!1,null,null,n,!1,r,o),e[Er]=t.current,ul(e.nodeType===8?e.parentNode:e),new pf(t)};In.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ne(188)):(e=Object.keys(e).join(","),Error(ne(268,e)));return e=Jp(t),e=e===null?null:e.stateNode,e};In.flushSync=function(e){return Di(e)};In.hydrate=function(e,t,n){if(!vs(t))throw Error(ne(200));return ys(null,e,t,!0,n)};In.hydrateRoot=function(e,t,n){if(!hf(e))throw Error(ne(405));var r=n!=null&&n.hydratedSources||null,o=!1,a="",u=Og;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),t=Ig(t,null,e,1,n??null,o,!1,a,u),e[Er]=t.current,ul(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new ms(t)};In.render=function(e,t,n){if(!vs(t))throw Error(ne(200));return ys(null,e,t,!1,n)};In.unmountComponentAtNode=function(e){if(!vs(e))throw Error(ne(40));return e._reactRootContainer?(Di(function(){ys(null,null,e,!1,function(){e._reactRootContainer=null,e[Er]=null})}),!0):!1};In.unstable_batchedUpdates=af;In.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!vs(n))throw Error(ne(200));if(e==null||e._reactInternals===void 0)throw Error(ne(38));return ys(e,t,n,!1,r)};In.version="18.3.1-next-f1338f8080-20240426";function Pg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Pg)}catch(e){console.error(e)}}Pg(),Pp.exports=In;var eo=Pp.exports,Qd=eo;Su.createRoot=Qd.createRoot,Su.hydrateRoot=Qd.hydrateRoot;function qy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return I.useMemo(()=>r=>{t.forEach(o=>o(r))},t)}const ws=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function wo(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function gf(e){return"nodeType"in e}function yn(e){var t,n;return e?wo(e)?e:gf(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function mf(e){const{Document:t}=yn(e);return e instanceof t}function El(e){return wo(e)?!1:e instanceof yn(e).HTMLElement}function Ng(e){return e instanceof yn(e).SVGElement}function xo(e){return e?wo(e)?e.document:gf(e)?mf(e)?e:El(e)||Ng(e)?e.ownerDocument:document:document:document}const hr=ws?I.useLayoutEffect:I.useEffect;function vf(e){const t=I.useRef(e);return hr(()=>{t.current=e}),I.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function Qy(){const e=I.useRef(null),t=I.useCallback((r,o)=>{e.current=setInterval(r,o)},[]),n=I.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function yl(e,t){t===void 0&&(t=[e]);const n=I.useRef(e);return hr(()=>{n.current!==e&&(n.current=e)},t),n}function jl(e,t){const n=I.useRef();return I.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function Ja(e){const t=vf(e),n=I.useRef(null),r=I.useCallback(o=>{o!==n.current&&(t==null||t(o,n.current)),n.current=o},[]);return[n,r]}function hc(e){const t=I.useRef();return I.useEffect(()=>{t.current=e},[e]),t.current}let mu={};function Dl(e,t){return I.useMemo(()=>{if(t)return t;const n=mu[e]==null?0:mu[e]+1;return mu[e]=n,e+"-"+n},[e,t])}function Tg(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((a,u)=>{const f=Object.entries(u);for(const[p,g]of f){const C=a[p];C!=null&&(a[p]=C+e*g)}return a},{...t})}}const ao=Tg(1),Za=Tg(-1);function Yy(e){return"clientX"in e&&"clientY"in e}function yf(e){if(!e)return!1;const{KeyboardEvent:t}=yn(e.target);return t&&e instanceof t}function Xy(e){if(!e)return!1;const{TouchEvent:t}=yn(e.target);return t&&e instanceof t}function gc(e){if(Xy(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return Yy(e)?{x:e.clientX,y:e.clientY}:null}const wl=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[wl.Translate.toString(e),wl.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),Yd="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Gy(e){return e.matches(Yd)?e:e.querySelector(Yd)}const Jy={display:"none"};function Zy(e){let{id:t,value:n}=e;return ln.createElement("div",{id:t,style:Jy},n)}function e0(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ln.createElement("div",{id:t,style:o,role:"status","aria-live":r,"aria-atomic":!0},n)}function t0(){const[e,t]=I.useState("");return{announce:I.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const Rg=I.createContext(null);function n0(e){const t=I.useContext(Rg);I.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function r0(){const[e]=I.useState(()=>new Set),t=I.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[I.useCallback(r=>{let{type:o,event:a}=r;e.forEach(u=>{var f;return(f=u[o])==null?void 0:f.call(u,a)})},[e]),t]}const i0={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},o0={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function l0(e){let{announcements:t=o0,container:n,hiddenTextDescribedById:r,screenReaderInstructions:o=i0}=e;const{announce:a,announcement:u}=t0(),f=Dl("DndLiveRegion"),[p,g]=I.useState(!1);if(I.useEffect(()=>{g(!0)},[]),n0(I.useMemo(()=>({onDragStart(x){let{active:j}=x;a(t.onDragStart({active:j}))},onDragMove(x){let{active:j,over:z}=x;t.onDragMove&&a(t.onDragMove({active:j,over:z}))},onDragOver(x){let{active:j,over:z}=x;a(t.onDragOver({active:j,over:z}))},onDragEnd(x){let{active:j,over:z}=x;a(t.onDragEnd({active:j,over:z}))},onDragCancel(x){let{active:j,over:z}=x;a(t.onDragCancel({active:j,over:z}))}}),[a,t])),!p)return null;const C=ln.createElement(ln.Fragment,null,ln.createElement(Zy,{id:r,value:o.draggable}),ln.createElement(e0,{id:f,announcement:u}));return n?eo.createPortal(C,n):C}var Et;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Et||(Et={}));function es(){}const Zn=Object.freeze({x:0,y:0});function a0(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function s0(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function u0(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),u=o-r,f=a-n;if(r<o&&n<a){const p=t.width*t.height,g=e.width*e.height,C=u*f,x=C/(p+g-C);return Number(x.toFixed(4))}return 0}const c0=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=[];for(const a of r){const{id:u}=a,f=n.get(u);if(f){const p=u0(f,t);p>0&&o.push({id:u,data:{droppableContainer:a,value:p}})}}return o.sort(a0)};function f0(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function Ag(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Zn}function d0(e){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];return o.reduce((u,f)=>({...u,top:u.top+e*f.y,bottom:u.bottom+e*f.y,left:u.left+e*f.x,right:u.right+e*f.x}),{...n})}}const p0=d0(1);function h0(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function g0(e,t,n){const r=h0(t);if(!r)return e;const{scaleX:o,scaleY:a,x:u,y:f}=r,p=e.left-u-(1-o)*parseFloat(n),g=e.top-f-(1-a)*parseFloat(n.slice(n.indexOf(" ")+1)),C=o?e.width/o:e.width,x=a?e.height/a:e.height;return{width:C,height:x,top:g,right:p+C,bottom:g+x,left:p}}const m0={ignoreTransform:!1};function So(e,t){t===void 0&&(t=m0);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:g,transformOrigin:C}=yn(e).getComputedStyle(e);g&&(n=g0(n,g,C))}const{top:r,left:o,width:a,height:u,bottom:f,right:p}=n;return{top:r,left:o,width:a,height:u,bottom:f,right:p}}function Xd(e){return So(e,{ignoreTransform:!0})}function v0(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function y0(e,t){return t===void 0&&(t=yn(e).getComputedStyle(e)),t.position==="fixed"}function w0(e,t){t===void 0&&(t=yn(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const a=t[o];return typeof a=="string"?n.test(a):!1})}function wf(e,t){const n=[];function r(o){if(t!=null&&n.length>=t||!o)return n;if(mf(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!El(o)||Ng(o)||n.includes(o))return n;const a=yn(e).getComputedStyle(o);return o!==e&&w0(o,a)&&n.push(o),y0(o,a)?n:r(o.parentNode)}return e?r(e):n}function Mg(e){const[t]=wf(e,1);return t??null}function vu(e){return!ws||!e?null:wo(e)?e:gf(e)?mf(e)||e===xo(e).scrollingElement?window:El(e)?e:null:null}function Lg(e){return wo(e)?e.scrollX:e.scrollLeft}function zg(e){return wo(e)?e.scrollY:e.scrollTop}function mc(e){return{x:Lg(e),y:zg(e)}}var Tt;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Tt||(Tt={}));function Bg(e){return!ws||!e?!1:e===document.scrollingElement}function Fg(e){const t={x:0,y:0},n=Bg(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},o=e.scrollTop<=t.y,a=e.scrollLeft<=t.x,u=e.scrollTop>=r.y,f=e.scrollLeft>=r.x;return{isTop:o,isLeft:a,isBottom:u,isRight:f,maxScroll:r,minScroll:t}}const x0={x:.2,y:.2};function S0(e,t,n,r,o){let{top:a,left:u,right:f,bottom:p}=n;r===void 0&&(r=10),o===void 0&&(o=x0);const{isTop:g,isBottom:C,isLeft:x,isRight:j}=Fg(e),z={x:0,y:0},F={x:0,y:0},$={height:t.height*o.y,width:t.width*o.x};return!g&&a<=t.top+$.height?(z.y=Tt.Backward,F.y=r*Math.abs((t.top+$.height-a)/$.height)):!C&&p>=t.bottom-$.height&&(z.y=Tt.Forward,F.y=r*Math.abs((t.bottom-$.height-p)/$.height)),!j&&f>=t.right-$.width?(z.x=Tt.Forward,F.x=r*Math.abs((t.right-$.width-f)/$.width)):!x&&u<=t.left+$.width&&(z.x=Tt.Backward,F.x=r*Math.abs((t.left+$.width-u)/$.width)),{direction:z,speed:F}}function b0(e){if(e===document.scrollingElement){const{innerWidth:a,innerHeight:u}=window;return{top:0,left:0,right:a,bottom:u,width:a,height:u}}const{top:t,left:n,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function Kg(e){return e.reduce((t,n)=>ao(t,mc(n)),Zn)}function k0(e){return e.reduce((t,n)=>t+Lg(n),0)}function C0(e){return e.reduce((t,n)=>t+zg(n),0)}function _0(e,t){if(t===void 0&&(t=So),!e)return;const{top:n,left:r,bottom:o,right:a}=t(e);Mg(e)&&(o<=0||a<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const E0=[["x",["left","right"],k0],["y",["top","bottom"],C0]];class xf{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=wf(n),o=Kg(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[a,u,f]of E0)for(const p of u)Object.defineProperty(this,p,{get:()=>{const g=f(r),C=o[a]-g;return this.rect[p]+C},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Jo{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var o;(o=this.target)==null||o.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function j0(e){const{EventTarget:t}=yn(e);return e instanceof t?e:xo(e)}function yu(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var Tn;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Tn||(Tn={}));function Gd(e){e.preventDefault()}function D0(e){e.stopPropagation()}var Qe;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Qe||(Qe={}));const $g={start:[Qe.Space,Qe.Enter],cancel:[Qe.Esc],end:[Qe.Space,Qe.Enter,Qe.Tab]},I0=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Qe.Right:return{...n,x:n.x+25};case Qe.Left:return{...n,x:n.x-25};case Qe.Down:return{...n,y:n.y+25};case Qe.Up:return{...n,y:n.y-25}}};class Ug{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Jo(xo(n)),this.windowListeners=new Jo(yn(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Tn.Resize,this.handleCancel),this.windowListeners.add(Tn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Tn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&_0(r),n(Zn)}handleKeyDown(t){if(yf(t)){const{active:n,context:r,options:o}=this.props,{keyboardCodes:a=$g,coordinateGetter:u=I0,scrollBehavior:f="smooth"}=o,{code:p}=t;if(a.end.includes(p)){this.handleEnd(t);return}if(a.cancel.includes(p)){this.handleCancel(t);return}const{collisionRect:g}=r.current,C=g?{x:g.left,y:g.top}:Zn;this.referenceCoordinates||(this.referenceCoordinates=C);const x=u(t,{active:n,context:r.current,currentCoordinates:C});if(x){const j=Za(x,C),z={x:0,y:0},{scrollableAncestors:F}=r.current;for(const $ of F){const Y=t.code,{isTop:k,isRight:y,isLeft:_,isBottom:K,maxScroll:J,minScroll:G}=Fg($),q=b0($),ee={x:Math.min(Y===Qe.Right?q.right-q.width/2:q.right,Math.max(Y===Qe.Right?q.left:q.left+q.width/2,x.x)),y:Math.min(Y===Qe.Down?q.bottom-q.height/2:q.bottom,Math.max(Y===Qe.Down?q.top:q.top+q.height/2,x.y))},Ce=Y===Qe.Right&&!y||Y===Qe.Left&&!_,ve=Y===Qe.Down&&!K||Y===Qe.Up&&!k;if(Ce&&ee.x!==x.x){const H=$.scrollLeft+j.x,pe=Y===Qe.Right&&H<=J.x||Y===Qe.Left&&H>=G.x;if(pe&&!j.y){$.scrollTo({left:H,behavior:f});return}pe?z.x=$.scrollLeft-H:z.x=Y===Qe.Right?$.scrollLeft-J.x:$.scrollLeft-G.x,z.x&&$.scrollBy({left:-z.x,behavior:f});break}else if(ve&&ee.y!==x.y){const H=$.scrollTop+j.y,pe=Y===Qe.Down&&H<=J.y||Y===Qe.Up&&H>=G.y;if(pe&&!j.x){$.scrollTo({top:H,behavior:f});return}pe?z.y=$.scrollTop-H:z.y=Y===Qe.Down?$.scrollTop-J.y:$.scrollTop-G.y,z.y&&$.scrollBy({top:-z.y,behavior:f});break}}this.handleMove(t,ao(Za(x,this.referenceCoordinates),z))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Ug.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=$g,onActivation:o}=t,{active:a}=n;const{code:u}=e.nativeEvent;if(r.start.includes(u)){const f=a.activatorNode.current;return f&&e.target!==f?!1:(e.preventDefault(),o==null||o({event:e.nativeEvent}),!0)}return!1}}];function Jd(e){return!!(e&&"distance"in e)}function Zd(e){return!!(e&&"delay"in e)}class Sf{constructor(t,n,r){var o;r===void 0&&(r=j0(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:a}=t,{target:u}=a;this.props=t,this.events=n,this.document=xo(u),this.documentListeners=new Jo(this.document),this.listeners=new Jo(r),this.windowListeners=new Jo(yn(u)),this.initialCoordinates=(o=gc(a))!=null?o:Zn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Tn.Resize,this.handleCancel),this.windowListeners.add(Tn.DragStart,Gd),this.windowListeners.add(Tn.VisibilityChange,this.handleCancel),this.windowListeners.add(Tn.ContextMenu,Gd),this.documentListeners.add(Tn.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Zd(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(Jd(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:o}=this.props;o(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Tn.Click,D0,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Tn.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:o,props:a}=this,{onMove:u,options:{activationConstraint:f}}=a;if(!o)return;const p=(n=gc(t))!=null?n:Zn,g=Za(o,p);if(!r&&f){if(Jd(f)){if(f.tolerance!=null&&yu(g,f.tolerance))return this.handleCancel();if(yu(g,f.distance))return this.handleStart()}if(Zd(f)&&yu(g,f.tolerance))return this.handleCancel();this.handlePending(f,g);return}t.cancelable&&t.preventDefault(),u(p)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===Qe.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const O0={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Wg extends Sf{constructor(t){const{event:n}=t,r=xo(n.target);super(t,O0,r)}}Wg.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const P0={move:{name:"mousemove"},end:{name:"mouseup"}};var vc;(function(e){e[e.RightClick=2]="RightClick"})(vc||(vc={}));class N0 extends Sf{constructor(t){super(t,P0,xo(t.event.target))}}N0.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===vc.RightClick?!1:(r==null||r({event:n}),!0)}}];const wu={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class T0 extends Sf{constructor(t){super(t,wu)}static setup(){return window.addEventListener(wu.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(wu.move.name,t)};function t(){}}}T0.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:o}=n;return o.length>1?!1:(r==null||r({event:n}),!0)}}];var Zo;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Zo||(Zo={}));var ts;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(ts||(ts={}));function R0(e){let{acceleration:t,activator:n=Zo.Pointer,canScroll:r,draggingRect:o,enabled:a,interval:u=5,order:f=ts.TreeOrder,pointerCoordinates:p,scrollableAncestors:g,scrollableAncestorRects:C,delta:x,threshold:j}=e;const z=M0({delta:x,disabled:!a}),[F,$]=Qy(),Y=I.useRef({x:0,y:0}),k=I.useRef({x:0,y:0}),y=I.useMemo(()=>{switch(n){case Zo.Pointer:return p?{top:p.y,bottom:p.y,left:p.x,right:p.x}:null;case Zo.DraggableRect:return o}},[n,o,p]),_=I.useRef(null),K=I.useCallback(()=>{const G=_.current;if(!G)return;const q=Y.current.x*k.current.x,ee=Y.current.y*k.current.y;G.scrollBy(q,ee)},[]),J=I.useMemo(()=>f===ts.TreeOrder?[...g].reverse():g,[f,g]);I.useEffect(()=>{if(!a||!g.length||!y){$();return}for(const G of J){if((r==null?void 0:r(G))===!1)continue;const q=g.indexOf(G),ee=C[q];if(!ee)continue;const{direction:Ce,speed:ve}=S0(G,ee,y,t,j);for(const H of["x","y"])z[H][Ce[H]]||(ve[H]=0,Ce[H]=0);if(ve.x>0||ve.y>0){$(),_.current=G,F(K,u),Y.current=ve,k.current=Ce;return}}Y.current={x:0,y:0},k.current={x:0,y:0},$()},[t,K,r,$,a,u,JSON.stringify(y),JSON.stringify(z),F,g,J,C,JSON.stringify(j)])}const A0={x:{[Tt.Backward]:!1,[Tt.Forward]:!1},y:{[Tt.Backward]:!1,[Tt.Forward]:!1}};function M0(e){let{delta:t,disabled:n}=e;const r=hc(t);return jl(o=>{if(n||!r||!o)return A0;const a={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Tt.Backward]:o.x[Tt.Backward]||a.x===-1,[Tt.Forward]:o.x[Tt.Forward]||a.x===1},y:{[Tt.Backward]:o.y[Tt.Backward]||a.y===-1,[Tt.Forward]:o.y[Tt.Forward]||a.y===1}}},[n,t,r])}function L0(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return jl(o=>{var a;return t==null?null:(a=r??o)!=null?a:null},[r,t])}function z0(e,t){return I.useMemo(()=>e.reduce((n,r)=>{const{sensor:o}=r,a=o.activators.map(u=>({eventName:u.eventName,handler:t(u.handler,r)}));return[...n,...a]},[]),[e,t])}var xl;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(xl||(xl={}));var yc;(function(e){e.Optimized="optimized"})(yc||(yc={}));const ep=new Map;function B0(e,t){let{dragging:n,dependencies:r,config:o}=t;const[a,u]=I.useState(null),{frequency:f,measure:p,strategy:g}=o,C=I.useRef(e),x=Y(),j=yl(x),z=I.useCallback(function(k){k===void 0&&(k=[]),!j.current&&u(y=>y===null?k:y.concat(k.filter(_=>!y.includes(_))))},[j]),F=I.useRef(null),$=jl(k=>{if(x&&!n)return ep;if(!k||k===ep||C.current!==e||a!=null){const y=new Map;for(let _ of e){if(!_)continue;if(a&&a.length>0&&!a.includes(_.id)&&_.rect.current){y.set(_.id,_.rect.current);continue}const K=_.node.current,J=K?new xf(p(K),K):null;_.rect.current=J,J&&y.set(_.id,J)}return y}return k},[e,a,n,x,p]);return I.useEffect(()=>{C.current=e},[e]),I.useEffect(()=>{x||z()},[n,x]),I.useEffect(()=>{a&&a.length>0&&u(null)},[JSON.stringify(a)]),I.useEffect(()=>{x||typeof f!="number"||F.current!==null||(F.current=setTimeout(()=>{z(),F.current=null},f))},[f,x,z,...r]),{droppableRects:$,measureDroppableContainers:z,measuringScheduled:a!=null};function Y(){switch(g){case xl.Always:return!1;case xl.BeforeDragging:return n;default:return!n}}}function Vg(e,t){return jl(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function F0(e,t){return Vg(e,t)}function K0(e){let{callback:t,disabled:n}=e;const r=vf(t),o=I.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(r)},[r,n]);return I.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function xs(e){let{callback:t,disabled:n}=e;const r=vf(t),o=I.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(r)},[n]);return I.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function $0(e){return new xf(So(e),e)}function tp(e,t,n){t===void 0&&(t=$0);const[r,o]=I.useState(null);function a(){o(p=>{if(!e)return null;if(e.isConnected===!1){var g;return(g=p??n)!=null?g:null}const C=t(e);return JSON.stringify(p)===JSON.stringify(C)?p:C})}const u=K0({callback(p){if(e)for(const g of p){const{type:C,target:x}=g;if(C==="childList"&&x instanceof HTMLElement&&x.contains(e)){a();break}}}}),f=xs({callback:a});return hr(()=>{a(),e?(f==null||f.observe(e),u==null||u.observe(document.body,{childList:!0,subtree:!0})):(f==null||f.disconnect(),u==null||u.disconnect())},[e]),r}function U0(e){const t=Vg(e);return Ag(e,t)}const np=[];function W0(e){const t=I.useRef(e),n=jl(r=>e?r&&r!==np&&e&&t.current&&e.parentNode===t.current.parentNode?r:wf(e):np,[e]);return I.useEffect(()=>{t.current=e},[e]),n}function V0(e){const[t,n]=I.useState(null),r=I.useRef(e),o=I.useCallback(a=>{const u=vu(a.target);u&&n(f=>f?(f.set(u,mc(u)),new Map(f)):null)},[]);return I.useEffect(()=>{const a=r.current;if(e!==a){u(a);const f=e.map(p=>{const g=vu(p);return g?(g.addEventListener("scroll",o,{passive:!0}),[g,mc(g)]):null}).filter(p=>p!=null);n(f.length?new Map(f):null),r.current=e}return()=>{u(e),u(a)};function u(f){f.forEach(p=>{const g=vu(p);g==null||g.removeEventListener("scroll",o)})}},[o,e]),I.useMemo(()=>e.length?t?Array.from(t.values()).reduce((a,u)=>ao(a,u),Zn):Kg(e):Zn,[e,t])}function rp(e,t){t===void 0&&(t=[]);const n=I.useRef(null);return I.useEffect(()=>{n.current=null},t),I.useEffect(()=>{const r=e!==Zn;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?Za(e,n.current):Zn}function H0(e){I.useEffect(()=>{if(!ws)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function q0(e,t){return I.useMemo(()=>e.reduce((n,r)=>{let{eventName:o,handler:a}=r;return n[o]=u=>{a(u,t)},n},{}),[e,t])}function Hg(e){return I.useMemo(()=>e?v0(e):null,[e])}const ip=[];function Q0(e,t){t===void 0&&(t=So);const[n]=e,r=Hg(n?yn(n):null),[o,a]=I.useState(ip);function u(){a(()=>e.length?e.map(p=>Bg(p)?r:new xf(t(p),p)):ip)}const f=xs({callback:u});return hr(()=>{f==null||f.disconnect(),u(),e.forEach(p=>f==null?void 0:f.observe(p))},[e]),o}function Y0(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return El(t)?t:e}function X0(e){let{measure:t}=e;const[n,r]=I.useState(null),o=I.useCallback(g=>{for(const{target:C}of g)if(El(C)){r(x=>{const j=t(C);return x?{...x,width:j.width,height:j.height}:j});break}},[t]),a=xs({callback:o}),u=I.useCallback(g=>{const C=Y0(g);a==null||a.disconnect(),C&&(a==null||a.observe(C)),r(C?t(C):null)},[t,a]),[f,p]=Ja(u);return I.useMemo(()=>({nodeRef:f,rect:n,setRef:p}),[n,f,p])}const G0=[{sensor:Wg,options:{}},{sensor:Ug,options:{}}],J0={current:{}},Ea={draggable:{measure:Xd},droppable:{measure:Xd,strategy:xl.WhileDragging,frequency:yc.Optimized},dragOverlay:{measure:So}};class el extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const Z0={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new el,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:es},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Ea,measureDroppableContainers:es,windowRect:null,measuringScheduled:!1},ew={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:es,draggableNodes:new Map,over:null,measureDroppableContainers:es},Ss=I.createContext(ew),qg=I.createContext(Z0);function tw(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new el}}}function nw(e,t){switch(t.type){case Et.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Et.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Et.DragEnd:case Et.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Et.RegisterDroppable:{const{element:n}=t,{id:r}=n,o=new el(e.droppable.containers);return o.set(r,n),{...e,droppable:{...e.droppable,containers:o}}}case Et.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=t,a=e.droppable.containers.get(n);if(!a||r!==a.key)return e;const u=new el(e.droppable.containers);return u.set(n,{...a,disabled:o}),{...e,droppable:{...e.droppable,containers:u}}}case Et.UnregisterDroppable:{const{id:n,key:r}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const a=new el(e.droppable.containers);return a.delete(n),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function rw(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:o}=I.useContext(Ss),a=hc(r),u=hc(n==null?void 0:n.id);return I.useEffect(()=>{if(!t&&!r&&a&&u!=null){if(!yf(a)||document.activeElement===a.target)return;const f=o.get(u);if(!f)return;const{activatorNode:p,node:g}=f;if(!p.current&&!g.current)return;requestAnimationFrame(()=>{for(const C of[p.current,g.current]){if(!C)continue;const x=Gy(C);if(x){x.focus();break}}})}},[r,t,o,u,a]),null}function iw(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((o,a)=>a({transform:o,...r}),n):n}function ow(e){return I.useMemo(()=>({draggable:{...Ea.draggable,...e==null?void 0:e.draggable},droppable:{...Ea.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Ea.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function lw(e){let{activeNode:t,measure:n,initialRect:r,config:o=!0}=e;const a=I.useRef(!1),{x:u,y:f}=typeof o=="boolean"?{x:o,y:o}:o;hr(()=>{if(!u&&!f||!t){a.current=!1;return}if(a.current||!r)return;const g=t==null?void 0:t.node.current;if(!g||g.isConnected===!1)return;const C=n(g),x=Ag(C,r);if(u||(x.x=0),f||(x.y=0),a.current=!0,Math.abs(x.x)>0||Math.abs(x.y)>0){const j=Mg(g);j&&j.scrollBy({top:x.y,left:x.x})}},[t,u,f,r,n])}const Qg=I.createContext({...Zn,scaleX:1,scaleY:1});var Fr;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Fr||(Fr={}));const Yg=I.memo(function(t){var n,r,o,a;let{id:u,accessibility:f,autoScroll:p=!0,children:g,sensors:C=G0,collisionDetection:x=c0,measuring:j,modifiers:z,...F}=t;const $=I.useReducer(nw,void 0,tw),[Y,k]=$,[y,_]=r0(),[K,J]=I.useState(Fr.Uninitialized),G=K===Fr.Initialized,{draggable:{active:q,nodes:ee,translate:Ce},droppable:{containers:ve}}=Y,H=q!=null?ee.get(q):null,pe=I.useRef({initial:null,translated:null}),Z=I.useMemo(()=>{var Xe;return q!=null?{id:q,data:(Xe=H==null?void 0:H.data)!=null?Xe:J0,rect:pe}:null},[q,H]),xe=I.useRef(null),[Ue,be]=I.useState(null),[Pe,X]=I.useState(null),ue=yl(F,Object.values(F)),fe=Dl("DndDescribedBy",u),_e=I.useMemo(()=>ve.getEnabled(),[ve]),Ee=ow(j),{droppableRects:ke,measureDroppableContainers:Se,measuringScheduled:ze}=B0(_e,{dragging:G,dependencies:[Ce.x,Ce.y],config:Ee.droppable}),Re=L0(ee,q),St=I.useMemo(()=>Pe?gc(Pe):null,[Pe]),Ve=Pr(),ae=F0(Re,Ee.draggable.measure);lw({activeNode:q!=null?ee.get(q):null,config:Ve.layoutShiftCompensation,initialRect:ae,measure:Ee.draggable.measure});const Ne=tp(Re,Ee.draggable.measure,ae),Be=tp(Re?Re.parentElement:null),we=I.useRef({activatorEvent:null,active:null,activeNode:Re,collisionRect:null,collisions:null,droppableRects:ke,draggableNodes:ee,draggingNode:null,draggingNodeRect:null,droppableContainers:ve,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),yt=ve.getNodeFor((n=we.current.over)==null?void 0:n.id),dt=X0({measure:Ee.dragOverlay.measure}),He=(r=dt.nodeRef.current)!=null?r:Re,At=G?(o=dt.rect)!=null?o:Ne:null,Pi=!!(dt.nodeRef.current&&dt.rect),oi=U0(Pi?null:Ne),pt=Hg(He?yn(He):null),Gt=W0(G?yt??Re:null),st=Q0(Gt),wn=iw(z,{transform:{x:Ce.x-oi.x,y:Ce.y-oi.y,scaleX:1,scaleY:1},activatorEvent:Pe,active:Z,activeNodeRect:Ne,containerNodeRect:Be,draggingNodeRect:At,over:we.current.over,overlayNodeRect:dt.rect,scrollableAncestors:Gt,scrollableAncestorRects:st,windowRect:pt}),Fn=St?ao(St,Ce):null,xn=V0(Gt),Jt=rp(xn),$t=rp(xn,[Ne]),bt=ao(wn,Jt),cn=At?p0(At,wn):null,Zt=Z&&cn?x({active:Z,collisionRect:cn,droppableRects:ke,droppableContainers:_e,pointerCoordinates:Fn}):null,Dt=s0(Zt,"id"),[kt,It]=I.useState(null),Kn=Pi?wn:ao(wn,$t),Or=f0(Kn,(a=kt==null?void 0:kt.rect)!=null?a:null,Ne),Ct=I.useRef(null),he=I.useCallback((Xe,wt)=>{let{sensor:Ge,options:Mt}=wt;if(xe.current==null)return;const ot=ee.get(xe.current);if(!ot)return;const Lt=Xe.nativeEvent,lt=new Ge({active:xe.current,activeNode:ot,event:Lt,options:Mt,context:we,onAbort(Ze){if(!ee.get(Ze))return;const{onDragAbort:Te}=ue.current,qe={id:Ze};Te==null||Te(qe),y({type:"onDragAbort",event:qe})},onPending(Ze,tn,Te,qe){if(!ee.get(Ze))return;const{onDragPending:Pn}=ue.current,Ut={id:Ze,constraint:tn,initialCoordinates:Te,offset:qe};Pn==null||Pn(Ut),y({type:"onDragPending",event:Ut})},onStart(Ze){const tn=xe.current;if(tn==null)return;const Te=ee.get(tn);if(!Te)return;const{onDragStart:qe}=ue.current,gr={activatorEvent:Lt,active:{id:tn,data:Te.data,rect:pe}};eo.unstable_batchedUpdates(()=>{qe==null||qe(gr),J(Fr.Initializing),k({type:Et.DragStart,initialCoordinates:Ze,active:tn}),y({type:"onDragStart",event:gr}),be(Ct.current),X(Lt)})},onMove(Ze){k({type:Et.DragMove,coordinates:Ze})},onEnd:en(Et.DragEnd),onCancel:en(Et.DragCancel)});Ct.current=lt;function en(Ze){return async function(){const{active:Te,collisions:qe,over:gr,scrollAdjustedTranslate:Pn}=we.current;let Ut=null;if(Te&&Pn){const{cancelDrop:kn}=ue.current;Ut={activatorEvent:Lt,active:Te,collisions:qe,delta:Pn,over:gr},Ze===Et.DragEnd&&typeof kn=="function"&&await Promise.resolve(kn(Ut))&&(Ze=Et.DragCancel)}xe.current=null,eo.unstable_batchedUpdates(()=>{k({type:Ze}),J(Fr.Uninitialized),It(null),be(null),X(null),Ct.current=null;const kn=Ze===Et.DragEnd?"onDragEnd":"onDragCancel";if(Ut){const Nr=ue.current[kn];Nr==null||Nr(Ut),y({type:kn,event:Ut})}})}}},[ee]),Sn=I.useCallback((Xe,wt)=>(Ge,Mt)=>{const ot=Ge.nativeEvent,Lt=ee.get(Mt);if(xe.current!==null||!Lt||ot.dndKit||ot.defaultPrevented)return;const lt={active:Lt};Xe(Ge,wt.options,lt)===!0&&(ot.dndKit={capturedBy:wt.sensor},xe.current=Mt,he(Ge,wt))},[ee,he]),bn=z0(C,Sn);H0(C),hr(()=>{Ne&&K===Fr.Initializing&&J(Fr.Initialized)},[Ne,K]),I.useEffect(()=>{const{onDragMove:Xe}=ue.current,{active:wt,activatorEvent:Ge,collisions:Mt,over:ot}=we.current;if(!wt||!Ge)return;const Lt={active:wt,activatorEvent:Ge,collisions:Mt,delta:{x:bt.x,y:bt.y},over:ot};eo.unstable_batchedUpdates(()=>{Xe==null||Xe(Lt),y({type:"onDragMove",event:Lt})})},[bt.x,bt.y]),I.useEffect(()=>{const{active:Xe,activatorEvent:wt,collisions:Ge,droppableContainers:Mt,scrollAdjustedTranslate:ot}=we.current;if(!Xe||xe.current==null||!wt||!ot)return;const{onDragOver:Lt}=ue.current,lt=Mt.get(Dt),en=lt&&lt.rect.current?{id:lt.id,rect:lt.rect.current,data:lt.data,disabled:lt.disabled}:null,Ze={active:Xe,activatorEvent:wt,collisions:Ge,delta:{x:ot.x,y:ot.y},over:en};eo.unstable_batchedUpdates(()=>{It(en),Lt==null||Lt(Ze),y({type:"onDragOver",event:Ze})})},[Dt]),hr(()=>{we.current={activatorEvent:Pe,active:Z,activeNode:Re,collisionRect:cn,collisions:Zt,droppableRects:ke,draggableNodes:ee,draggingNode:He,draggingNodeRect:At,droppableContainers:ve,over:kt,scrollableAncestors:Gt,scrollAdjustedTranslate:bt},pe.current={initial:At,translated:cn}},[Z,Re,Zt,cn,ee,He,At,ke,ve,kt,Gt,bt]),R0({...Ve,delta:Ce,draggingRect:cn,pointerCoordinates:Fn,scrollableAncestors:Gt,scrollableAncestorRects:st});const tt=I.useMemo(()=>({active:Z,activeNode:Re,activeNodeRect:Ne,activatorEvent:Pe,collisions:Zt,containerNodeRect:Be,dragOverlay:dt,draggableNodes:ee,droppableContainers:ve,droppableRects:ke,over:kt,measureDroppableContainers:Se,scrollableAncestors:Gt,scrollableAncestorRects:st,measuringConfiguration:Ee,measuringScheduled:ze,windowRect:pt}),[Z,Re,Ne,Pe,Zt,Be,dt,ee,ve,ke,kt,Se,Gt,st,Ee,ze,pt]),le=I.useMemo(()=>({activatorEvent:Pe,activators:bn,active:Z,activeNodeRect:Ne,ariaDescribedById:{draggable:fe},dispatch:k,draggableNodes:ee,over:kt,measureDroppableContainers:Se}),[Pe,bn,Z,Ne,k,fe,ee,kt,Se]);return ln.createElement(Rg.Provider,{value:_},ln.createElement(Ss.Provider,{value:le},ln.createElement(qg.Provider,{value:tt},ln.createElement(Qg.Provider,{value:Or},g)),ln.createElement(rw,{disabled:(f==null?void 0:f.restoreFocus)===!1})),ln.createElement(l0,{...f,hiddenTextDescribedById:fe}));function Pr(){const Xe=(Ue==null?void 0:Ue.autoScrollEnabled)===!1,wt=typeof p=="object"?p.enabled===!1:p===!1,Ge=G&&!Xe&&!wt;return typeof p=="object"?{...p,enabled:Ge}:{enabled:Ge}}}),aw=I.createContext(null),op="button",sw="Draggable";function uw(e){let{id:t,data:n,disabled:r=!1,attributes:o}=e;const a=Dl(sw),{activators:u,activatorEvent:f,active:p,activeNodeRect:g,ariaDescribedById:C,draggableNodes:x,over:j}=I.useContext(Ss),{role:z=op,roleDescription:F="draggable",tabIndex:$=0}=o??{},Y=(p==null?void 0:p.id)===t,k=I.useContext(Y?Qg:aw),[y,_]=Ja(),[K,J]=Ja(),G=q0(u,t),q=yl(n);hr(()=>(x.set(t,{id:t,key:a,node:y,activatorNode:K,data:q}),()=>{const Ce=x.get(t);Ce&&Ce.key===a&&x.delete(t)}),[x,t]);const ee=I.useMemo(()=>({role:z,tabIndex:$,"aria-disabled":r,"aria-pressed":Y&&z===op?!0:void 0,"aria-roledescription":F,"aria-describedby":C.draggable}),[r,z,$,Y,F,C.draggable]);return{active:p,activatorEvent:f,activeNodeRect:g,attributes:ee,isDragging:Y,listeners:r?void 0:G,node:y,over:j,setNodeRef:_,setActivatorNodeRef:J,transform:k}}function cw(){return I.useContext(qg)}const fw="Droppable",dw={timeout:25};function bf(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:o}=e;const a=Dl(fw),{active:u,dispatch:f,over:p,measureDroppableContainers:g}=I.useContext(Ss),C=I.useRef({disabled:n}),x=I.useRef(!1),j=I.useRef(null),z=I.useRef(null),{disabled:F,updateMeasurementsFor:$,timeout:Y}={...dw,...o},k=yl($??r),y=I.useCallback(()=>{if(!x.current){x.current=!0;return}z.current!=null&&clearTimeout(z.current),z.current=setTimeout(()=>{g(Array.isArray(k.current)?k.current:[k.current]),z.current=null},Y)},[Y]),_=xs({callback:y,disabled:F||!u}),K=I.useCallback((ee,Ce)=>{_&&(Ce&&(_.unobserve(Ce),x.current=!1),ee&&_.observe(ee))},[_]),[J,G]=Ja(K),q=yl(t);return I.useEffect(()=>{!_||!J.current||(_.disconnect(),x.current=!1,_.observe(J.current))},[J,_]),I.useEffect(()=>(f({type:Et.RegisterDroppable,element:{id:r,key:a,disabled:n,node:J,rect:j,data:q}}),()=>f({type:Et.UnregisterDroppable,key:a,id:r})),[r]),I.useEffect(()=>{n!==C.current.disabled&&(f({type:Et.SetDroppableDisabled,id:r,key:a,disabled:n}),C.current.disabled=n)},[r,a,n,f]),{active:u,rect:j,isOver:(p==null?void 0:p.id)===r,node:J,over:p,setNodeRef:G}}function kf(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function pw(e,t){return e.reduce((n,r,o)=>{const a=t.get(r);return a&&(n[o]=a),n},Array(e.length))}function fa(e){return e!==null&&e>=0}function hw(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function gw(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Xg=e=>{let{rects:t,activeIndex:n,overIndex:r,index:o}=e;const a=kf(t,r,n),u=t[o],f=a[o];return!f||!u?null:{x:f.left-u.left,y:f.top-u.top,scaleX:f.width/u.width,scaleY:f.height/u.height}},da={scaleX:1,scaleY:1},Bo=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:o,rects:a,overIndex:u}=e;const f=(t=a[n])!=null?t:r;if(!f)return null;if(o===n){const g=a[u];return g?{x:0,y:n<u?g.top+g.height-(f.top+f.height):g.top-f.top,...da}:null}const p=mw(a,o,n);return o>n&&o<=u?{x:0,y:-f.height-p,...da}:o<n&&o>=u?{x:0,y:f.height+p,...da}:{x:0,y:0,...da}};function mw(e,t,n){const r=e[t],o=e[t-1],a=e[t+1];return r?n<t?o?r.top-(o.top+o.height):a?a.top-(r.top+r.height):0:a?a.top-(r.top+r.height):o?r.top-(o.top+o.height):0:0}const Gg="Sortable",Jg=ln.createContext({activeIndex:-1,containerId:Gg,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Xg,disabled:{draggable:!1,droppable:!1}});function Fo(e){let{children:t,id:n,items:r,strategy:o=Xg,disabled:a=!1}=e;const{active:u,dragOverlay:f,droppableRects:p,over:g,measureDroppableContainers:C}=cw(),x=Dl(Gg,n),j=f.rect!==null,z=I.useMemo(()=>r.map(G=>typeof G=="object"&&"id"in G?G.id:G),[r]),F=u!=null,$=u?z.indexOf(u.id):-1,Y=g?z.indexOf(g.id):-1,k=I.useRef(z),y=!hw(z,k.current),_=Y!==-1&&$===-1||y,K=gw(a);hr(()=>{y&&F&&C(z)},[y,z,F,C]),I.useEffect(()=>{k.current=z},[z]);const J=I.useMemo(()=>({activeIndex:$,containerId:x,disabled:K,disableTransforms:_,items:z,overIndex:Y,useDragOverlay:j,sortedRects:pw(z,p),strategy:o}),[$,x,K.draggable,K.droppable,_,z,Y,p,j,o]);return ln.createElement(Jg.Provider,{value:J},t)}const vw=e=>{let{id:t,items:n,activeIndex:r,overIndex:o}=e;return kf(n,r,o).indexOf(t)},yw=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:o,items:a,newIndex:u,previousItems:f,previousContainerId:p,transition:g}=e;return!g||!r||f!==a&&o===u?!1:n?!0:u!==o&&t===p},ww={duration:200,easing:"ease"},Zg="transform",xw=wl.Transition.toString({property:Zg,duration:0,easing:"linear"}),Sw={roleDescription:"sortable"};function bw(e){let{disabled:t,index:n,node:r,rect:o}=e;const[a,u]=I.useState(null),f=I.useRef(n);return hr(()=>{if(!t&&n!==f.current&&r.current){const p=o.current;if(p){const g=So(r.current,{ignoreTransform:!0}),C={x:p.left-g.left,y:p.top-g.top,scaleX:p.width/g.width,scaleY:p.height/g.height};(C.x||C.y)&&u(C)}}n!==f.current&&(f.current=n)},[t,n,r,o]),I.useEffect(()=>{a&&u(null)},[a]),a}function kw(e){let{animateLayoutChanges:t=yw,attributes:n,disabled:r,data:o,getNewIndex:a=vw,id:u,strategy:f,resizeObserverConfig:p,transition:g=ww}=e;const{items:C,containerId:x,activeIndex:j,disabled:z,disableTransforms:F,sortedRects:$,overIndex:Y,useDragOverlay:k,strategy:y}=I.useContext(Jg),_=Cw(r,z),K=C.indexOf(u),J=I.useMemo(()=>({sortable:{containerId:x,index:K,items:C},...o}),[x,o,K,C]),G=I.useMemo(()=>C.slice(C.indexOf(u)),[C,u]),{rect:q,node:ee,isOver:Ce,setNodeRef:ve}=bf({id:u,data:J,disabled:_.droppable,resizeObserverConfig:{updateMeasurementsFor:G,...p}}),{active:H,activatorEvent:pe,activeNodeRect:Z,attributes:xe,setNodeRef:Ue,listeners:be,isDragging:Pe,over:X,setActivatorNodeRef:ue,transform:fe}=uw({id:u,data:J,attributes:{...Sw,...n},disabled:_.draggable}),_e=qy(ve,Ue),Ee=!!H,ke=Ee&&!F&&fa(j)&&fa(Y),Se=!k&&Pe,ze=Se&&ke?fe:null,St=ke?ze??(f??y)({rects:$,activeNodeRect:Z,activeIndex:j,overIndex:Y,index:K}):null,Ve=fa(j)&&fa(Y)?a({id:u,items:C,activeIndex:j,overIndex:Y}):K,ae=H==null?void 0:H.id,Ne=I.useRef({activeId:ae,items:C,newIndex:Ve,containerId:x}),Be=C!==Ne.current.items,we=t({active:H,containerId:x,isDragging:Pe,isSorting:Ee,id:u,index:K,items:C,newIndex:Ne.current.newIndex,previousItems:Ne.current.items,previousContainerId:Ne.current.containerId,transition:g,wasDragging:Ne.current.activeId!=null}),yt=bw({disabled:!we,index:K,node:ee,rect:q});return I.useEffect(()=>{Ee&&Ne.current.newIndex!==Ve&&(Ne.current.newIndex=Ve),x!==Ne.current.containerId&&(Ne.current.containerId=x),C!==Ne.current.items&&(Ne.current.items=C)},[Ee,Ve,x,C]),I.useEffect(()=>{if(ae===Ne.current.activeId)return;if(ae&&!Ne.current.activeId){Ne.current.activeId=ae;return}const He=setTimeout(()=>{Ne.current.activeId=ae},50);return()=>clearTimeout(He)},[ae]),{active:H,activeIndex:j,attributes:xe,data:J,rect:q,index:K,newIndex:Ve,items:C,isOver:Ce,isSorting:Ee,isDragging:Pe,listeners:be,node:ee,overIndex:Y,over:X,setNodeRef:_e,setActivatorNodeRef:ue,setDroppableNodeRef:ve,setDraggableNodeRef:Ue,transform:yt??St,transition:dt()};function dt(){if(yt||Be&&Ne.current.newIndex===K)return xw;if(!(Se&&!yf(pe)||!g)&&(Ee||we))return wl.Transition.toString({...g,property:Zg})}}function Cw(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}Qe.Down,Qe.Right,Qe.Up,Qe.Left;function pa({id:e,title:t,children:n,colorClass:r="",search:o="",onSearchChange:a,showSearch:u,actions:f}){const{setNodeRef:p,isOver:g}=bf({id:e});return S.jsxs("section",{ref:p,className:`panel zone ${r} ${g?"drag-over":""}`,children:[S.jsxs("div",{className:"zone-head",children:[S.jsx("h2",{children:t}),S.jsxs("div",{style:{display:"flex",gap:4,alignItems:"center"},children:[u&&a&&S.jsx("input",{className:"zone-search",placeholder:"搜尋",value:o,onChange:C=>a(C.target.value)}),f]})]}),S.jsx("ul",{className:"list",children:n})]})}function Ko({block:e,selectable:t,selected:n,onToggleSelect:r}){const{attributes:o,listeners:a,setNodeRef:u,transform:f,transition:p,isDragging:g}=kw({id:e.id}),C={transform:wl.Transform.toString(f),transition:p};return S.jsxs("li",{ref:u,className:`item ${g?"dragging":""} ${t?"selectable":""} ${n?"selected":""}`,style:C,...a,...o,children:[t&&S.jsx("input",{type:"checkbox",className:"sel",checked:!!n,onChange:x=>{x.stopPropagation(),r==null||r(e.id)},onPointerDown:x=>x.stopPropagation(),style:{marginRight:6}}),S.jsx("div",{className:"text",children:e.text}),S.jsxs("div",{className:"meta",children:[e.lang," · ",e.kind]})]})}function $o(){var e;return((e=crypto.randomUUID)==null?void 0:e.call(crypto))??"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const n=Math.random()*16|0;return(t==="x"?n:n&3|8).toString(16)})}function _w(e){return/[ぁ-んァ-ン一-龯]/.test(e)?"ja":/[a-zA-Z]/.test(e)?"en":"unknown"}function Ew(e){return e.split(/\s+/).length>=3?"grammar":e.length<=30?"vocab":"unknown"}function lp(e){return e.split(/\r?\n+/).map(t=>t.trim()).filter(Boolean)}function ap(e){return e.replace(/([。．\.！!？\?]+)\s*/g,`$1
`).split(/\r?\n+/).map(n=>n.trim()).filter(Boolean)}function sp(e){let t=e.split(/[、，,；;\/\|]+/).map(n=>n.trim()).filter(Boolean);return t.length<=1&&/\s/.test(e)&&(t=e.split(/\s+/).map(n=>n.trim()).filter(Boolean)),t}function jw(e,t="auto"){const n=(e??"").trim();if(!n)return[];let r=[];return t==="line"?r=lp(n):t==="sentence"?r=ap(n):t==="separator"?r=sp(n):(r=lp(n),r.length<=1&&(r=ap(n)),r.length<=1&&(r=sp(n))),r.map((o,a)=>({id:$o(),text:o,lang:_w(o),kind:Ew(o),box:"stash",position:a}))}var em={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Bf,function(){var n=function(i,l){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,c){s.__proto__=c}||function(s,c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(s[d]=c[d])})(i,l)},r=function(){return(r=Object.assign||function(i){for(var l,s=1,c=arguments.length;s<c;s++)for(var d in l=arguments[s])Object.prototype.hasOwnProperty.call(l,d)&&(i[d]=l[d]);return i}).apply(this,arguments)};function o(i,l,s){for(var c,d=0,h=l.length;d<h;d++)!c&&d in l||((c=c||Array.prototype.slice.call(l,0,d))[d]=l[d]);return i.concat(c||Array.prototype.slice.call(l))}var a=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Bf,u=Object.keys,f=Array.isArray;function p(i,l){return typeof l!="object"||u(l).forEach(function(s){i[s]=l[s]}),i}typeof Promise>"u"||a.Promise||(a.Promise=Promise);var g=Object.getPrototypeOf,C={}.hasOwnProperty;function x(i,l){return C.call(i,l)}function j(i,l){typeof l=="function"&&(l=l(g(i))),(typeof Reflect>"u"?u:Reflect.ownKeys)(l).forEach(function(s){F(i,s,l[s])})}var z=Object.defineProperty;function F(i,l,s,c){z(i,l,p(s&&x(s,"get")&&typeof s.get=="function"?{get:s.get,set:s.set,configurable:!0}:{value:s,configurable:!0,writable:!0},c))}function $(i){return{from:function(l){return i.prototype=Object.create(l.prototype),F(i.prototype,"constructor",i),{extend:j.bind(null,i.prototype)}}}}var Y=Object.getOwnPropertyDescriptor,k=[].slice;function y(i,l,s){return k.call(i,l,s)}function _(i,l){return l(i)}function K(i){if(!i)throw new Error("Assertion Failed")}function J(i){a.setImmediate?setImmediate(i):setTimeout(i,0)}function G(i,l){if(typeof l=="string"&&x(i,l))return i[l];if(!l)return i;if(typeof l!="string"){for(var s=[],c=0,d=l.length;c<d;++c){var h=G(i,l[c]);s.push(h)}return s}var m=l.indexOf(".");if(m!==-1){var w=i[l.substr(0,m)];return w==null?void 0:G(w,l.substr(m+1))}}function q(i,l,s){if(i&&l!==void 0&&!("isFrozen"in Object&&Object.isFrozen(i)))if(typeof l!="string"&&"length"in l){K(typeof s!="string"&&"length"in s);for(var c=0,d=l.length;c<d;++c)q(i,l[c],s[c])}else{var h,m,w=l.indexOf(".");w!==-1?(h=l.substr(0,w),(m=l.substr(w+1))===""?s===void 0?f(i)&&!isNaN(parseInt(h))?i.splice(h,1):delete i[h]:i[h]=s:q(w=!(w=i[h])||!x(i,h)?i[h]={}:w,m,s)):s===void 0?f(i)&&!isNaN(parseInt(l))?i.splice(l,1):delete i[l]:i[l]=s}}function ee(i){var l,s={};for(l in i)x(i,l)&&(s[l]=i[l]);return s}var Ce=[].concat;function ve(i){return Ce.apply([],i)}var $t="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(ve([8,16,32,64].map(function(i){return["Int","Uint","Float"].map(function(l){return l+i+"Array"})}))).filter(function(i){return a[i]}),H=new Set($t.map(function(i){return a[i]})),pe=null;function Z(i){return pe=new WeakMap,i=function l(s){if(!s||typeof s!="object")return s;var c=pe.get(s);if(c)return c;if(f(s)){c=[],pe.set(s,c);for(var d=0,h=s.length;d<h;++d)c.push(l(s[d]))}else if(H.has(s.constructor))c=s;else{var m,w=g(s);for(m in c=w===Object.prototype?{}:Object.create(w),pe.set(s,c),s)x(s,m)&&(c[m]=l(s[m]))}return c}(i),pe=null,i}var xe={}.toString;function Ue(i){return xe.call(i).slice(8,-1)}var be=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Pe=typeof be=="symbol"?function(i){var l;return i!=null&&(l=i[be])&&l.apply(i)}:function(){return null};function X(i,l){return l=i.indexOf(l),0<=l&&i.splice(l,1),0<=l}var ue={};function fe(i){var l,s,c,d;if(arguments.length===1){if(f(i))return i.slice();if(this===ue&&typeof i=="string")return[i];if(d=Pe(i)){for(s=[];!(c=d.next()).done;)s.push(c.value);return s}if(i==null)return[i];if(typeof(l=i.length)!="number")return[i];for(s=new Array(l);l--;)s[l]=i[l];return s}for(l=arguments.length,s=new Array(l);l--;)s[l]=arguments[l];return s}var _e=typeof Symbol<"u"?function(i){return i[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Jt=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Nn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Jt),Ee={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function ke(i,l){this.name=i,this.message=l}function Se(i,l){return i+". Errors: "+Object.keys(l).map(function(s){return l[s].toString()}).filter(function(s,c,d){return d.indexOf(s)===c}).join(`
`)}function ze(i,l,s,c){this.failures=l,this.failedKeys=c,this.successCount=s,this.message=Se(i,l)}function Re(i,l){this.name="BulkError",this.failures=Object.keys(l).map(function(s){return l[s]}),this.failuresByPos=l,this.message=Se(i,this.failures)}$(ke).from(Error).extend({toString:function(){return this.name+": "+this.message}}),$(ze).from(ke),$(Re).from(ke);var St=Nn.reduce(function(i,l){return i[l]=l+"Error",i},{}),Ve=ke,ae=Nn.reduce(function(i,l){var s=l+"Error";function c(d,h){this.name=s,d?typeof d=="string"?(this.message="".concat(d).concat(h?`
 `+h:""),this.inner=h||null):typeof d=="object"&&(this.message="".concat(d.name," ").concat(d.message),this.inner=d):(this.message=Ee[l]||s,this.inner=null)}return $(c).from(Ve),i[l]=c,i},{});ae.Syntax=SyntaxError,ae.Type=TypeError,ae.Range=RangeError;var Ne=Jt.reduce(function(i,l){return i[l+"Error"]=ae[l],i},{}),Be=Nn.reduce(function(i,l){return["Syntax","Type","Range"].indexOf(l)===-1&&(i[l+"Error"]=ae[l]),i},{});function we(){}function yt(i){return i}function dt(i,l){return i==null||i===yt?l:function(s){return l(i(s))}}function He(i,l){return function(){i.apply(this,arguments),l.apply(this,arguments)}}function At(i,l){return i===we?l:function(){var s=i.apply(this,arguments);s!==void 0&&(arguments[0]=s);var c=this.onsuccess,d=this.onerror;this.onsuccess=null,this.onerror=null;var h=l.apply(this,arguments);return c&&(this.onsuccess=this.onsuccess?He(c,this.onsuccess):c),d&&(this.onerror=this.onerror?He(d,this.onerror):d),h!==void 0?h:s}}function Pi(i,l){return i===we?l:function(){i.apply(this,arguments);var s=this.onsuccess,c=this.onerror;this.onsuccess=this.onerror=null,l.apply(this,arguments),s&&(this.onsuccess=this.onsuccess?He(s,this.onsuccess):s),c&&(this.onerror=this.onerror?He(c,this.onerror):c)}}function oi(i,l){return i===we?l:function(s){var c=i.apply(this,arguments);p(s,c);var d=this.onsuccess,h=this.onerror;return this.onsuccess=null,this.onerror=null,s=l.apply(this,arguments),d&&(this.onsuccess=this.onsuccess?He(d,this.onsuccess):d),h&&(this.onerror=this.onerror?He(h,this.onerror):h),c===void 0?s===void 0?void 0:s:p(c,s)}}function pt(i,l){return i===we?l:function(){return l.apply(this,arguments)!==!1&&i.apply(this,arguments)}}function Gt(i,l){return i===we?l:function(){var s=i.apply(this,arguments);if(s&&typeof s.then=="function"){for(var c=this,d=arguments.length,h=new Array(d);d--;)h[d]=arguments[d];return s.then(function(){return l.apply(c,h)})}return l.apply(this,arguments)}}Be.ModifyError=ze,Be.DexieError=ke,Be.BulkError=Re;var st=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function wn(i){st=i}var Fn={},xn=100,$t=typeof Promise>"u"?[]:function(){var i=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[i,g(i),i];var l=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[l,g(l),i]}(),Jt=$t[0],Nn=$t[1],$t=$t[2],Nn=Nn&&Nn.then,bt=Jt&&Jt.constructor,cn=!!$t,Zt=function(i,l){Sn.push([i,l]),kt&&(queueMicrotask(Lt),kt=!1)},Dt=!0,kt=!0,It=[],Kn=[],Or=yt,Ct={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:we,pgp:!1,env:{},finalize:we},he=Ct,Sn=[],bn=0,tt=[];function le(i){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var l=this._PSD=he;if(typeof i!="function"){if(i!==Fn)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&wt(this,this._value))}this._state=null,this._value=null,++l.ref,function s(c,d){try{d(function(h){if(c._state===null){if(h===c)throw new TypeError("A promise cannot be resolved with itself.");var m=c._lib&&lt();h&&typeof h.then=="function"?s(c,function(w,E){h instanceof le?h._then(w,E):h.then(w,E)}):(c._state=!0,c._value=h,Ge(c)),m&&en()}},wt.bind(null,c))}catch(h){wt(c,h)}}(this,i)}var Pr={get:function(){var i=he,l=kn;function s(c,d){var h=this,m=!i.global&&(i!==he||l!==kn),w=m&&!tr(),E=new le(function(O,N){Mt(h,new Xe(Ot(c,i,m,w),Ot(d,i,m,w),O,N,i))});return this._consoleTask&&(E._consoleTask=this._consoleTask),E}return s.prototype=Fn,s},set:function(i){F(this,"then",i&&i.prototype===Fn?Pr:{get:function(){return i},set:Pr.set})}};function Xe(i,l,s,c,d){this.onFulfilled=typeof i=="function"?i:null,this.onRejected=typeof l=="function"?l:null,this.resolve=s,this.reject=c,this.psd=d}function wt(i,l){var s,c;Kn.push(l),i._state===null&&(s=i._lib&&lt(),l=Or(l),i._state=!1,i._value=l,c=i,It.some(function(d){return d._value===c._value})||It.push(c),Ge(i),s&&en())}function Ge(i){var l=i._listeners;i._listeners=[];for(var s=0,c=l.length;s<c;++s)Mt(i,l[s]);var d=i._PSD;--d.ref||d.finalize(),bn===0&&(++bn,Zt(function(){--bn==0&&Ze()},[]))}function Mt(i,l){if(i._state!==null){var s=i._state?l.onFulfilled:l.onRejected;if(s===null)return(i._state?l.resolve:l.reject)(i._value);++l.psd.ref,++bn,Zt(ot,[s,i,l])}else i._listeners.push(l)}function ot(i,l,s){try{var c,d=l._value;!l._state&&Kn.length&&(Kn=[]),c=st&&l._consoleTask?l._consoleTask.run(function(){return i(d)}):i(d),l._state||Kn.indexOf(d)!==-1||function(h){for(var m=It.length;m;)if(It[--m]._value===h._value)return It.splice(m,1)}(l),s.resolve(c)}catch(h){s.reject(h)}finally{--bn==0&&Ze(),--s.psd.ref||s.psd.finalize()}}function Lt(){nn(Ct,function(){lt()&&en()})}function lt(){var i=Dt;return kt=Dt=!1,i}function en(){var i,l,s;do for(;0<Sn.length;)for(i=Sn,Sn=[],s=i.length,l=0;l<s;++l){var c=i[l];c[0].apply(null,c[1])}while(0<Sn.length);kt=Dt=!0}function Ze(){var i=It;It=[],i.forEach(function(c){c._PSD.onunhandled.call(null,c._value,c)});for(var l=tt.slice(0),s=l.length;s;)l[--s]()}function tn(i){return new le(Fn,!1,i)}function Te(i,l){var s=he;return function(){var c=lt(),d=he;try{return nr(s,!0),i.apply(this,arguments)}catch(h){l&&l(h)}finally{nr(d,!1),c&&en()}}}j(le.prototype,{then:Pr,_then:function(i,l){Mt(this,new Xe(null,null,i,l,he))},catch:function(i){if(arguments.length===1)return this.then(null,i);var l=i,s=arguments[1];return typeof l=="function"?this.then(null,function(c){return(c instanceof l?s:tn)(c)}):this.then(null,function(c){return(c&&c.name===l?s:tn)(c)})},finally:function(i){return this.then(function(l){return le.resolve(i()).then(function(){return l})},function(l){return le.resolve(i()).then(function(){return tn(l)})})},timeout:function(i,l){var s=this;return i<1/0?new le(function(c,d){var h=setTimeout(function(){return d(new ae.Timeout(l))},i);s.then(c,d).finally(clearTimeout.bind(null,h))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&F(le.prototype,Symbol.toStringTag,"Dexie.Promise"),Ct.env=Ti(),j(le,{all:function(){var i=fe.apply(null,arguments).map(Ni);return new le(function(l,s){i.length===0&&l([]);var c=i.length;i.forEach(function(d,h){return le.resolve(d).then(function(m){i[h]=m,--c||l(i)},s)})})},resolve:function(i){return i instanceof le?i:i&&typeof i.then=="function"?new le(function(l,s){i.then(l,s)}):new le(Fn,!0,i)},reject:tn,race:function(){var i=fe.apply(null,arguments).map(Ni);return new le(function(l,s){i.map(function(c){return le.resolve(c).then(l,s)})})},PSD:{get:function(){return he},set:function(i){return he=i}},totalEchoes:{get:function(){return kn}},newPSD:er,usePSD:nn,scheduler:{get:function(){return Zt},set:function(i){Zt=i}},rejectionMapper:{get:function(){return Or},set:function(i){Or=i}},follow:function(i,l){return new le(function(s,c){return er(function(d,h){var m=he;m.unhandleds=[],m.onunhandled=h,m.finalize=He(function(){var w,E=this;w=function(){E.unhandleds.length===0?d():h(E.unhandleds[0])},tt.push(function O(){w(),tt.splice(tt.indexOf(O),1)}),++bn,Zt(function(){--bn==0&&Ze()},[])},m.finalize),i()},l,s,c)})}}),bt&&(bt.allSettled&&F(le,"allSettled",function(){var i=fe.apply(null,arguments).map(Ni);return new le(function(l){i.length===0&&l([]);var s=i.length,c=new Array(s);i.forEach(function(d,h){return le.resolve(d).then(function(m){return c[h]={status:"fulfilled",value:m}},function(m){return c[h]={status:"rejected",reason:m}}).then(function(){return--s||l(c)})})})}),bt.any&&typeof AggregateError<"u"&&F(le,"any",function(){var i=fe.apply(null,arguments).map(Ni);return new le(function(l,s){i.length===0&&s(new AggregateError([]));var c=i.length,d=new Array(c);i.forEach(function(h,m){return le.resolve(h).then(function(w){return l(w)},function(w){d[m]=w,--c||s(new AggregateError(d))})})})}),bt.withResolvers&&(le.withResolvers=bt.withResolvers));var qe={awaits:0,echoes:0,id:0},gr=0,Pn=[],Ut=0,kn=0,Nr=0;function er(i,l,s,c){var d=he,h=Object.create(d);return h.parent=d,h.ref=0,h.global=!1,h.id=++Nr,Ct.env,h.env=cn?{Promise:le,PromiseProp:{value:le,configurable:!0,writable:!0},all:le.all,race:le.race,allSettled:le.allSettled,any:le.any,resolve:le.resolve,reject:le.reject}:{},l&&p(h,l),++d.ref,h.finalize=function(){--this.parent.ref||this.parent.finalize()},c=nn(h,i,s,c),h.ref===0&&h.finalize(),c}function Tr(){return qe.id||(qe.id=++gr),++qe.awaits,qe.echoes+=xn,qe.id}function tr(){return!!qe.awaits&&(--qe.awaits==0&&(qe.id=0),qe.echoes=qe.awaits*xn,!0)}function Ni(i){return qe.echoes&&i&&i.constructor===bt?(Tr(),i.then(function(l){return tr(),l},function(l){return tr(),nt(l)})):i}function bs(){var i=Pn[Pn.length-1];Pn.pop(),nr(i,!1)}function nr(i,l){var s,c=he;(l?!qe.echoes||Ut++&&i===he:!Ut||--Ut&&i===he)||queueMicrotask(l?(function(d){++kn,qe.echoes&&--qe.echoes!=0||(qe.echoes=qe.awaits=qe.id=0),Pn.push(he),nr(d,!0)}).bind(null,i):bs),i!==he&&(he=i,c===Ct&&(Ct.env=Ti()),cn&&(s=Ct.env.Promise,l=i.env,(c.global||i.global)&&(Object.defineProperty(a,"Promise",l.PromiseProp),s.all=l.all,s.race=l.race,s.resolve=l.resolve,s.reject=l.reject,l.allSettled&&(s.allSettled=l.allSettled),l.any&&(s.any=l.any))))}function Ti(){var i=a.Promise;return cn?{Promise:i,PromiseProp:Object.getOwnPropertyDescriptor(a,"Promise"),all:i.all,race:i.race,allSettled:i.allSettled,any:i.any,resolve:i.resolve,reject:i.reject}:{}}function nn(i,l,s,c,d){var h=he;try{return nr(i,!0),l(s,c,d)}finally{nr(h,!1)}}function Ot(i,l,s,c){return typeof i!="function"?i:function(){var d=he;s&&Tr(),nr(l,!0);try{return i.apply(this,arguments)}finally{nr(d,!1),c&&queueMicrotask(tr)}}}function Rr(i){Promise===bt&&qe.echoes===0?Ut===0?i():enqueueNativeMicroTask(i):setTimeout(i,0)}(""+Nn).indexOf("[native code]")===-1&&(Tr=tr=we);var nt=le.reject,mr="￿",Pt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",li="String expected.",$n=[],ai="__dbnames",si="readonly",rr="readwrite";function vr(i,l){return i?l?function(){return i.apply(this,arguments)&&l.apply(this,arguments)}:i:l}var ui={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Ri(i){return typeof i!="string"||/\./.test(i)?function(l){return l}:function(l){return l[i]===void 0&&i in l&&delete(l=Z(l))[i],l}}function bo(){throw ae.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Ae(i,l){try{var s=Ai(i),c=Ai(l);if(s!==c)return s==="Array"?1:c==="Array"?-1:s==="binary"?1:c==="binary"?-1:s==="string"?1:c==="string"?-1:s==="Date"?1:c!=="Date"?NaN:-1;switch(s){case"number":case"Date":case"string":return l<i?1:i<l?-1:0;case"binary":return function(d,h){for(var m=d.length,w=h.length,E=m<w?m:w,O=0;O<E;++O)if(d[O]!==h[O])return d[O]<h[O]?-1:1;return m===w?0:m<w?-1:1}(Il(i),Il(l));case"Array":return function(d,h){for(var m=d.length,w=h.length,E=m<w?m:w,O=0;O<E;++O){var N=Ae(d[O],h[O]);if(N!==0)return N}return m===w?0:m<w?-1:1}(i,l)}}catch{}return NaN}function Ai(i){var l=typeof i;return l!="object"?l:ArrayBuffer.isView(i)?"binary":(i=Ue(i),i==="ArrayBuffer"?"binary":i)}function Il(i){return i instanceof Uint8Array?i:ArrayBuffer.isView(i)?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):new Uint8Array(i)}function ci(i,l,s){var c=i.schema.yProps;return c?(l&&0<s.numFailures&&(l=l.filter(function(d,h){return!s.failures[h]})),Promise.all(c.map(function(d){return d=d.updatesTable,l?i.db.table(d).where("k").anyOf(l).delete():i.db.table(d).clear()})).then(function(){return s})):s}var Ol=(Je.prototype._trans=function(i,l,s){var c=this._tx||he.trans,d=this.name,h=st&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(i==="readonly"?"read":"write"," ").concat(this.name));function m(O,N,b){if(!b.schema[d])throw new ae.NotFound("Table "+d+" not part of transaction");return l(b.idbtrans,b)}var w=lt();try{var E=c&&c.db._novip===this.db._novip?c===he.trans?c._promise(i,m,s):er(function(){return c._promise(i,m,s)},{trans:c,transless:he.transless||he}):function O(N,b,A,D){if(N.idbdb&&(N._state.openComplete||he.letThrough||N._vip)){var P=N._createTransaction(b,A,N._dbSchema);try{P.create(),N._state.PR1398_maxLoop=3}catch(R){return R.name===St.InvalidState&&N.isOpen()&&0<--N._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),N.close({disableAutoOpen:!1}),N.open().then(function(){return O(N,b,A,D)})):nt(R)}return P._promise(b,function(R,T){return er(function(){return he.trans=P,D(R,T,P)})}).then(function(R){if(b==="readwrite")try{P.idbtrans.commit()}catch{}return b==="readonly"?R:P._completion.then(function(){return R})})}if(N._state.openComplete)return nt(new ae.DatabaseClosed(N._state.dbOpenError));if(!N._state.isBeingOpened){if(!N._state.autoOpen)return nt(new ae.DatabaseClosed);N.open().catch(we)}return N._state.dbReadyPromise.then(function(){return O(N,b,A,D)})}(this.db,i,[this.name],m);return h&&(E._consoleTask=h,E=E.catch(function(O){return console.trace(O),nt(O)})),E}finally{w&&en()}},Je.prototype.get=function(i,l){var s=this;return i&&i.constructor===Object?this.where(i).first(l):i==null?nt(new ae.Type("Invalid argument to Table.get()")):this._trans("readonly",function(c){return s.core.get({trans:c,key:i}).then(function(d){return s.hook.reading.fire(d)})}).then(l)},Je.prototype.where=function(i){if(typeof i=="string")return new this.db.WhereClause(this,i);if(f(i))return new this.db.WhereClause(this,"[".concat(i.join("+"),"]"));var l=u(i);if(l.length===1)return this.where(l[0]).equals(i[l[0]]);var s=this.schema.indexes.concat(this.schema.primKey).filter(function(w){if(w.compound&&l.every(function(O){return 0<=w.keyPath.indexOf(O)})){for(var E=0;E<l.length;++E)if(l.indexOf(w.keyPath[E])===-1)return!1;return!0}return!1}).sort(function(w,E){return w.keyPath.length-E.keyPath.length})[0];if(s&&this.db._maxKey!==mr){var h=s.keyPath.slice(0,l.length);return this.where(h).equals(h.map(function(E){return i[E]}))}!s&&st&&console.warn("The query ".concat(JSON.stringify(i)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(l.join("+"),"]"));var c=this.schema.idxByName;function d(w,E){return Ae(w,E)===0}var m=l.reduce(function(b,E){var O=b[0],N=b[1],b=c[E],A=i[E];return[O||b,O||!b?vr(N,b&&b.multi?function(D){return D=G(D,E),f(D)&&D.some(function(P){return d(A,P)})}:function(D){return d(A,G(D,E))}):N]},[null,null]),h=m[0],m=m[1];return h?this.where(h.name).equals(i[h.keyPath]).filter(m):s?this.filter(m):this.where(l).equals("")},Je.prototype.filter=function(i){return this.toCollection().and(i)},Je.prototype.count=function(i){return this.toCollection().count(i)},Je.prototype.offset=function(i){return this.toCollection().offset(i)},Je.prototype.limit=function(i){return this.toCollection().limit(i)},Je.prototype.each=function(i){return this.toCollection().each(i)},Je.prototype.toArray=function(i){return this.toCollection().toArray(i)},Je.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Je.prototype.orderBy=function(i){return new this.db.Collection(new this.db.WhereClause(this,f(i)?"[".concat(i.join("+"),"]"):i))},Je.prototype.reverse=function(){return this.toCollection().reverse()},Je.prototype.mapToClass=function(i){var l,s=this.db,c=this.name;function d(){return l!==null&&l.apply(this,arguments)||this}(this.schema.mappedClass=i).prototype instanceof bo&&(function(E,O){if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");function N(){this.constructor=E}n(E,O),E.prototype=O===null?Object.create(O):(N.prototype=O.prototype,new N)}(d,l=i),Object.defineProperty(d.prototype,"db",{get:function(){return s},enumerable:!1,configurable:!0}),d.prototype.table=function(){return c},i=d);for(var h=new Set,m=i.prototype;m;m=g(m))Object.getOwnPropertyNames(m).forEach(function(E){return h.add(E)});function w(E){if(!E)return E;var O,N=Object.create(i.prototype);for(O in E)if(!h.has(O))try{N[O]=E[O]}catch{}return N}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=w,this.hook("reading",w),i},Je.prototype.defineClass=function(){return this.mapToClass(function(i){p(this,i)})},Je.prototype.add=function(i,l){var s=this,c=this.schema.primKey,d=c.auto,h=c.keyPath,m=i;return h&&d&&(m=Ri(h)(i)),this._trans("readwrite",function(w){return s.core.mutate({trans:w,type:"add",keys:l!=null?[l]:null,values:[m]})}).then(function(w){return w.numFailures?le.reject(w.failures[0]):w.lastResult}).then(function(w){if(h)try{q(i,h,w)}catch{}return w})},Je.prototype.update=function(i,l){return typeof i!="object"||f(i)?this.where(":id").equals(i).modify(l):(i=G(i,this.schema.primKey.keyPath),i===void 0?nt(new ae.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(i).modify(l))},Je.prototype.put=function(i,l){var s=this,c=this.schema.primKey,d=c.auto,h=c.keyPath,m=i;return h&&d&&(m=Ri(h)(i)),this._trans("readwrite",function(w){return s.core.mutate({trans:w,type:"put",values:[m],keys:l!=null?[l]:null})}).then(function(w){return w.numFailures?le.reject(w.failures[0]):w.lastResult}).then(function(w){if(h)try{q(i,h,w)}catch{}return w})},Je.prototype.delete=function(i){var l=this;return this._trans("readwrite",function(s){return l.core.mutate({trans:s,type:"delete",keys:[i]}).then(function(c){return ci(l,[i],c)}).then(function(c){return c.numFailures?le.reject(c.failures[0]):void 0})})},Je.prototype.clear=function(){var i=this;return this._trans("readwrite",function(l){return i.core.mutate({trans:l,type:"deleteRange",range:ui}).then(function(s){return ci(i,null,s)})}).then(function(l){return l.numFailures?le.reject(l.failures[0]):void 0})},Je.prototype.bulkGet=function(i){var l=this;return this._trans("readonly",function(s){return l.core.getMany({keys:i,trans:s}).then(function(c){return c.map(function(d){return l.hook.reading.fire(d)})})})},Je.prototype.bulkAdd=function(i,l,s){var c=this,d=Array.isArray(l)?l:void 0,h=(s=s||(d?void 0:l))?s.allKeys:void 0;return this._trans("readwrite",function(m){var O=c.schema.primKey,w=O.auto,O=O.keyPath;if(O&&d)throw new ae.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(d&&d.length!==i.length)throw new ae.InvalidArgument("Arguments objects and keys must have the same length");var E=i.length,O=O&&w?i.map(Ri(O)):i;return c.core.mutate({trans:m,type:"add",keys:d,values:O,wantResults:h}).then(function(P){var b=P.numFailures,A=P.results,D=P.lastResult,P=P.failures;if(b===0)return h?A:D;throw new Re("".concat(c.name,".bulkAdd(): ").concat(b," of ").concat(E," operations failed"),P)})})},Je.prototype.bulkPut=function(i,l,s){var c=this,d=Array.isArray(l)?l:void 0,h=(s=s||(d?void 0:l))?s.allKeys:void 0;return this._trans("readwrite",function(m){var O=c.schema.primKey,w=O.auto,O=O.keyPath;if(O&&d)throw new ae.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(d&&d.length!==i.length)throw new ae.InvalidArgument("Arguments objects and keys must have the same length");var E=i.length,O=O&&w?i.map(Ri(O)):i;return c.core.mutate({trans:m,type:"put",keys:d,values:O,wantResults:h}).then(function(P){var b=P.numFailures,A=P.results,D=P.lastResult,P=P.failures;if(b===0)return h?A:D;throw new Re("".concat(c.name,".bulkPut(): ").concat(b," of ").concat(E," operations failed"),P)})})},Je.prototype.bulkUpdate=function(i){var l=this,s=this.core,c=i.map(function(m){return m.key}),d=i.map(function(m){return m.changes}),h=[];return this._trans("readwrite",function(m){return s.getMany({trans:m,keys:c,cache:"clone"}).then(function(w){var E=[],O=[];i.forEach(function(b,A){var D=b.key,P=b.changes,R=w[A];if(R){for(var T=0,M=Object.keys(P);T<M.length;T++){var B=M[T],U=P[B];if(B===l.schema.primKey.keyPath){if(Ae(U,D)!==0)throw new ae.Constraint("Cannot update primary key in bulkUpdate()")}else q(R,B,U)}h.push(A),E.push(D),O.push(R)}});var N=E.length;return s.mutate({trans:m,type:"put",keys:E,values:O,updates:{keys:c,changeSpecs:d}}).then(function(b){var A=b.numFailures,D=b.failures;if(A===0)return N;for(var P=0,R=Object.keys(D);P<R.length;P++){var T,M=R[P],B=h[Number(M)];B!=null&&(T=D[M],delete D[M],D[B]=T)}throw new Re("".concat(l.name,".bulkUpdate(): ").concat(A," of ").concat(N," operations failed"),D)})})})},Je.prototype.bulkDelete=function(i){var l=this,s=i.length;return this._trans("readwrite",function(c){return l.core.mutate({trans:c,type:"delete",keys:i}).then(function(d){return ci(l,i,d)})}).then(function(m){var d=m.numFailures,h=m.lastResult,m=m.failures;if(d===0)return h;throw new Re("".concat(l.name,".bulkDelete(): ").concat(d," of ").concat(s," operations failed"),m)})},Je);function Je(){}function yr(i){function l(m,w){if(w){for(var E=arguments.length,O=new Array(E-1);--E;)O[E-1]=arguments[E];return s[m].subscribe.apply(null,O),i}if(typeof m=="string")return s[m]}var s={};l.addEventType=h;for(var c=1,d=arguments.length;c<d;++c)h(arguments[c]);return l;function h(m,w,E){if(typeof m!="object"){var O;w=w||pt;var N={subscribers:[],fire:E=E||we,subscribe:function(b){N.subscribers.indexOf(b)===-1&&(N.subscribers.push(b),N.fire=w(N.fire,b))},unsubscribe:function(b){N.subscribers=N.subscribers.filter(function(A){return A!==b}),N.fire=N.subscribers.reduce(w,E)}};return s[m]=l[m]=N}u(O=m).forEach(function(b){var A=O[b];if(f(A))h(b,O[b][0],O[b][1]);else{if(A!=="asap")throw new ae.InvalidArgument("Invalid event config");var D=h(b,yt,function(){for(var P=arguments.length,R=new Array(P);P--;)R[P]=arguments[P];D.subscribers.forEach(function(T){J(function(){T.apply(null,R)})})})}})}}function Cn(i,l){return $(l).from({prototype:i}),l}function ir(i,l){return!(i.filter||i.algorithm||i.or)&&(l?i.justLimit:!i.replayFilter)}function ko(i,l){i.filter=vr(i.filter,l)}function Un(i,l,s){var c=i.replayFilter;i.replayFilter=c?function(){return vr(c(),l())}:l,i.justLimit=s&&!c}function Mi(i,l){if(i.isPrimKey)return l.primaryKey;var s=l.getIndexByKeyPath(i.index);if(!s)throw new ae.Schema("KeyPath "+i.index+" on object store "+l.name+" is not indexed");return s}function Pl(i,l,s){var c=Mi(i,l.schema);return l.openCursor({trans:s,values:!i.keysOnly,reverse:i.dir==="prev",unique:!!i.unique,query:{index:c,range:i.range}})}function Li(i,l,s,c){var d=i.replayFilter?vr(i.filter,i.replayFilter()):i.filter;if(i.or){var h={},m=function(w,E,O){var N,b;d&&!d(E,O,function(A){return E.stop(A)},function(A){return E.fail(A)})||((b=""+(N=E.primaryKey))=="[object ArrayBuffer]"&&(b=""+new Uint8Array(N)),x(h,b)||(h[b]=!0,l(w,E,O)))};return Promise.all([i.or._iterate(m,s),Ar(Pl(i,c,s),i.algorithm,m,!i.keysOnly&&i.valueMapper)])}return Ar(Pl(i,c,s),vr(i.algorithm,d),l,!i.keysOnly&&i.valueMapper)}function Ar(i,l,s,c){var d=Te(c?function(h,m,w){return s(c(h),m,w)}:s);return i.then(function(h){if(h)return h.start(function(){var m=function(){return h.continue()};l&&!l(h,function(w){return m=w},function(w){h.stop(w),m=we},function(w){h.fail(w),m=we})||d(h.value,h,function(w){return m=w}),m()})})}var fn=(Nl.prototype.execute=function(i){var l=this["@@propmod"];if(l.add!==void 0){var s=l.add;if(f(s))return o(o([],f(i)?i:[],!0),s).sort();if(typeof s=="number")return(Number(i)||0)+s;if(typeof s=="bigint")try{return BigInt(i)+s}catch{return BigInt(0)+s}throw new TypeError("Invalid term ".concat(s))}if(l.remove!==void 0){var c=l.remove;if(f(c))return f(i)?i.filter(function(d){return!c.includes(d)}).sort():[];if(typeof c=="number")return Number(i)-c;if(typeof c=="bigint")try{return BigInt(i)-c}catch{return BigInt(0)-c}throw new TypeError("Invalid subtrahend ".concat(c))}return s=(s=l.replacePrefix)===null||s===void 0?void 0:s[0],s&&typeof i=="string"&&i.startsWith(s)?l.replacePrefix[1]+i.substring(s.length):i},Nl);function Nl(i){this["@@propmod"]=i}var ks=(Fe.prototype._read=function(i,l){var s=this._ctx;return s.error?s.table._trans(null,nt.bind(null,s.error)):s.table._trans("readonly",i).then(l)},Fe.prototype._write=function(i){var l=this._ctx;return l.error?l.table._trans(null,nt.bind(null,l.error)):l.table._trans("readwrite",i,"locked")},Fe.prototype._addAlgorithm=function(i){var l=this._ctx;l.algorithm=vr(l.algorithm,i)},Fe.prototype._iterate=function(i,l){return Li(this._ctx,i,l,this._ctx.table.core)},Fe.prototype.clone=function(i){var l=Object.create(this.constructor.prototype),s=Object.create(this._ctx);return i&&p(s,i),l._ctx=s,l},Fe.prototype.raw=function(){return this._ctx.valueMapper=null,this},Fe.prototype.each=function(i){var l=this._ctx;return this._read(function(s){return Li(l,i,s,l.table.core)})},Fe.prototype.count=function(i){var l=this;return this._read(function(s){var c=l._ctx,d=c.table.core;if(ir(c,!0))return d.count({trans:s,query:{index:Mi(c,d.schema),range:c.range}}).then(function(m){return Math.min(m,c.limit)});var h=0;return Li(c,function(){return++h,!1},s,d).then(function(){return h})}).then(i)},Fe.prototype.sortBy=function(i,l){var s=i.split(".").reverse(),c=s[0],d=s.length-1;function h(E,O){return O?h(E[s[O]],O-1):E[c]}var m=this._ctx.dir==="next"?1:-1;function w(E,O){return Ae(h(E,d),h(O,d))*m}return this.toArray(function(E){return E.sort(w)}).then(l)},Fe.prototype.toArray=function(i){var l=this;return this._read(function(s){var c=l._ctx;if(c.dir==="next"&&ir(c,!0)&&0<c.limit){var d=c.valueMapper,h=Mi(c,c.table.core.schema);return c.table.core.query({trans:s,limit:c.limit,values:!0,query:{index:h,range:c.range}}).then(function(w){return w=w.result,d?w.map(d):w})}var m=[];return Li(c,function(w){return m.push(w)},s,c.table.core).then(function(){return m})},i)},Fe.prototype.offset=function(i){var l=this._ctx;return i<=0||(l.offset+=i,ir(l)?Un(l,function(){var s=i;return function(c,d){return s===0||(s===1?--s:d(function(){c.advance(s),s=0}),!1)}}):Un(l,function(){var s=i;return function(){return--s<0}})),this},Fe.prototype.limit=function(i){return this._ctx.limit=Math.min(this._ctx.limit,i),Un(this._ctx,function(){var l=i;return function(s,c,d){return--l<=0&&c(d),0<=l}},!0),this},Fe.prototype.until=function(i,l){return ko(this._ctx,function(s,c,d){return!i(s.value)||(c(d),l)}),this},Fe.prototype.first=function(i){return this.limit(1).toArray(function(l){return l[0]}).then(i)},Fe.prototype.last=function(i){return this.reverse().first(i)},Fe.prototype.filter=function(i){var l;return ko(this._ctx,function(s){return i(s.value)}),(l=this._ctx).isMatch=vr(l.isMatch,i),this},Fe.prototype.and=function(i){return this.filter(i)},Fe.prototype.or=function(i){return new this.db.WhereClause(this._ctx.table,i,this)},Fe.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Fe.prototype.desc=function(){return this.reverse()},Fe.prototype.eachKey=function(i){var l=this._ctx;return l.keysOnly=!l.isMatch,this.each(function(s,c){i(c.key,c)})},Fe.prototype.eachUniqueKey=function(i){return this._ctx.unique="unique",this.eachKey(i)},Fe.prototype.eachPrimaryKey=function(i){var l=this._ctx;return l.keysOnly=!l.isMatch,this.each(function(s,c){i(c.primaryKey,c)})},Fe.prototype.keys=function(i){var l=this._ctx;l.keysOnly=!l.isMatch;var s=[];return this.each(function(c,d){s.push(d.key)}).then(function(){return s}).then(i)},Fe.prototype.primaryKeys=function(i){var l=this._ctx;if(l.dir==="next"&&ir(l,!0)&&0<l.limit)return this._read(function(c){var d=Mi(l,l.table.core.schema);return l.table.core.query({trans:c,values:!1,limit:l.limit,query:{index:d,range:l.range}})}).then(function(c){return c.result}).then(i);l.keysOnly=!l.isMatch;var s=[];return this.each(function(c,d){s.push(d.primaryKey)}).then(function(){return s}).then(i)},Fe.prototype.uniqueKeys=function(i){return this._ctx.unique="unique",this.keys(i)},Fe.prototype.firstKey=function(i){return this.limit(1).keys(function(l){return l[0]}).then(i)},Fe.prototype.lastKey=function(i){return this.reverse().firstKey(i)},Fe.prototype.distinct=function(){var i=this._ctx,i=i.index&&i.table.schema.idxByName[i.index];if(!i||!i.multi)return this;var l={};return ko(this._ctx,function(d){var c=d.primaryKey.toString(),d=x(l,c);return l[c]=!0,!d}),this},Fe.prototype.modify=function(i){var l=this,s=this._ctx;return this._write(function(c){var d,h,m;m=typeof i=="function"?i:(d=u(i),h=d.length,function(M){for(var B=!1,U=0;U<h;++U){var W=d[U],te=i[W],oe=G(M,W);te instanceof fn?(q(M,W,te.execute(oe)),B=!0):oe!==te&&(q(M,W,te),B=!0)}return B});var w=s.table.core,b=w.schema.primaryKey,E=b.outbound,O=b.extractKey,N=200,b=l.db._options.modifyChunkSize;b&&(N=typeof b=="object"?b[w.name]||b["*"]||200:b);function A(M,W){var U=W.failures,W=W.numFailures;P+=M-W;for(var te=0,oe=u(U);te<oe.length;te++){var re=oe[te];D.push(U[re])}}var D=[],P=0,R=[],T=i===Tl;return l.clone().primaryKeys().then(function(M){function B(W){var te=Math.min(N,M.length-W),oe=M.slice(W,W+te);return(T?Promise.resolve([]):w.getMany({trans:c,keys:oe,cache:"immutable"})).then(function(re){var ie=[],de=[],se=E?[]:null,ge=T?oe:[];if(!T)for(var Oe=0;Oe<te;++Oe){var Ke=re[Oe],De={value:Z(Ke),primKey:M[W+Oe]};m.call(De,De.value,De)!==!1&&(De.value==null?ge.push(M[W+Oe]):E||Ae(O(Ke),O(De.value))===0?(de.push(De.value),E&&se.push(M[W+Oe])):(ge.push(M[W+Oe]),ie.push(De.value)))}return Promise.resolve(0<ie.length&&w.mutate({trans:c,type:"add",values:ie}).then(function(ht){for(var je in ht.failures)ge.splice(parseInt(je),1);A(ie.length,ht)})).then(function(){return(0<de.length||U&&typeof i=="object")&&w.mutate({trans:c,type:"put",keys:se,values:de,criteria:U,changeSpec:typeof i!="function"&&i,isAdditionalChunk:0<W}).then(function(ht){return A(de.length,ht)})}).then(function(){return(0<ge.length||U&&T)&&w.mutate({trans:c,type:"delete",keys:ge,criteria:U,isAdditionalChunk:0<W}).then(function(ht){return ci(s.table,ge,ht)}).then(function(ht){return A(ge.length,ht)})}).then(function(){return M.length>W+te&&B(W+N)})})}var U=ir(s)&&s.limit===1/0&&(typeof i!="function"||T)&&{index:s.index,range:s.range};return B(0).then(function(){if(0<D.length)throw new ze("Error modifying one or more objects",D,P,R);return M.length})})})},Fe.prototype.delete=function(){var i=this._ctx,l=i.range;return!ir(i)||i.table.schema.yProps||!i.isPrimKey&&l.type!==3?this.modify(Tl):this._write(function(s){var c=i.table.core.schema.primaryKey,d=l;return i.table.core.count({trans:s,query:{index:c,range:d}}).then(function(h){return i.table.core.mutate({trans:s,type:"deleteRange",range:d}).then(function(E){var w=E.failures,E=E.numFailures;if(E)throw new ze("Could not delete some values",Object.keys(w).map(function(O){return w[O]}),h-E);return h-E})})})},Fe);function Fe(){}var Tl=function(i,l){return l.value=null};function Cs(i,l){return i<l?-1:i===l?0:1}function _s(i,l){return l<i?-1:i===l?0:1}function zt(i,l,s){return i=i instanceof Al?new i.Collection(i):i,i._ctx.error=new(s||TypeError)(l),i}function or(i){return new i.Collection(i,function(){return Rl("")}).limit(0)}function zi(i,l,s,c){var d,h,m,w,E,O,N,b=s.length;if(!s.every(function(P){return typeof P=="string"}))return zt(i,li);function A(P){d=P==="next"?function(T){return T.toUpperCase()}:function(T){return T.toLowerCase()},h=P==="next"?function(T){return T.toLowerCase()}:function(T){return T.toUpperCase()},m=P==="next"?Cs:_s;var R=s.map(function(T){return{lower:h(T),upper:d(T)}}).sort(function(T,M){return m(T.lower,M.lower)});w=R.map(function(T){return T.upper}),E=R.map(function(T){return T.lower}),N=(O=P)==="next"?"":c}A("next"),i=new i.Collection(i,function(){return lr(w[0],E[b-1]+c)}),i._ondirectionchange=function(P){A(P)};var D=0;return i._addAlgorithm(function(P,R,T){var M=P.key;if(typeof M!="string")return!1;var B=h(M);if(l(B,E,D))return!0;for(var U=null,W=D;W<b;++W){var te=function(oe,re,ie,de,se,ge){for(var Oe=Math.min(oe.length,de.length),Ke=-1,De=0;De<Oe;++De){var ht=re[De];if(ht!==de[De])return se(oe[De],ie[De])<0?oe.substr(0,De)+ie[De]+ie.substr(De+1):se(oe[De],de[De])<0?oe.substr(0,De)+de[De]+ie.substr(De+1):0<=Ke?oe.substr(0,Ke)+re[Ke]+ie.substr(Ke+1):null;se(oe[De],ht)<0&&(Ke=De)}return Oe<de.length&&ge==="next"?oe+ie.substr(oe.length):Oe<oe.length&&ge==="prev"?oe.substr(0,ie.length):Ke<0?null:oe.substr(0,Ke)+de[Ke]+ie.substr(Ke+1)}(M,B,w[W],E[W],m,O);te===null&&U===null?D=W+1:(U===null||0<m(U,te))&&(U=te)}return R(U!==null?function(){P.continue(U+N)}:T),!1}),i}function lr(i,l,s,c){return{type:2,lower:i,upper:l,lowerOpen:s,upperOpen:c}}function Rl(i){return{type:1,lower:i,upper:i}}var Al=(Object.defineProperty(v.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),v.prototype.between=function(i,l,s,c){s=s!==!1,c=c===!0;try{return 0<this._cmp(i,l)||this._cmp(i,l)===0&&(s||c)&&(!s||!c)?or(this):new this.Collection(this,function(){return lr(i,l,!s,!c)})}catch{return zt(this,Pt)}},v.prototype.equals=function(i){return i==null?zt(this,Pt):new this.Collection(this,function(){return Rl(i)})},v.prototype.above=function(i){return i==null?zt(this,Pt):new this.Collection(this,function(){return lr(i,void 0,!0)})},v.prototype.aboveOrEqual=function(i){return i==null?zt(this,Pt):new this.Collection(this,function(){return lr(i,void 0,!1)})},v.prototype.below=function(i){return i==null?zt(this,Pt):new this.Collection(this,function(){return lr(void 0,i,!1,!0)})},v.prototype.belowOrEqual=function(i){return i==null?zt(this,Pt):new this.Collection(this,function(){return lr(void 0,i)})},v.prototype.startsWith=function(i){return typeof i!="string"?zt(this,li):this.between(i,i+mr,!0,!0)},v.prototype.startsWithIgnoreCase=function(i){return i===""?this.startsWith(i):zi(this,function(l,s){return l.indexOf(s[0])===0},[i],mr)},v.prototype.equalsIgnoreCase=function(i){return zi(this,function(l,s){return l===s[0]},[i],"")},v.prototype.anyOfIgnoreCase=function(){var i=fe.apply(ue,arguments);return i.length===0?or(this):zi(this,function(l,s){return s.indexOf(l)!==-1},i,"")},v.prototype.startsWithAnyOfIgnoreCase=function(){var i=fe.apply(ue,arguments);return i.length===0?or(this):zi(this,function(l,s){return s.some(function(c){return l.indexOf(c)===0})},i,mr)},v.prototype.anyOf=function(){var i=this,l=fe.apply(ue,arguments),s=this._cmp;try{l.sort(s)}catch{return zt(this,Pt)}if(l.length===0)return or(this);var c=new this.Collection(this,function(){return lr(l[0],l[l.length-1])});c._ondirectionchange=function(h){s=h==="next"?i._ascending:i._descending,l.sort(s)};var d=0;return c._addAlgorithm(function(h,m,w){for(var E=h.key;0<s(E,l[d]);)if(++d===l.length)return m(w),!1;return s(E,l[d])===0||(m(function(){h.continue(l[d])}),!1)}),c},v.prototype.notEqual=function(i){return this.inAnyRange([[-1/0,i],[i,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},v.prototype.noneOf=function(){var i=fe.apply(ue,arguments);if(i.length===0)return new this.Collection(this);try{i.sort(this._ascending)}catch{return zt(this,Pt)}var l=i.reduce(function(s,c){return s?s.concat([[s[s.length-1][1],c]]):[[-1/0,c]]},null);return l.push([i[i.length-1],this.db._maxKey]),this.inAnyRange(l,{includeLowers:!1,includeUppers:!1})},v.prototype.inAnyRange=function(M,l){var s=this,c=this._cmp,d=this._ascending,h=this._descending,m=this._min,w=this._max;if(M.length===0)return or(this);if(!M.every(function(B){return B[0]!==void 0&&B[1]!==void 0&&d(B[0],B[1])<=0}))return zt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ae.InvalidArgument);var E=!l||l.includeLowers!==!1,O=l&&l.includeUppers===!0,N,b=d;function A(B,U){return b(B[0],U[0])}try{(N=M.reduce(function(B,U){for(var W=0,te=B.length;W<te;++W){var oe=B[W];if(c(U[0],oe[1])<0&&0<c(U[1],oe[0])){oe[0]=m(oe[0],U[0]),oe[1]=w(oe[1],U[1]);break}}return W===te&&B.push(U),B},[])).sort(A)}catch{return zt(this,Pt)}var D=0,P=O?function(B){return 0<d(B,N[D][1])}:function(B){return 0<=d(B,N[D][1])},R=E?function(B){return 0<h(B,N[D][0])}:function(B){return 0<=h(B,N[D][0])},T=P,M=new this.Collection(this,function(){return lr(N[0][0],N[N.length-1][1],!E,!O)});return M._ondirectionchange=function(B){b=B==="next"?(T=P,d):(T=R,h),N.sort(A)},M._addAlgorithm(function(B,U,W){for(var te,oe=B.key;T(oe);)if(++D===N.length)return U(W),!1;return!P(te=oe)&&!R(te)||(s._cmp(oe,N[D][1])===0||s._cmp(oe,N[D][0])===0||U(function(){b===d?B.continue(N[D][0]):B.continue(N[D][1])}),!1)}),M},v.prototype.startsWithAnyOf=function(){var i=fe.apply(ue,arguments);return i.every(function(l){return typeof l=="string"})?i.length===0?or(this):this.inAnyRange(i.map(function(l){return[l,l+mr]})):zt(this,"startsWithAnyOf() only works with strings")},v);function v(){}function L(i){return Te(function(l){return V(l),i(l.target.error),!1})}function V(i){i.stopPropagation&&i.stopPropagation(),i.preventDefault&&i.preventDefault()}var Q="storagemutated",ce="x-storagemutated-1",ye=yr(null,Q),Ie=(Le.prototype._lock=function(){return K(!he.global),++this._reculock,this._reculock!==1||he.global||(he.lockOwnerFor=this),this},Le.prototype._unlock=function(){if(K(!he.global),--this._reculock==0)for(he.global||(he.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var i=this._blockedFuncs.shift();try{nn(i[1],i[0])}catch{}}return this},Le.prototype._locked=function(){return this._reculock&&he.lockOwnerFor!==this},Le.prototype.create=function(i){var l=this;if(!this.mode)return this;var s=this.db.idbdb,c=this.db._state.dbOpenError;if(K(!this.idbtrans),!i&&!s)switch(c&&c.name){case"DatabaseClosedError":throw new ae.DatabaseClosed(c);case"MissingAPIError":throw new ae.MissingAPI(c.message,c);default:throw new ae.OpenFailed(c)}if(!this.active)throw new ae.TransactionInactive;return K(this._completion._state===null),(i=this.idbtrans=i||(this.db.core||s).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Te(function(d){V(d),l._reject(i.error)}),i.onabort=Te(function(d){V(d),l.active&&l._reject(new ae.Abort(i.error)),l.active=!1,l.on("abort").fire(d)}),i.oncomplete=Te(function(){l.active=!1,l._resolve(),"mutatedParts"in i&&ye.storagemutated.fire(i.mutatedParts)}),this},Le.prototype._promise=function(i,l,s){var c=this;if(i==="readwrite"&&this.mode!=="readwrite")return nt(new ae.ReadOnly("Transaction is readonly"));if(!this.active)return nt(new ae.TransactionInactive);if(this._locked())return new le(function(h,m){c._blockedFuncs.push([function(){c._promise(i,l,s).then(h,m)},he])});if(s)return er(function(){var h=new le(function(m,w){c._lock();var E=l(m,w,c);E&&E.then&&E.then(m,w)});return h.finally(function(){return c._unlock()}),h._lib=!0,h});var d=new le(function(h,m){var w=l(h,m,c);w&&w.then&&w.then(h,m)});return d._lib=!0,d},Le.prototype._root=function(){return this.parent?this.parent._root():this},Le.prototype.waitFor=function(i){var l,s=this._root(),c=le.resolve(i);s._waitingFor?s._waitingFor=s._waitingFor.then(function(){return c}):(s._waitingFor=c,s._waitingQueue=[],l=s.idbtrans.objectStore(s.storeNames[0]),function h(){for(++s._spinCount;s._waitingQueue.length;)s._waitingQueue.shift()();s._waitingFor&&(l.get(-1/0).onsuccess=h)}());var d=s._waitingFor;return new le(function(h,m){c.then(function(w){return s._waitingQueue.push(Te(h.bind(null,w)))},function(w){return s._waitingQueue.push(Te(m.bind(null,w)))}).finally(function(){s._waitingFor===d&&(s._waitingFor=null)})})},Le.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ae.Abort))},Le.prototype.table=function(i){var l=this._memoizedTables||(this._memoizedTables={});if(x(l,i))return l[i];var s=this.schema[i];if(!s)throw new ae.NotFound("Table "+i+" not part of transaction");return s=new this.db.Table(i,s,this),s.core=this.db.core.table(i),l[i]=s},Le);function Le(){}function ar(i,l,s,c,d,h,m,w){return{name:i,keyPath:l,unique:s,multi:c,auto:d,compound:h,src:(s&&!m?"&":"")+(c?"*":"")+(d?"++":"")+Wn(l),type:w}}function Wn(i){return typeof i=="string"?i:i?"["+[].join.call(i,"+")+"]":""}function fi(i,l,s){return{name:i,primKey:l,indexes:s,mappedClass:null,idxByName:(c=function(d){return[d.name,d]},s.reduce(function(d,h,m){return m=c(h,m),m&&(d[m[0]]=m[1]),d},{}))};var c}var di=function(i){try{return i.only([[]]),di=function(){return[[]]},[[]]}catch{return di=function(){return mr},mr}};function sr(i){return i==null?function(){}:typeof i=="string"?(l=i).split(".").length===1?function(s){return s[l]}:function(s){return G(s,l)}:function(s){return G(s,i)};var l}function Cf(i){return[].slice.call(i)}var im=0;function Co(i){return i==null?":id":typeof i=="string"?i:"[".concat(i.join("+"),"]")}function om(i,l,E){function c(T){if(T.type===3)return null;if(T.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var D=T.lower,P=T.upper,R=T.lowerOpen,T=T.upperOpen;return D===void 0?P===void 0?null:l.upperBound(P,!!T):P===void 0?l.lowerBound(D,!!R):l.bound(D,P,!!R,!!T)}function d(A){var D,P=A.name;return{name:P,schema:A,mutate:function(R){var T=R.trans,M=R.type,B=R.keys,U=R.values,W=R.range;return new Promise(function(te,oe){te=Te(te);var re=T.objectStore(P),ie=re.keyPath==null,de=M==="put"||M==="add";if(!de&&M!=="delete"&&M!=="deleteRange")throw new Error("Invalid operation type: "+M);var se,ge=(B||U||{length:1}).length;if(B&&U&&B.length!==U.length)throw new Error("Given keys array must have same length as given values array.");if(ge===0)return te({numFailures:0,failures:{},results:[],lastResult:void 0});function Oe(rn){++ht,V(rn)}var Ke=[],De=[],ht=0;if(M==="deleteRange"){if(W.type===4)return te({numFailures:ht,failures:De,results:[],lastResult:void 0});W.type===3?Ke.push(se=re.clear()):Ke.push(se=re.delete(c(W)))}else{var ie=de?ie?[U,B]:[U,null]:[B,null],je=ie[0],Vt=ie[1];if(de)for(var Ht=0;Ht<ge;++Ht)Ke.push(se=Vt&&Vt[Ht]!==void 0?re[M](je[Ht],Vt[Ht]):re[M](je[Ht])),se.onerror=Oe;else for(Ht=0;Ht<ge;++Ht)Ke.push(se=re[M](je[Ht])),se.onerror=Oe}function ql(rn){rn=rn.target.result,Ke.forEach(function(gi,Us){return gi.error!=null&&(De[Us]=gi.error)}),te({numFailures:ht,failures:De,results:M==="delete"?B:Ke.map(function(gi){return gi.result}),lastResult:rn})}se.onerror=function(rn){Oe(rn),ql(rn)},se.onsuccess=ql})},getMany:function(R){var T=R.trans,M=R.keys;return new Promise(function(B,U){B=Te(B);for(var W,te=T.objectStore(P),oe=M.length,re=new Array(oe),ie=0,de=0,se=function(Ke){Ke=Ke.target,re[Ke._pos]=Ke.result,++de===ie&&B(re)},ge=L(U),Oe=0;Oe<oe;++Oe)M[Oe]!=null&&((W=te.get(M[Oe]))._pos=Oe,W.onsuccess=se,W.onerror=ge,++ie);ie===0&&B(re)})},get:function(R){var T=R.trans,M=R.key;return new Promise(function(B,U){B=Te(B);var W=T.objectStore(P).get(M);W.onsuccess=function(te){return B(te.target.result)},W.onerror=L(U)})},query:(D=O,function(R){return new Promise(function(T,M){T=Te(T);var B,U,W,ie=R.trans,te=R.values,oe=R.limit,se=R.query,re=oe===1/0?void 0:oe,de=se.index,se=se.range,ie=ie.objectStore(P),de=de.isPrimaryKey?ie:ie.index(de.name),se=c(se);if(oe===0)return T({result:[]});D?((re=te?de.getAll(se,re):de.getAllKeys(se,re)).onsuccess=function(ge){return T({result:ge.target.result})},re.onerror=L(M)):(B=0,U=!te&&"openKeyCursor"in de?de.openKeyCursor(se):de.openCursor(se),W=[],U.onsuccess=function(ge){var Oe=U.result;return Oe?(W.push(te?Oe.value:Oe.primaryKey),++B===oe?T({result:W}):void Oe.continue()):T({result:W})},U.onerror=L(M))})}),openCursor:function(R){var T=R.trans,M=R.values,B=R.query,U=R.reverse,W=R.unique;return new Promise(function(te,oe){te=Te(te);var de=B.index,re=B.range,ie=T.objectStore(P),ie=de.isPrimaryKey?ie:ie.index(de.name),de=U?W?"prevunique":"prev":W?"nextunique":"next",se=!M&&"openKeyCursor"in ie?ie.openKeyCursor(c(re),de):ie.openCursor(c(re),de);se.onerror=L(oe),se.onsuccess=Te(function(ge){var Oe,Ke,De,ht,je=se.result;je?(je.___id=++im,je.done=!1,Oe=je.continue.bind(je),Ke=(Ke=je.continuePrimaryKey)&&Ke.bind(je),De=je.advance.bind(je),ht=function(){throw new Error("Cursor not stopped")},je.trans=T,je.stop=je.continue=je.continuePrimaryKey=je.advance=function(){throw new Error("Cursor not started")},je.fail=Te(oe),je.next=function(){var Vt=this,Ht=1;return this.start(function(){return Ht--?Vt.continue():Vt.stop()}).then(function(){return Vt})},je.start=function(Vt){function Ht(){if(se.result)try{Vt()}catch(rn){je.fail(rn)}else je.done=!0,je.start=function(){throw new Error("Cursor behind last entry")},je.stop()}var ql=new Promise(function(rn,gi){rn=Te(rn),se.onerror=L(gi),je.fail=gi,je.stop=function(Us){je.stop=je.continue=je.continuePrimaryKey=je.advance=ht,rn(Us)}});return se.onsuccess=Te(function(rn){se.onsuccess=Ht,Ht()}),je.continue=Oe,je.continuePrimaryKey=Ke,je.advance=De,Ht(),ql},te(je)):te(null)},oe)})},count:function(R){var T=R.query,M=R.trans,B=T.index,U=T.range;return new Promise(function(W,te){var oe=M.objectStore(P),re=B.isPrimaryKey?oe:oe.index(B.name),oe=c(U),re=oe?re.count(oe):re.count();re.onsuccess=Te(function(ie){return W(ie.target.result)}),re.onerror=L(te)})}}}var h,m,w,N=(m=E,w=Cf((h=i).objectStoreNames),{schema:{name:h.name,tables:w.map(function(A){return m.objectStore(A)}).map(function(A){var D=A.keyPath,T=A.autoIncrement,P=f(D),R={},T={name:A.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:D==null,compound:P,keyPath:D,autoIncrement:T,unique:!0,extractKey:sr(D)},indexes:Cf(A.indexNames).map(function(M){return A.index(M)}).map(function(W){var B=W.name,U=W.unique,te=W.multiEntry,W=W.keyPath,te={name:B,compound:f(W),keyPath:W,unique:U,multiEntry:te,extractKey:sr(W)};return R[Co(W)]=te}),getIndexByKeyPath:function(M){return R[Co(M)]}};return R[":id"]=T.primaryKey,D!=null&&(R[Co(D)]=T.primaryKey),T})},hasGetAll:0<w.length&&"getAll"in m.objectStore(w[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),E=N.schema,O=N.hasGetAll,N=E.tables.map(d),b={};return N.forEach(function(A){return b[A.name]=A}),{stack:"dbcore",transaction:i.transaction.bind(i),table:function(A){if(!b[A])throw new Error("Table '".concat(A,"' not found"));return b[A]},MIN_KEY:-1/0,MAX_KEY:di(l),schema:E}}function lm(i,l,s,c){var d=s.IDBKeyRange;return s.indexedDB,{dbcore:(c=om(l,d,c),i.dbcore.reduce(function(h,m){return m=m.create,r(r({},h),m(h))},c))}}function Ml(i,c){var s=c.db,c=lm(i._middlewares,s,i._deps,c);i.core=c.dbcore,i.tables.forEach(function(d){var h=d.name;i.core.schema.tables.some(function(m){return m.name===h})&&(d.core=i.core.table(h),i[h]instanceof i.Table&&(i[h].core=d.core))})}function Ll(i,l,s,c){s.forEach(function(d){var h=c[d];l.forEach(function(m){var w=function E(O,N){return Y(O,N)||(O=g(O))&&E(O,N)}(m,d);(!w||"value"in w&&w.value===void 0)&&(m===i.Transaction.prototype||m instanceof i.Transaction?F(m,d,{get:function(){return this.table(d)},set:function(E){z(this,d,{value:E,writable:!0,configurable:!0,enumerable:!0})}}):m[d]=new i.Table(d,h))})})}function Es(i,l){l.forEach(function(s){for(var c in s)s[c]instanceof i.Table&&delete s[c]})}function am(i,l){return i._cfg.version-l._cfg.version}function sm(i,l,s,c){var d=i._dbSchema;s.objectStoreNames.contains("$meta")&&!d.$meta&&(d.$meta=fi("$meta",Ef("")[0],[]),i._storeNames.push("$meta"));var h=i._createTransaction("readwrite",i._storeNames,d);h.create(s),h._completion.catch(c);var m=h._reject.bind(h),w=he.transless||he;er(function(){return he.trans=h,he.transless=w,l!==0?(Ml(i,s),O=l,((E=h).storeNames.includes("$meta")?E.table("$meta").get("version").then(function(N){return N??O}):le.resolve(O)).then(function(N){return A=N,D=h,P=s,R=[],N=(b=i)._versions,T=b._dbSchema=Bl(0,b.idbdb,P),(N=N.filter(function(M){return M._cfg.version>=A})).length!==0?(N.forEach(function(M){R.push(function(){var B=T,U=M._cfg.dbschema;Fl(b,B,P),Fl(b,U,P),T=b._dbSchema=U;var W=js(B,U);W.add.forEach(function(de){Ds(P,de[0],de[1].primKey,de[1].indexes)}),W.change.forEach(function(de){if(de.recreate)throw new ae.Upgrade("Not yet support for changing primary key");var se=P.objectStore(de.name);de.add.forEach(function(ge){return zl(se,ge)}),de.change.forEach(function(ge){se.deleteIndex(ge.name),zl(se,ge)}),de.del.forEach(function(ge){return se.deleteIndex(ge)})});var te=M._cfg.contentUpgrade;if(te&&M._cfg.version>A){Ml(b,P),D._memoizedTables={};var oe=ee(U);W.del.forEach(function(de){oe[de]=B[de]}),Es(b,[b.Transaction.prototype]),Ll(b,[b.Transaction.prototype],u(oe),oe),D.schema=oe;var re,ie=_e(te);return ie&&Tr(),W=le.follow(function(){var de;(re=te(D))&&ie&&(de=tr.bind(null,null),re.then(de,de))}),re&&typeof re.then=="function"?le.resolve(re):W.then(function(){return re})}}),R.push(function(B){var U,W,te=M._cfg.dbschema;U=te,W=B,[].slice.call(W.db.objectStoreNames).forEach(function(oe){return U[oe]==null&&W.db.deleteObjectStore(oe)}),Es(b,[b.Transaction.prototype]),Ll(b,[b.Transaction.prototype],b._storeNames,b._dbSchema),D.schema=b._dbSchema}),R.push(function(B){b.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(b.idbdb.version/10)===M._cfg.version?(b.idbdb.deleteObjectStore("$meta"),delete b._dbSchema.$meta,b._storeNames=b._storeNames.filter(function(U){return U!=="$meta"})):B.objectStore("$meta").put(M._cfg.version,"version"))})}),function M(){return R.length?le.resolve(R.shift()(D.idbtrans)).then(M):le.resolve()}().then(function(){_f(T,P)})):le.resolve();var b,A,D,P,R,T}).catch(m)):(u(d).forEach(function(N){Ds(s,N,d[N].primKey,d[N].indexes)}),Ml(i,s),void le.follow(function(){return i.on.populate.fire(h)}).catch(m));var E,O})}function um(i,l){_f(i._dbSchema,l),l.db.version%10!=0||l.objectStoreNames.contains("$meta")||l.db.createObjectStore("$meta").add(Math.ceil(l.db.version/10-1),"version");var s=Bl(0,i.idbdb,l);Fl(i,i._dbSchema,l);for(var c=0,d=js(s,i._dbSchema).change;c<d.length;c++){var h=function(m){if(m.change.length||m.recreate)return console.warn("Unable to patch indexes of table ".concat(m.name," because it has changes on the type of index or primary key.")),{value:void 0};var w=l.objectStore(m.name);m.add.forEach(function(E){st&&console.debug("Dexie upgrade patch: Creating missing index ".concat(m.name,".").concat(E.src)),zl(w,E)})}(d[c]);if(typeof h=="object")return h.value}}function js(i,l){var s,c={del:[],add:[],change:[]};for(s in i)l[s]||c.del.push(s);for(s in l){var d=i[s],h=l[s];if(d){var m={name:s,def:h,recreate:!1,del:[],add:[],change:[]};if(""+(d.primKey.keyPath||"")!=""+(h.primKey.keyPath||"")||d.primKey.auto!==h.primKey.auto)m.recreate=!0,c.change.push(m);else{var w=d.idxByName,E=h.idxByName,O=void 0;for(O in w)E[O]||m.del.push(O);for(O in E){var N=w[O],b=E[O];N?N.src!==b.src&&m.change.push(b):m.add.push(b)}(0<m.del.length||0<m.add.length||0<m.change.length)&&c.change.push(m)}}else c.add.push([s,h])}return c}function Ds(i,l,s,c){var d=i.db.createObjectStore(l,s.keyPath?{keyPath:s.keyPath,autoIncrement:s.auto}:{autoIncrement:s.auto});return c.forEach(function(h){return zl(d,h)}),d}function _f(i,l){u(i).forEach(function(s){l.db.objectStoreNames.contains(s)||(st&&console.debug("Dexie: Creating missing table",s),Ds(l,s,i[s].primKey,i[s].indexes))})}function zl(i,l){i.createIndex(l.name,l.keyPath,{unique:l.unique,multiEntry:l.multi})}function Bl(i,l,s){var c={};return y(l.objectStoreNames,0).forEach(function(d){for(var h=s.objectStore(d),m=ar(Wn(O=h.keyPath),O||"",!0,!1,!!h.autoIncrement,O&&typeof O!="string",!0),w=[],E=0;E<h.indexNames.length;++E){var N=h.index(h.indexNames[E]),O=N.keyPath,N=ar(N.name,O,!!N.unique,!!N.multiEntry,!1,O&&typeof O!="string",!1);w.push(N)}c[d]=fi(d,m,w)}),c}function Fl(i,l,s){for(var c=s.db.objectStoreNames,d=0;d<c.length;++d){var h=c[d],m=s.objectStore(h);i._hasGetAll="getAll"in m;for(var w=0;w<m.indexNames.length;++w){var E=m.indexNames[w],O=m.index(E).keyPath,N=typeof O=="string"?O:"["+y(O).join("+")+"]";!l[h]||(O=l[h].idxByName[N])&&(O.name=E,delete l[h].idxByName[N],l[h].idxByName[E]=O)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&a.WorkerGlobalScope&&a instanceof a.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(i._hasGetAll=!1)}function Ef(i){return i.split(",").map(function(l,s){var h=l.split(":"),c=(d=h[1])===null||d===void 0?void 0:d.trim(),d=(l=h[0].trim()).replace(/([&*]|\+\+)/g,""),h=/^\[/.test(d)?d.match(/^\[(.*)\]$/)[1].split("+"):d;return ar(d,h||null,/\&/.test(l),/\*/.test(l),/\+\+/.test(l),f(h),s===0,c)})}var cm=(Bi.prototype._createTableSchema=fi,Bi.prototype._parseIndexSyntax=Ef,Bi.prototype._parseStoresSpec=function(i,l){var s=this;u(i).forEach(function(c){if(i[c]!==null){var d=s._parseIndexSyntax(i[c]),h=d.shift();if(!h)throw new ae.Schema("Invalid schema for table "+c+": "+i[c]);if(h.unique=!0,h.multi)throw new ae.Schema("Primary key cannot be multiEntry*");d.forEach(function(m){if(m.auto)throw new ae.Schema("Only primary key can be marked as autoIncrement (++)");if(!m.keyPath)throw new ae.Schema("Index must have a name and cannot be an empty string")}),d=s._createTableSchema(c,h,d),l[c]=d}})},Bi.prototype.stores=function(s){var l=this.db;this._cfg.storesSource=this._cfg.storesSource?p(this._cfg.storesSource,s):s;var s=l._versions,c={},d={};return s.forEach(function(h){p(c,h._cfg.storesSource),d=h._cfg.dbschema={},h._parseStoresSpec(c,d)}),l._dbSchema=d,Es(l,[l._allTables,l,l.Transaction.prototype]),Ll(l,[l._allTables,l,l.Transaction.prototype,this._cfg.tables],u(d),d),l._storeNames=u(d),this},Bi.prototype.upgrade=function(i){return this._cfg.contentUpgrade=Gt(this._cfg.contentUpgrade||we,i),this},Bi);function Bi(){}function Is(i,l){var s=i._dbNamesDB;return s||(s=i._dbNamesDB=new wr(ai,{addons:[],indexedDB:i,IDBKeyRange:l})).version(1).stores({dbnames:"name"}),s.table("dbnames")}function Os(i){return i&&typeof i.databases=="function"}function Ps(i){return er(function(){return he.letThrough=!0,i()})}function Ns(i){return!("from"in i)}var Wt=function(i,l){if(!this){var s=new Wt;return i&&"d"in i&&p(s,i),s}p(this,arguments.length?{d:1,from:i,to:1<arguments.length?l:i}:{d:0})};function _o(i,l,s){var c=Ae(l,s);if(!isNaN(c)){if(0<c)throw RangeError();if(Ns(i))return p(i,{from:l,to:s,d:1});var d=i.l,c=i.r;if(Ae(s,i.from)<0)return d?_o(d,l,s):i.l={from:l,to:s,d:1,l:null,r:null},Df(i);if(0<Ae(l,i.to))return c?_o(c,l,s):i.r={from:l,to:s,d:1,l:null,r:null},Df(i);Ae(l,i.from)<0&&(i.from=l,i.l=null,i.d=c?c.d+1:1),0<Ae(s,i.to)&&(i.to=s,i.r=null,i.d=i.l?i.l.d+1:1),s=!i.r,d&&!i.l&&Eo(i,d),c&&s&&Eo(i,c)}}function Eo(i,l){Ns(l)||function s(c,E){var h=E.from,m=E.to,w=E.l,E=E.r;_o(c,h,m),w&&s(c,w),E&&s(c,E)}(i,l)}function jf(i,l){var s=Kl(l),c=s.next();if(c.done)return!1;for(var d=c.value,h=Kl(i),m=h.next(d.from),w=m.value;!c.done&&!m.done;){if(Ae(w.from,d.to)<=0&&0<=Ae(w.to,d.from))return!0;Ae(d.from,w.from)<0?d=(c=s.next(w.from)).value:w=(m=h.next(d.from)).value}return!1}function Kl(i){var l=Ns(i)?null:{s:0,n:i};return{next:function(s){for(var c=0<arguments.length;l;)switch(l.s){case 0:if(l.s=1,c)for(;l.n.l&&Ae(s,l.n.from)<0;)l={up:l,n:l.n.l,s:1};else for(;l.n.l;)l={up:l,n:l.n.l,s:1};case 1:if(l.s=2,!c||Ae(s,l.n.to)<=0)return{value:l.n,done:!1};case 2:if(l.n.r){l.s=3,l={up:l,n:l.n.r,s:0};continue}case 3:l=l.up}return{done:!0}}}}function Df(i){var l,s,c=(((l=i.r)===null||l===void 0?void 0:l.d)||0)-(((s=i.l)===null||s===void 0?void 0:s.d)||0),d=1<c?"r":c<-1?"l":"";d&&(l=d=="r"?"l":"r",s=r({},i),c=i[d],i.from=c.from,i.to=c.to,i[d]=c[d],s[d]=c[l],(i[l]=s).d=If(s)),i.d=If(i)}function If(s){var l=s.r,s=s.l;return(l?s?Math.max(l.d,s.d):l.d:s?s.d:0)+1}function $l(i,l){return u(l).forEach(function(s){i[s]?Eo(i[s],l[s]):i[s]=function c(d){var h,m,w={};for(h in d)x(d,h)&&(m=d[h],w[h]=!m||typeof m!="object"||H.has(m.constructor)?m:c(m));return w}(l[s])}),i}function Ts(i,l){return i.all||l.all||Object.keys(i).some(function(s){return l[s]&&jf(l[s],i[s])})}j(Wt.prototype,((Nn={add:function(i){return Eo(this,i),this},addKey:function(i){return _o(this,i,i),this},addKeys:function(i){var l=this;return i.forEach(function(s){return _o(l,s,s)}),this},hasKey:function(i){var l=Kl(this).next(i).value;return l&&Ae(l.from,i)<=0&&0<=Ae(l.to,i)}})[be]=function(){return Kl(this)},Nn));var pi={},Rs={},As=!1;function Ul(i){$l(Rs,i),As||(As=!0,setTimeout(function(){As=!1,Ms(Rs,!(Rs={}))},0))}function Ms(i,l){l===void 0&&(l=!1);var s=new Set;if(i.all)for(var c=0,d=Object.values(pi);c<d.length;c++)Of(m=d[c],i,s,l);else for(var h in i){var m,w=/^idb\:\/\/(.*)\/(.*)\//.exec(h);w&&(h=w[1],w=w[2],(m=pi["idb://".concat(h,"/").concat(w)])&&Of(m,i,s,l))}s.forEach(function(E){return E()})}function Of(i,l,s,c){for(var d=[],h=0,m=Object.entries(i.queries.query);h<m.length;h++){for(var w=m[h],E=w[0],O=[],N=0,b=w[1];N<b.length;N++){var A=b[N];Ts(l,A.obsSet)?A.subscribers.forEach(function(T){return s.add(T)}):c&&O.push(A)}c&&d.push([E,O])}if(c)for(var D=0,P=d;D<P.length;D++){var R=P[D],E=R[0],O=R[1];i.queries.query[E]=O}}function fm(i){var l=i._state,s=i._deps.indexedDB;if(l.isBeingOpened||i.idbdb)return l.dbReadyPromise.then(function(){return l.dbOpenError?nt(l.dbOpenError):i});l.isBeingOpened=!0,l.dbOpenError=null,l.openComplete=!1;var c=l.openCanceller,d=Math.round(10*i.verno),h=!1;function m(){if(l.openCanceller!==c)throw new ae.DatabaseClosed("db.open() was cancelled")}function w(){return new le(function(A,D){if(m(),!s)throw new ae.MissingAPI;var P=i.name,R=l.autoSchema||!d?s.open(P):s.open(P,d);if(!R)throw new ae.MissingAPI;R.onerror=L(D),R.onblocked=Te(i._fireOnBlocked),R.onupgradeneeded=Te(function(T){var M;N=R.transaction,l.autoSchema&&!i._options.allowEmptyDB?(R.onerror=V,N.abort(),R.result.close(),(M=s.deleteDatabase(P)).onsuccess=M.onerror=Te(function(){D(new ae.NoSuchDatabase("Database ".concat(P," doesnt exist")))})):(N.onerror=L(D),T=T.oldVersion>Math.pow(2,62)?0:T.oldVersion,b=T<1,i.idbdb=R.result,h&&um(i,N),sm(i,T/10,N,D))},D),R.onsuccess=Te(function(){N=null;var T,M,B,U,W,te=i.idbdb=R.result,oe=y(te.objectStoreNames);if(0<oe.length)try{var re=te.transaction((U=oe).length===1?U[0]:U,"readonly");if(l.autoSchema)M=te,B=re,(T=i).verno=M.version/10,B=T._dbSchema=Bl(0,M,B),T._storeNames=y(M.objectStoreNames,0),Ll(T,[T._allTables],u(B),B);else if(Fl(i,i._dbSchema,re),((W=js(Bl(0,(W=i).idbdb,re),W._dbSchema)).add.length||W.change.some(function(ie){return ie.add.length||ie.change.length}))&&!h)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),te.close(),d=te.version+1,h=!0,A(w());Ml(i,re)}catch{}$n.push(i),te.onversionchange=Te(function(ie){l.vcFired=!0,i.on("versionchange").fire(ie)}),te.onclose=Te(function(ie){i.on("close").fire(ie)}),b&&(W=i._deps,re=P,te=W.indexedDB,W=W.IDBKeyRange,Os(te)||re===ai||Is(te,W).put({name:re}).catch(we)),A()},D)}).catch(function(A){switch(A==null?void 0:A.name){case"UnknownError":if(0<l.PR1398_maxLoop)return l.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),w();break;case"VersionError":if(0<d)return d=0,w()}return le.reject(A)})}var E,O=l.dbReadyResolve,N=null,b=!1;return le.race([c,(typeof navigator>"u"?le.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(A){function D(){return indexedDB.databases().finally(A)}E=setInterval(D,100),D()}).finally(function(){return clearInterval(E)}):Promise.resolve()).then(w)]).then(function(){return m(),l.onReadyBeingFired=[],le.resolve(Ps(function(){return i.on.ready.fire(i.vip)})).then(function A(){if(0<l.onReadyBeingFired.length){var D=l.onReadyBeingFired.reduce(Gt,we);return l.onReadyBeingFired=[],le.resolve(Ps(function(){return D(i.vip)})).then(A)}})}).finally(function(){l.openCanceller===c&&(l.onReadyBeingFired=null,l.isBeingOpened=!1)}).catch(function(A){l.dbOpenError=A;try{N&&N.abort()}catch{}return c===l.openCanceller&&i._close(),nt(A)}).finally(function(){l.openComplete=!0,O()}).then(function(){var A;return b&&(A={},i.tables.forEach(function(D){D.schema.indexes.forEach(function(P){P.name&&(A["idb://".concat(i.name,"/").concat(D.name,"/").concat(P.name)]=new Wt(-1/0,[[[]]]))}),A["idb://".concat(i.name,"/").concat(D.name,"/")]=A["idb://".concat(i.name,"/").concat(D.name,"/:dels")]=new Wt(-1/0,[[[]]])}),ye(Q).fire(A),Ms(A,!0)),i})}function Ls(i){function l(h){return i.next(h)}var s=d(l),c=d(function(h){return i.throw(h)});function d(h){return function(E){var w=h(E),E=w.value;return w.done?E:E&&typeof E.then=="function"?E.then(s,c):f(E)?Promise.all(E).then(s,c):s(E)}}return d(l)()}function Wl(i,l,s){for(var c=f(i)?i.slice():[i],d=0;d<s;++d)c.push(l);return c}var dm={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(i){return r(r({},i),{table:function(l){var s=i.table(l),c=s.schema,d={},h=[];function m(b,A,D){var P=Co(b),R=d[P]=d[P]||[],T=b==null?0:typeof b=="string"?1:b.length,M=0<A,M=r(r({},D),{name:M?"".concat(P,"(virtual-from:").concat(D.name,")"):D.name,lowLevelIndex:D,isVirtual:M,keyTail:A,keyLength:T,extractKey:sr(b),unique:!M&&D.unique});return R.push(M),M.isPrimaryKey||h.push(M),1<T&&m(T===2?b[0]:b.slice(0,T-1),A+1,D),R.sort(function(B,U){return B.keyTail-U.keyTail}),M}l=m(c.primaryKey.keyPath,0,c.primaryKey),d[":id"]=[l];for(var w=0,E=c.indexes;w<E.length;w++){var O=E[w];m(O.keyPath,0,O)}function N(b){var A,D=b.query.index;return D.isVirtual?r(r({},b),{query:{index:D.lowLevelIndex,range:(A=b.query.range,D=D.keyTail,{type:A.type===1?2:A.type,lower:Wl(A.lower,A.lowerOpen?i.MAX_KEY:i.MIN_KEY,D),lowerOpen:!0,upper:Wl(A.upper,A.upperOpen?i.MIN_KEY:i.MAX_KEY,D),upperOpen:!0})}}):b}return r(r({},s),{schema:r(r({},c),{primaryKey:l,indexes:h,getIndexByKeyPath:function(b){return(b=d[Co(b)])&&b[0]}}),count:function(b){return s.count(N(b))},query:function(b){return s.query(N(b))},openCursor:function(b){var A=b.query.index,D=A.keyTail,P=A.isVirtual,R=A.keyLength;return P?s.openCursor(N(b)).then(function(M){return M&&T(M)}):s.openCursor(b);function T(M){return Object.create(M,{continue:{value:function(B){B!=null?M.continue(Wl(B,b.reverse?i.MAX_KEY:i.MIN_KEY,D)):b.unique?M.continue(M.key.slice(0,R).concat(b.reverse?i.MIN_KEY:i.MAX_KEY,D)):M.continue()}},continuePrimaryKey:{value:function(B,U){M.continuePrimaryKey(Wl(B,i.MAX_KEY,D),U)}},primaryKey:{get:function(){return M.primaryKey}},key:{get:function(){var B=M.key;return R===1?B[0]:B.slice(0,R)}},value:{get:function(){return M.value}}})}}})}})}};function zs(i,l,s,c){return s=s||{},c=c||"",u(i).forEach(function(d){var h,m,w;x(l,d)?(h=i[d],m=l[d],typeof h=="object"&&typeof m=="object"&&h&&m?(w=Ue(h))!==Ue(m)?s[c+d]=l[d]:w==="Object"?zs(h,m,s,c+d+"."):h!==m&&(s[c+d]=l[d]):h!==m&&(s[c+d]=l[d])):s[c+d]=void 0}),u(l).forEach(function(d){x(i,d)||(s[c+d]=l[d])}),s}function Bs(i,l){return l.type==="delete"?l.keys:l.keys||l.values.map(i.extractKey)}var pm={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(i){return r(r({},i),{table:function(l){var s=i.table(l),c=s.schema.primaryKey;return r(r({},s),{mutate:function(d){var h=he.trans,m=h.table(l).hook,w=m.deleting,E=m.creating,O=m.updating;switch(d.type){case"add":if(E.fire===we)break;return h._promise("readwrite",function(){return N(d)},!0);case"put":if(E.fire===we&&O.fire===we)break;return h._promise("readwrite",function(){return N(d)},!0);case"delete":if(w.fire===we)break;return h._promise("readwrite",function(){return N(d)},!0);case"deleteRange":if(w.fire===we)break;return h._promise("readwrite",function(){return function b(A,D,P){return s.query({trans:A,values:!1,query:{index:c,range:D},limit:P}).then(function(R){var T=R.result;return N({type:"delete",keys:T,trans:A}).then(function(M){return 0<M.numFailures?Promise.reject(M.failures[0]):T.length<P?{failures:[],numFailures:0,lastResult:void 0}:b(A,r(r({},D),{lower:T[T.length-1],lowerOpen:!0}),P)})})}(d.trans,d.range,1e4)},!0)}return s.mutate(d);function N(b){var A,D,P,R=he.trans,T=b.keys||Bs(c,b);if(!T)throw new Error("Keys missing");return(b=b.type==="add"||b.type==="put"?r(r({},b),{keys:T}):r({},b)).type!=="delete"&&(b.values=o([],b.values)),b.keys&&(b.keys=o([],b.keys)),A=s,P=T,((D=b).type==="add"?Promise.resolve([]):A.getMany({trans:D.trans,keys:P,cache:"immutable"})).then(function(M){var B=T.map(function(U,W){var te,oe,re,ie=M[W],de={onerror:null,onsuccess:null};return b.type==="delete"?w.fire.call(de,U,ie,R):b.type==="add"||ie===void 0?(te=E.fire.call(de,U,b.values[W],R),U==null&&te!=null&&(b.keys[W]=U=te,c.outbound||q(b.values[W],c.keyPath,U))):(te=zs(ie,b.values[W]),(oe=O.fire.call(de,te,U,ie,R))&&(re=b.values[W],Object.keys(oe).forEach(function(se){x(re,se)?re[se]=oe[se]:q(re,se,oe[se])}))),de});return s.mutate(b).then(function(U){for(var W=U.failures,te=U.results,oe=U.numFailures,U=U.lastResult,re=0;re<T.length;++re){var ie=(te||T)[re],de=B[re];ie==null?de.onerror&&de.onerror(W[re]):de.onsuccess&&de.onsuccess(b.type==="put"&&M[re]?b.values[re]:ie)}return{failures:W,results:te,numFailures:oe,lastResult:U}}).catch(function(U){return B.forEach(function(W){return W.onerror&&W.onerror(U)}),Promise.reject(U)})})}}})}})}};function Pf(i,l,s){try{if(!l||l.keys.length<i.length)return null;for(var c=[],d=0,h=0;d<l.keys.length&&h<i.length;++d)Ae(l.keys[d],i[h])===0&&(c.push(s?Z(l.values[d]):l.values[d]),++h);return c.length===i.length?c:null}catch{return null}}var hm={stack:"dbcore",level:-1,create:function(i){return{table:function(l){var s=i.table(l);return r(r({},s),{getMany:function(c){if(!c.cache)return s.getMany(c);var d=Pf(c.keys,c.trans._cache,c.cache==="clone");return d?le.resolve(d):s.getMany(c).then(function(h){return c.trans._cache={keys:c.keys,values:c.cache==="clone"?Z(h):h},h})},mutate:function(c){return c.type!=="add"&&(c.trans._cache=null),s.mutate(c)}})}}}};function Nf(i,l){return i.trans.mode==="readonly"&&!!i.subscr&&!i.trans.explicit&&i.trans.db._options.cache!=="disabled"&&!l.schema.primaryKey.outbound}function Tf(i,l){switch(i){case"query":return l.values&&!l.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var gm={stack:"dbcore",level:0,name:"Observability",create:function(i){var l=i.schema.name,s=new Wt(i.MIN_KEY,i.MAX_KEY);return r(r({},i),{transaction:function(c,d,h){if(he.subscr&&d!=="readonly")throw new ae.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(he.querier));return i.transaction(c,d,h)},table:function(c){var d=i.table(c),h=d.schema,m=h.primaryKey,b=h.indexes,w=m.extractKey,E=m.outbound,O=m.autoIncrement&&b.filter(function(D){return D.compound&&D.keyPath.includes(m.keyPath)}),N=r(r({},d),{mutate:function(D){function P(se){return se="idb://".concat(l,"/").concat(c,"/").concat(se),U[se]||(U[se]=new Wt)}var R,T,M,B=D.trans,U=D.mutatedParts||(D.mutatedParts={}),W=P(""),te=P(":dels"),oe=D.type,de=D.type==="deleteRange"?[D.range]:D.type==="delete"?[D.keys]:D.values.length<50?[Bs(m,D).filter(function(se){return se}),D.values]:[],re=de[0],ie=de[1],de=D.trans._cache;return f(re)?(W.addKeys(re),(de=oe==="delete"||re.length===ie.length?Pf(re,de):null)||te.addKeys(re),(de||ie)&&(R=P,T=de,M=ie,h.indexes.forEach(function(se){var ge=R(se.name||"");function Oe(De){return De!=null?se.extractKey(De):null}function Ke(De){return se.multiEntry&&f(De)?De.forEach(function(ht){return ge.addKey(ht)}):ge.addKey(De)}(T||M).forEach(function(De,Vt){var je=T&&Oe(T[Vt]),Vt=M&&Oe(M[Vt]);Ae(je,Vt)!==0&&(je!=null&&Ke(je),Vt!=null&&Ke(Vt))})}))):re?(ie={from:(ie=re.lower)!==null&&ie!==void 0?ie:i.MIN_KEY,to:(ie=re.upper)!==null&&ie!==void 0?ie:i.MAX_KEY},te.add(ie),W.add(ie)):(W.add(s),te.add(s),h.indexes.forEach(function(se){return P(se.name).add(s)})),d.mutate(D).then(function(se){return!re||D.type!=="add"&&D.type!=="put"||(W.addKeys(se.results),O&&O.forEach(function(ge){for(var Oe=D.values.map(function(je){return ge.extractKey(je)}),Ke=ge.keyPath.findIndex(function(je){return je===m.keyPath}),De=0,ht=se.results.length;De<ht;++De)Oe[De][Ke]=se.results[De];P(ge.name).addKeys(Oe)})),B.mutatedParts=$l(B.mutatedParts||{},U),se})}}),b=function(P){var R=P.query,P=R.index,R=R.range;return[P,new Wt((P=R.lower)!==null&&P!==void 0?P:i.MIN_KEY,(R=R.upper)!==null&&R!==void 0?R:i.MAX_KEY)]},A={get:function(D){return[m,new Wt(D.key)]},getMany:function(D){return[m,new Wt().addKeys(D.keys)]},count:b,query:b,openCursor:b};return u(A).forEach(function(D){N[D]=function(P){var R=he.subscr,T=!!R,M=Nf(he,d)&&Tf(D,P)?P.obsSet={}:R;if(T){var B=function(ie){return ie="idb://".concat(l,"/").concat(c,"/").concat(ie),M[ie]||(M[ie]=new Wt)},U=B(""),W=B(":dels"),R=A[D](P),T=R[0],R=R[1];if((D==="query"&&T.isPrimaryKey&&!P.values?W:B(T.name||"")).add(R),!T.isPrimaryKey){if(D!=="count"){var te=D==="query"&&E&&P.values&&d.query(r(r({},P),{values:!1}));return d[D].apply(this,arguments).then(function(ie){if(D==="query"){if(E&&P.values)return te.then(function(Oe){return Oe=Oe.result,U.addKeys(Oe),ie});var de=P.values?ie.result.map(w):ie.result;(P.values?U:W).addKeys(de)}else if(D==="openCursor"){var se=ie,ge=P.values;return se&&Object.create(se,{key:{get:function(){return W.addKey(se.primaryKey),se.key}},primaryKey:{get:function(){var Oe=se.primaryKey;return W.addKey(Oe),Oe}},value:{get:function(){return ge&&U.addKey(se.primaryKey),se.value}}})}return ie})}W.add(s)}}return d[D].apply(this,arguments)}}),N}})}};function Rf(i,l,s){if(s.numFailures===0)return l;if(l.type==="deleteRange")return null;var c=l.keys?l.keys.length:"values"in l&&l.values?l.values.length:1;return s.numFailures===c?null:(l=r({},l),f(l.keys)&&(l.keys=l.keys.filter(function(d,h){return!(h in s.failures)})),"values"in l&&f(l.values)&&(l.values=l.values.filter(function(d,h){return!(h in s.failures)})),l)}function Fs(i,l){return s=i,((c=l).lower===void 0||(c.lowerOpen?0<Ae(s,c.lower):0<=Ae(s,c.lower)))&&(i=i,(l=l).upper===void 0||(l.upperOpen?Ae(i,l.upper)<0:Ae(i,l.upper)<=0));var s,c}function Af(i,l,A,c,d,h){if(!A||A.length===0)return i;var m=l.query.index,w=m.multiEntry,E=l.query.range,O=c.schema.primaryKey.extractKey,N=m.extractKey,b=(m.lowLevelIndex||m).extractKey,A=A.reduce(function(D,P){var R=D,T=[];if(P.type==="add"||P.type==="put")for(var M=new Wt,B=P.values.length-1;0<=B;--B){var U,W=P.values[B],te=O(W);M.hasKey(te)||(U=N(W),(w&&f(U)?U.some(function(se){return Fs(se,E)}):Fs(U,E))&&(M.addKey(te),T.push(W)))}switch(P.type){case"add":var oe=new Wt().addKeys(l.values?D.map(function(ge){return O(ge)}):D),R=D.concat(l.values?T.filter(function(ge){return ge=O(ge),!oe.hasKey(ge)&&(oe.addKey(ge),!0)}):T.map(function(ge){return O(ge)}).filter(function(ge){return!oe.hasKey(ge)&&(oe.addKey(ge),!0)}));break;case"put":var re=new Wt().addKeys(P.values.map(function(ge){return O(ge)}));R=D.filter(function(ge){return!re.hasKey(l.values?O(ge):ge)}).concat(l.values?T:T.map(function(ge){return O(ge)}));break;case"delete":var ie=new Wt().addKeys(P.keys);R=D.filter(function(ge){return!ie.hasKey(l.values?O(ge):ge)});break;case"deleteRange":var de=P.range;R=D.filter(function(ge){return!Fs(O(ge),de)})}return R},i);return A===i?i:(A.sort(function(D,P){return Ae(b(D),b(P))||Ae(O(D),O(P))}),l.limit&&l.limit<1/0&&(A.length>l.limit?A.length=l.limit:i.length===l.limit&&A.length<l.limit&&(d.dirty=!0)),h?Object.freeze(A):A)}function Mf(i,l){return Ae(i.lower,l.lower)===0&&Ae(i.upper,l.upper)===0&&!!i.lowerOpen==!!l.lowerOpen&&!!i.upperOpen==!!l.upperOpen}function mm(i,l){return function(s,c,d,h){if(s===void 0)return c!==void 0?-1:0;if(c===void 0)return 1;if((c=Ae(s,c))===0){if(d&&h)return 0;if(d)return 1;if(h)return-1}return c}(i.lower,l.lower,i.lowerOpen,l.lowerOpen)<=0&&0<=function(s,c,d,h){if(s===void 0)return c!==void 0?1:0;if(c===void 0)return-1;if((c=Ae(s,c))===0){if(d&&h)return 0;if(d)return-1;if(h)return 1}return c}(i.upper,l.upper,i.upperOpen,l.upperOpen)}function vm(i,l,s,c){i.subscribers.add(s),c.addEventListener("abort",function(){var d,h;i.subscribers.delete(s),i.subscribers.size===0&&(d=i,h=l,setTimeout(function(){d.subscribers.size===0&&X(h,d)},3e3))})}var ym={stack:"dbcore",level:0,name:"Cache",create:function(i){var l=i.schema.name;return r(r({},i),{transaction:function(s,c,d){var h,m,w=i.transaction(s,c,d);return c==="readwrite"&&(m=(h=new AbortController).signal,d=function(E){return function(){if(h.abort(),c==="readwrite"){for(var O=new Set,N=0,b=s;N<b.length;N++){var A=b[N],D=pi["idb://".concat(l,"/").concat(A)];if(D){var P=i.table(A),R=D.optimisticOps.filter(function(ge){return ge.trans===w});if(w._explicit&&E&&w.mutatedParts)for(var T=0,M=Object.values(D.queries.query);T<M.length;T++)for(var B=0,U=(oe=M[T]).slice();B<U.length;B++)Ts((re=U[B]).obsSet,w.mutatedParts)&&(X(oe,re),re.subscribers.forEach(function(ge){return O.add(ge)}));else if(0<R.length){D.optimisticOps=D.optimisticOps.filter(function(ge){return ge.trans!==w});for(var W=0,te=Object.values(D.queries.query);W<te.length;W++)for(var oe,re,ie,de=0,se=(oe=te[W]).slice();de<se.length;de++)(re=se[de]).res!=null&&w.mutatedParts&&(E&&!re.dirty?(ie=Object.isFrozen(re.res),ie=Af(re.res,re.req,R,P,re,ie),re.dirty?(X(oe,re),re.subscribers.forEach(function(ge){return O.add(ge)})):ie!==re.res&&(re.res=ie,re.promise=le.resolve({result:ie}))):(re.dirty&&X(oe,re),re.subscribers.forEach(function(ge){return O.add(ge)})))}}}O.forEach(function(ge){return ge()})}}},w.addEventListener("abort",d(!1),{signal:m}),w.addEventListener("error",d(!1),{signal:m}),w.addEventListener("complete",d(!0),{signal:m})),w},table:function(s){var c=i.table(s),d=c.schema.primaryKey;return r(r({},c),{mutate:function(h){var m=he.trans;if(d.outbound||m.db._options.cache==="disabled"||m.explicit||m.idbtrans.mode!=="readwrite")return c.mutate(h);var w=pi["idb://".concat(l,"/").concat(s)];return w?(m=c.mutate(h),h.type!=="add"&&h.type!=="put"||!(50<=h.values.length||Bs(d,h).some(function(E){return E==null}))?(w.optimisticOps.push(h),h.mutatedParts&&Ul(h.mutatedParts),m.then(function(E){0<E.numFailures&&(X(w.optimisticOps,h),(E=Rf(0,h,E))&&w.optimisticOps.push(E),h.mutatedParts&&Ul(h.mutatedParts))}),m.catch(function(){X(w.optimisticOps,h),h.mutatedParts&&Ul(h.mutatedParts)})):m.then(function(E){var O=Rf(0,r(r({},h),{values:h.values.map(function(N,b){var A;return E.failures[b]?N:(N=(A=d.keyPath)!==null&&A!==void 0&&A.includes(".")?Z(N):r({},N),q(N,d.keyPath,E.results[b]),N)})}),E);w.optimisticOps.push(O),queueMicrotask(function(){return h.mutatedParts&&Ul(h.mutatedParts)})}),m):c.mutate(h)},query:function(h){if(!Nf(he,c)||!Tf("query",h))return c.query(h);var m=((O=he.trans)===null||O===void 0?void 0:O.db._options.cache)==="immutable",b=he,w=b.requery,E=b.signal,O=function(P,R,T,M){var B=pi["idb://".concat(P,"/").concat(R)];if(!B)return[];if(!(R=B.queries[T]))return[null,!1,B,null];var U=R[(M.query?M.query.index.name:null)||""];if(!U)return[null,!1,B,null];switch(T){case"query":var W=U.find(function(te){return te.req.limit===M.limit&&te.req.values===M.values&&Mf(te.req.query.range,M.query.range)});return W?[W,!0,B,U]:[U.find(function(te){return("limit"in te.req?te.req.limit:1/0)>=M.limit&&(!M.values||te.req.values)&&mm(te.req.query.range,M.query.range)}),!1,B,U];case"count":return W=U.find(function(te){return Mf(te.req.query.range,M.query.range)}),[W,!!W,B,U]}}(l,s,"query",h),N=O[0],b=O[1],A=O[2],D=O[3];return N&&b?N.obsSet=h.obsSet:(b=c.query(h).then(function(P){var R=P.result;if(N&&(N.res=R),m){for(var T=0,M=R.length;T<M;++T)Object.freeze(R[T]);Object.freeze(R)}else P.result=Z(R);return P}).catch(function(P){return D&&N&&X(D,N),Promise.reject(P)}),N={obsSet:h.obsSet,promise:b,subscribers:new Set,type:"query",req:h,dirty:!1},D?D.push(N):(D=[N],(A=A||(pi["idb://".concat(l,"/").concat(s)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[h.query.index.name||""]=D)),vm(N,D,w,E),N.promise.then(function(P){return{result:Af(P.result,h,A==null?void 0:A.optimisticOps,c,N,m)}})}})}})}};function Vl(i,l){return new Proxy(i,{get:function(s,c,d){return c==="db"?l:Reflect.get(s,c,d)}})}var wr=(mt.prototype.version=function(i){if(isNaN(i)||i<.1)throw new ae.Type("Given version is not a positive number");if(i=Math.round(10*i)/10,this.idbdb||this._state.isBeingOpened)throw new ae.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,i);var l=this._versions,s=l.filter(function(c){return c._cfg.version===i})[0];return s||(s=new this.Version(i),l.push(s),l.sort(am),s.stores({}),this._state.autoSchema=!1,s)},mt.prototype._whenReady=function(i){var l=this;return this.idbdb&&(this._state.openComplete||he.letThrough||this._vip)?i():new le(function(s,c){if(l._state.openComplete)return c(new ae.DatabaseClosed(l._state.dbOpenError));if(!l._state.isBeingOpened){if(!l._state.autoOpen)return void c(new ae.DatabaseClosed);l.open().catch(we)}l._state.dbReadyPromise.then(s,c)}).then(i)},mt.prototype.use=function(i){var l=i.stack,s=i.create,c=i.level,d=i.name;return d&&this.unuse({stack:l,name:d}),i=this._middlewares[l]||(this._middlewares[l]=[]),i.push({stack:l,create:s,level:c??10,name:d}),i.sort(function(h,m){return h.level-m.level}),this},mt.prototype.unuse=function(i){var l=i.stack,s=i.name,c=i.create;return l&&this._middlewares[l]&&(this._middlewares[l]=this._middlewares[l].filter(function(d){return c?d.create!==c:!!s&&d.name!==s})),this},mt.prototype.open=function(){var i=this;return nn(Ct,function(){return fm(i)})},mt.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var i=this._state,l=$n.indexOf(this);if(0<=l&&$n.splice(l,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}i.isBeingOpened||(i.dbReadyPromise=new le(function(s){i.dbReadyResolve=s}),i.openCanceller=new le(function(s,c){i.cancelOpen=c}))},mt.prototype.close=function(s){var l=(s===void 0?{disableAutoOpen:!0}:s).disableAutoOpen,s=this._state;l?(s.isBeingOpened&&s.cancelOpen(new ae.DatabaseClosed),this._close(),s.autoOpen=!1,s.dbOpenError=new ae.DatabaseClosed):(this._close(),s.autoOpen=this._options.autoOpen||s.isBeingOpened,s.openComplete=!1,s.dbOpenError=null)},mt.prototype.delete=function(i){var l=this;i===void 0&&(i={disableAutoOpen:!0});var s=0<arguments.length&&typeof arguments[0]!="object",c=this._state;return new le(function(d,h){function m(){l.close(i);var w=l._deps.indexedDB.deleteDatabase(l.name);w.onsuccess=Te(function(){var E,O,N;E=l._deps,O=l.name,N=E.indexedDB,E=E.IDBKeyRange,Os(N)||O===ai||Is(N,E).delete(O).catch(we),d()}),w.onerror=L(h),w.onblocked=l._fireOnBlocked}if(s)throw new ae.InvalidArgument("Invalid closeOptions argument to db.delete()");c.isBeingOpened?c.dbReadyPromise.then(m):m()})},mt.prototype.backendDB=function(){return this.idbdb},mt.prototype.isOpen=function(){return this.idbdb!==null},mt.prototype.hasBeenClosed=function(){var i=this._state.dbOpenError;return i&&i.name==="DatabaseClosed"},mt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},mt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(mt.prototype,"tables",{get:function(){var i=this;return u(this._allTables).map(function(l){return i._allTables[l]})},enumerable:!1,configurable:!0}),mt.prototype.transaction=function(){var i=(function(l,s,c){var d=arguments.length;if(d<2)throw new ae.InvalidArgument("Too few arguments");for(var h=new Array(d-1);--d;)h[d-1]=arguments[d];return c=h.pop(),[l,ve(h),c]}).apply(this,arguments);return this._transaction.apply(this,i)},mt.prototype._transaction=function(i,l,s){var c=this,d=he.trans;d&&d.db===this&&i.indexOf("!")===-1||(d=null);var h,m,w=i.indexOf("?")!==-1;i=i.replace("!","").replace("?","");try{if(m=l.map(function(O){if(O=O instanceof c.Table?O.name:O,typeof O!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return O}),i=="r"||i===si)h=si;else{if(i!="rw"&&i!=rr)throw new ae.InvalidArgument("Invalid transaction mode: "+i);h=rr}if(d){if(d.mode===si&&h===rr){if(!w)throw new ae.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");d=null}d&&m.forEach(function(O){if(d&&d.storeNames.indexOf(O)===-1){if(!w)throw new ae.SubTransaction("Table "+O+" not included in parent transaction.");d=null}}),w&&d&&!d.active&&(d=null)}}catch(O){return d?d._promise(null,function(N,b){b(O)}):nt(O)}var E=(function O(N,b,A,D,P){return le.resolve().then(function(){var R=he.transless||he,T=N._createTransaction(b,A,N._dbSchema,D);if(T.explicit=!0,R={trans:T,transless:R},D)T.idbtrans=D.idbtrans;else try{T.create(),T.idbtrans._explicit=!0,N._state.PR1398_maxLoop=3}catch(U){return U.name===St.InvalidState&&N.isOpen()&&0<--N._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),N.close({disableAutoOpen:!1}),N.open().then(function(){return O(N,b,A,null,P)})):nt(U)}var M,B=_e(P);return B&&Tr(),R=le.follow(function(){var U;(M=P.call(T,T))&&(B?(U=tr.bind(null,null),M.then(U,U)):typeof M.next=="function"&&typeof M.throw=="function"&&(M=Ls(M)))},R),(M&&typeof M.then=="function"?le.resolve(M).then(function(U){return T.active?U:nt(new ae.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):R.then(function(){return M})).then(function(U){return D&&T._resolve(),T._completion.then(function(){return U})}).catch(function(U){return T._reject(U),nt(U)})})}).bind(null,this,h,m,d,s);return d?d._promise(h,E,"lock"):he.trans?nn(he.transless,function(){return c._whenReady(E)}):this._whenReady(E)},mt.prototype.table=function(i){if(!x(this._allTables,i))throw new ae.InvalidTable("Table ".concat(i," does not exist"));return this._allTables[i]},mt);function mt(i,l){var s=this;this._middlewares={},this.verno=0;var c=mt.dependencies;this._options=l=r({addons:mt.addons,autoOpen:!0,indexedDB:c.indexedDB,IDBKeyRange:c.IDBKeyRange,cache:"cloned"},l),this._deps={indexedDB:l.indexedDB,IDBKeyRange:l.IDBKeyRange},c=l.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var d,h,m,w,E,O={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:we,dbReadyPromise:null,cancelOpen:we,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:l.autoOpen};O.dbReadyPromise=new le(function(b){O.dbReadyResolve=b}),O.openCanceller=new le(function(b,A){O.cancelOpen=A}),this._state=O,this.name=i,this.on=yr(this,"populate","blocked","versionchange","close",{ready:[Gt,we]}),this.once=function(b,A){var D=function(){for(var P=[],R=0;R<arguments.length;R++)P[R]=arguments[R];s.on(b).unsubscribe(D),A.apply(s,P)};return s.on(b,D)},this.on.ready.subscribe=_(this.on.ready.subscribe,function(b){return function(A,D){mt.vip(function(){var P,R=s._state;R.openComplete?(R.dbOpenError||le.resolve().then(A),D&&b(A)):R.onReadyBeingFired?(R.onReadyBeingFired.push(A),D&&b(A)):(b(A),P=s,D||b(function T(){P.on.ready.unsubscribe(A),P.on.ready.unsubscribe(T)}))})}}),this.Collection=(d=this,Cn(ks.prototype,function(M,T){this.db=d;var D=ui,P=null;if(T)try{D=T()}catch(B){P=B}var R=M._ctx,T=R.table,M=T.hook.reading.fire;this._ctx={table:T,index:R.index,isPrimKey:!R.index||T.schema.primKey.keyPath&&R.index===T.schema.primKey.name,range:D,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:P,or:R.or,valueMapper:M!==yt?M:null}})),this.Table=(h=this,Cn(Ol.prototype,function(b,A,D){this.db=h,this._tx=D,this.name=b,this.schema=A,this.hook=h._allTables[b]?h._allTables[b].hook:yr(null,{creating:[At,we],reading:[dt,yt],updating:[oi,we],deleting:[Pi,we]})})),this.Transaction=(m=this,Cn(Ie.prototype,function(b,A,D,P,R){var T=this;b!=="readonly"&&A.forEach(function(M){M=(M=D[M])===null||M===void 0?void 0:M.yProps,M&&(A=A.concat(M.map(function(B){return B.updatesTable})))}),this.db=m,this.mode=b,this.storeNames=A,this.schema=D,this.chromeTransactionDurability=P,this.idbtrans=null,this.on=yr(this,"complete","error","abort"),this.parent=R||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new le(function(M,B){T._resolve=M,T._reject=B}),this._completion.then(function(){T.active=!1,T.on.complete.fire()},function(M){var B=T.active;return T.active=!1,T.on.error.fire(M),T.parent?T.parent._reject(M):B&&T.idbtrans&&T.idbtrans.abort(),nt(M)})})),this.Version=(w=this,Cn(cm.prototype,function(b){this.db=w,this._cfg={version:b,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(E=this,Cn(Al.prototype,function(b,A,D){if(this.db=E,this._ctx={table:b,index:A===":id"?null:A,or:D},this._cmp=this._ascending=Ae,this._descending=function(P,R){return Ae(R,P)},this._max=function(P,R){return 0<Ae(P,R)?P:R},this._min=function(P,R){return Ae(P,R)<0?P:R},this._IDBKeyRange=E._deps.IDBKeyRange,!this._IDBKeyRange)throw new ae.MissingAPI})),this.on("versionchange",function(b){0<b.newVersion?console.warn("Another connection wants to upgrade database '".concat(s.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(s.name,"'. Closing db now to resume the delete request.")),s.close({disableAutoOpen:!1})}),this.on("blocked",function(b){!b.newVersion||b.newVersion<b.oldVersion?console.warn("Dexie.delete('".concat(s.name,"') was blocked")):console.warn("Upgrade '".concat(s.name,"' blocked by other connection holding version ").concat(b.oldVersion/10))}),this._maxKey=di(l.IDBKeyRange),this._createTransaction=function(b,A,D,P){return new s.Transaction(b,A,D,s._options.chromeTransactionDurability,P)},this._fireOnBlocked=function(b){s.on("blocked").fire(b),$n.filter(function(A){return A.name===s.name&&A!==s&&!A._state.vcFired}).map(function(A){return A.on("versionchange").fire(b)})},this.use(hm),this.use(ym),this.use(gm),this.use(dm),this.use(pm);var N=new Proxy(this,{get:function(b,A,D){if(A==="_vip")return!0;if(A==="table")return function(R){return Vl(s.table(R),N)};var P=Reflect.get(b,A,D);return P instanceof Ol?Vl(P,N):A==="tables"?P.map(function(R){return Vl(R,N)}):A==="_createTransaction"?function(){return Vl(P.apply(this,arguments),N)}:P}});this.vip=N,c.forEach(function(b){return b(s)})}var Hl,Nn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",wm=(Ks.prototype.subscribe=function(i,l,s){return this._subscribe(i&&typeof i!="function"?i:{next:i,error:l,complete:s})},Ks.prototype[Nn]=function(){return this},Ks);function Ks(i){this._subscribe=i}try{Hl={indexedDB:a.indexedDB||a.mozIndexedDB||a.webkitIndexedDB||a.msIndexedDB,IDBKeyRange:a.IDBKeyRange||a.webkitIDBKeyRange}}catch{Hl={indexedDB:null,IDBKeyRange:null}}function Lf(i){var l,s=!1,c=new wm(function(d){var h=_e(i),m,w=!1,E={},O={},N={get closed(){return w},unsubscribe:function(){w||(w=!0,m&&m.abort(),b&&ye.storagemutated.unsubscribe(D))}};d.start&&d.start(N);var b=!1,A=function(){return Rr(P)},D=function(R){$l(E,R),Ts(O,E)&&A()},P=function(){var R,T,M;!w&&Hl.indexedDB&&(E={},R={},m&&m.abort(),m=new AbortController,M=function(B){var U=lt();try{h&&Tr();var W=er(i,B);return W=h?W.finally(tr):W}finally{U&&en()}}(T={subscr:R,signal:m.signal,requery:A,querier:i,trans:null}),Promise.resolve(M).then(function(B){s=!0,l=B,w||T.signal.aborted||(E={},function(U){for(var W in U)if(x(U,W))return;return 1}(O=R)||b||(ye(Q,D),b=!0),Rr(function(){return!w&&d.next&&d.next(B)}))},function(B){s=!1,["DatabaseClosedError","AbortError"].includes(B==null?void 0:B.name)||w||Rr(function(){w||d.error&&d.error(B)})}))};return setTimeout(A,0),N});return c.hasValue=function(){return s},c.getValue=function(){return l},c}var hi=wr;function $s(i){var l=Mr;try{Mr=!0,ye.storagemutated.fire(i),Ms(i,!0)}finally{Mr=l}}j(hi,r(r({},Be),{delete:function(i){return new hi(i,{addons:[]}).delete()},exists:function(i){return new hi(i,{addons:[]}).open().then(function(l){return l.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(i){try{return l=hi.dependencies,s=l.indexedDB,l=l.IDBKeyRange,(Os(s)?Promise.resolve(s.databases()).then(function(c){return c.map(function(d){return d.name}).filter(function(d){return d!==ai})}):Is(s,l).toCollection().primaryKeys()).then(i)}catch{return nt(new ae.MissingAPI)}var l,s},defineClass:function(){return function(i){p(this,i)}},ignoreTransaction:function(i){return he.trans?nn(he.transless,i):i()},vip:Ps,async:function(i){return function(){try{var l=Ls(i.apply(this,arguments));return l&&typeof l.then=="function"?l:le.resolve(l)}catch(s){return nt(s)}}},spawn:function(i,l,s){try{var c=Ls(i.apply(s,l||[]));return c&&typeof c.then=="function"?c:le.resolve(c)}catch(d){return nt(d)}},currentTransaction:{get:function(){return he.trans||null}},waitFor:function(i,l){return l=le.resolve(typeof i=="function"?hi.ignoreTransaction(i):i).timeout(l||6e4),he.trans?he.trans.waitFor(l):l},Promise:le,debug:{get:function(){return st},set:function(i){wn(i)}},derive:$,extend:p,props:j,override:_,Events:yr,on:ye,liveQuery:Lf,extendObservabilitySet:$l,getByKeyPath:G,setByKeyPath:q,delByKeyPath:function(i,l){typeof l=="string"?q(i,l,void 0):"length"in l&&[].map.call(l,function(s){q(i,s,void 0)})},shallowClone:ee,deepClone:Z,getObjectDiff:zs,cmp:Ae,asap:J,minKey:-1/0,addons:[],connections:$n,errnames:St,dependencies:Hl,cache:pi,semVer:"4.2.0",version:"4.2.0".split(".").map(function(i){return parseInt(i)}).reduce(function(i,l,s){return i+l/Math.pow(10,2*s)})})),hi.maxKey=di(hi.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(ye(Q,function(i){Mr||(i=new CustomEvent(ce,{detail:i}),Mr=!0,dispatchEvent(i),Mr=!1)}),addEventListener(ce,function(i){i=i.detail,Mr||$s(i)}));var Fi,Mr=!1,zf=function(){};return typeof BroadcastChannel<"u"&&((zf=function(){(Fi=new BroadcastChannel(ce)).onmessage=function(i){return i.data&&$s(i.data)}})(),typeof Fi.unref=="function"&&Fi.unref(),ye(Q,function(i){Mr||Fi.postMessage(i)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(i){if(!wr.disableBfCache&&i.persisted){st&&console.debug("Dexie: handling persisted pagehide"),Fi!=null&&Fi.close();for(var l=0,s=$n;l<s.length;l++)s[l].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(i){!wr.disableBfCache&&i.persisted&&(st&&console.debug("Dexie: handling persisted pageshow"),zf(),$s({all:new Wt(-1/0,[[]])}))})),le.rejectionMapper=function(i,l){return!i||i instanceof ke||i instanceof TypeError||i instanceof SyntaxError||!i.name||!Ne[i.name]?i:(l=new Ne[i.name](l||i.message,i),"stack"in i&&F(l,"stack",{get:function(){return this.inner.stack}}),l)},wn(st),r(wr,Object.freeze({__proto__:null,Dexie:wr,liveQuery:Lf,Entity:bo,cmp:Ae,PropModification:fn,replacePrefix:function(i,l){return new fn({replacePrefix:[i,l]})},add:function(i){return new fn({add:i})},remove:function(i){return new fn({remove:i})},default:wr,RangeSet:Wt,mergeRanges:Eo,rangesOverlap:jf}),{default:wr}),wr})})(em);var Dw=em.exports;const wc=wp(Dw),up=Symbol.for("Dexie"),ns=globalThis[up]||(globalThis[up]=wc);if(wc.semVer!==ns.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${wc.semVer} and ${ns.semVer}`);const{liveQuery:tx,mergeRanges:nx,rangesOverlap:rx,RangeSet:ix,cmp:ox,Entity:lx,PropModification:ax,replacePrefix:sx,add:ux,remove:cx,DexieYProvider:fx}=ns;class Iw extends ns{constructor(){super("reviewer");mi(this,"items");mi(this,"articles");mi(this,"unreadArticles");mi(this,"settings");mi(this,"magicItems");mi(this,"states");this.version(1).stores({items:"id, box, position"}),this.version(2).stores({items:"id, box, position",articles:"id, createdAt"}),this.version(3).stores({items:"id, box, position",articles:"id, createdAt",unreadArticles:"id, createdAt"}),this.version(4).stores({items:"id, box, position",articles:"id, createdAt",unreadArticles:"id, createdAt",settings:"key",magicItems:"id, addedAt",states:"key"})}}const We=new Iw,cp="reviewer.migrated.localstorage.v1",Hn={readerConfig:"reviewer.reader.config.v1",magicBag:"reviewer.magicBag.v1",magicFilter:"reviewer.magicBag.filter",magicOrder:"reviewer.magicBag.order",magicIncludeCopied:"reviewer.magicBag.includeCopied",genHistory:"reviewer.gen.history",batchState:"reviewer.batch.v1",currentArticle:"reviewer.currentArticle.v1",lastLang:"reviewer.lastLang",loadLang:"reviewer.loadLang",geminiApiKey:"reviewer.gemini.apiKey",geminiModel:"reviewer.gemini.model"};async function Ow(){if(!localStorage.getItem(cp))try{const e={},t=localStorage.getItem(Hn.readerConfig);if(t)try{e.readerConfig=JSON.parse(t)}catch{}const n=localStorage.getItem(Hn.geminiModel);n&&(e.geminiModel=n);const r=localStorage.getItem(Hn.lastLang);r&&(e.lastLang=r);const o=localStorage.getItem(Hn.loadLang);o&&(e.loadLang=o);const a=localStorage.getItem(Hn.magicFilter);a&&(e.magicFilter=a);const u=localStorage.getItem(Hn.magicOrder);u&&(e.magicOrder=u);const f=localStorage.getItem(Hn.magicIncludeCopied);f&&(e.magicIncludeCopied=f),Object.keys(e).length&&await We.settings.put({key:"settings",value:e,updatedAt:Date.now()});const p=localStorage.getItem(Hn.magicBag);if(p)try{const j=JSON.parse(p);if(Array.isArray(j)){const z=j.map(F=>({...F,addedAt:F.addedAt||Date.now()}));z.length&&await We.magicItems.bulkPut(z)}}catch{}const g=localStorage.getItem(Hn.batchState);g&&await We.states.put({key:"batch",value:g,updatedAt:Date.now()});const C=localStorage.getItem(Hn.currentArticle);C&&await We.states.put({key:"currentArticle",value:C,updatedAt:Date.now()});const x=localStorage.getItem(Hn.genHistory);x&&await We.states.put({key:"genHistory",value:x,updatedAt:Date.now()})}finally{localStorage.setItem(cp,"1")}}async function Pw(){const e=await We.settings.get("settings");return(e==null?void 0:e.value)||{}}async function Nw(e){const n={...await Pw(),...e};return await We.settings.put({key:"settings",value:n,updatedAt:Date.now()}),n}async function Tw(e){e.length&&await We.magicItems.bulkPut(e)}async function Rw(e,t){await We.states.put({key:e,value:t,updatedAt:Date.now()})}async function Aw(){const e=await We.items.toArray(),t={stash:[],box1:[],box2:[],box3:[],trash:[]};for(const n of e)t[n.box].push(n);for(const n of Object.keys(t))t[n].sort((r,o)=>r.position-o.position);return t}async function fp(e){await We.items.bulkAdd(e)}async function dn(e){await We.items.put(e)}async function Mw(){await We.items.clear()}async function Lw(e){await We.articles.put(e)}async function zw(e=20){return We.articles.orderBy("createdAt").reverse().limit(e).toArray()}async function Bw(e){return We.articles.get(e)}async function Fw(e=15){const t=await We.articles.count();if(t<=e)return;const n=t-e,r=await We.articles.orderBy("createdAt").limit(n).toArray();await We.articles.bulkDelete(r.map(o=>o.id))}async function Kw(e){await We.articles.delete(e)}async function $w(e){e.length&&await We.articles.bulkDelete(e)}async function Uw(){await We.articles.clear()}async function dp(e){await We.unreadArticles.put(e)}async function Ww(e=50){return We.unreadArticles.orderBy("createdAt").reverse().limit(e).toArray()}async function pp(e){return We.unreadArticles.get(e)}async function xu(e){await We.unreadArticles.delete(e)}async function Vw(e){e.length&&await We.unreadArticles.bulkDelete(e)}async function Hw(){await We.unreadArticles.clear()}function qw(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}}function hp(e,t,n={}){const r=n.defaultRatio||{box1:4,box2:4,box3:2},o=n.totalWanted??r.box1+r.box2+r.box3,a={box1:n.overrideBox1,box2:n.overrideBox2,box3:n.overrideBox3};let u=e.filter(Y=>Y.lang===t&&(Y.box==="box1"||Y.box==="box2"||Y.box==="box3"));if(n.dedupeByText){const Y=new Set;u=u.filter(k=>Y.has(k.text)?!1:(Y.add(k.text),!0))}const f={box1:u.filter(Y=>Y.box==="box1"),box2:u.filter(Y=>Y.box==="box2"),box3:u.filter(Y=>Y.box==="box3")},p={box1:a.box1??r.box1,box2:a.box2??r.box2,box3:a.box3??r.box3};let g=p.box1+p.box2+p.box3,C=[];if(C.push(`Initial targets: ${JSON.stringify(p)}, sum=${g}, totalWanted=${o}`),g!==o){if(g<o){let Y=o-g;const k=["box1","box2","box3"];for(;Y>0;)for(const y of k){if(Y===0)break;p[y]+=1,Y-=1}C.push(`Distributed remaining to reach totalWanted: ${JSON.stringify(p)}`)}else if(g>o){let Y=g-o;const k=["box3","box2","box1"];for(;Y>0;)for(const y of k){if(Y===0)break;p[y]>0&&(p[y]-=1,Y-=1)}C.push(`Reduced to meet totalWanted: ${JSON.stringify(p)}`)}}const x={box1:f.box1.length,box2:f.box2.length,box3:f.box3.length};C.push(`Available: ${JSON.stringify(x)}`);let j=0;if(["box1","box2","box3"].forEach(Y=>{p[Y]>x[Y]&&(j+=p[Y]-x[Y],p[Y]=x[Y])}),j&&C.push(`Shortfall after capping: ${j}, capped targets=${JSON.stringify(p)}`),j){const Y=["box1","box2","box3"];for(const k of Y){if(j===0)break;const y=x[k]-p[k];if(y<=0)continue;const _=Math.min(y,j);p[k]+=_,j-=_}j&&C.push(`Remaining shortfall not fillable: ${j}`)}const z=[];["box1","box2","box3"].forEach(Y=>{const k=[...f[Y]];qw(k),z.push(...k.slice(0,p[Y]))});const F=z.length,$=F<o;return $&&C.push(`Total selected ${F} < totalWanted ${o}`),{selected:z,counts:{box1:p.box1,box2:p.box2,box3:p.box3,total:F},shortage:$,detail:C.join(`
`)}}async function Qw(e){const t=e.split(`
`),n=[];for(const p of t){const g=p.match(/"text"\s*:\s*"(.*?)"/);if(g&&n.push(g[1]),n.length>=12)break}const r=n.slice(0,12);if(!r.length)return{raw:"No vocabulary available to generate mock article."};const o=Math.ceil(r.length/2),a=r.slice(0,o).join(", "),u=r.slice(o).join(", ");return{raw:`This is a mock AI article using: ${a}. It then continues with ${u} in a simple context.`}}async function Yw(e){var p,g,C;const{apiKey:t,model:n,prompt:r}=e,o=`https://generativelanguage.googleapis.com/v1beta/models/${n}:generateContent?key=${encodeURIComponent(t)}`,a={contents:[{role:"user",parts:[{text:r}]}],generationConfig:{temperature:.7}};let u="";try{const x=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!x.ok){const F=await x.text();throw new Error(`Gemini API error ${x.status}: ${F}`)}const j=await x.json(),z=(C=(g=(p=j==null?void 0:j.candidates)==null?void 0:p[0])==null?void 0:g.content)==null?void 0:C.parts;Array.isArray(z)?u=z.map(F=>F.text||"").join(`
`):u=JSON.stringify(j)}catch(x){return{raw:`Gemini API 調用失敗: ${x.message||x}`}}let f=u.trim();if(f.startsWith("```")&&(f=f.replace(/^```[a-zA-Z]*\n?/,"").replace(/```$/,"").trim()),!f.startsWith("{")){const x=f.match(/\{[\s\S]*\}/);x&&(f=x[0])}try{const x=JSON.parse(f),j=typeof x.raw=="string"?x.raw:x.text||u,z=typeof x.html=="string"?x.html:void 0,F=Array.isArray(x.usedIds)?x.usedIds.filter($=>typeof $=="string"):void 0;return{raw:j,html:z,usedIds:F}}catch{return{raw:u}}}function gp(e){const{lang:t,blocks:n,targetSentences:r=8,style:o=t==="ja"?"説明":"explanatory",maxLength:a=500}=e,u=JSON.stringify(n,null,2),f=`Highlighting rules:
1. ONLY exact surface forms from the provided list may be wrapped.
2. Wrap each actually used listed item with <span data-item-id="ID">TEXT</span>.
3. Do NOT wrap words not in the list.
4. Inside the span, use the exact TEXT (no inflection changes). If a different form is needed, leave it unwrapped.
5. Prefer including lower-familiarity items first (box1 then box2 then box3).
6. Use each item at most twice unless strongly justified.`,p=`ハイライト規則:
1. 語彙リストにある表記と完全一致する出現のみ <span data-item-id="ID">語</span> で囲む。
2. 活用などで形が変わる場合は一致しなくなるなら囲まない。
3. リスト外語を囲まない。
4. span 内は元の語そのまま。
5. 優先度: box1 → box2 → box3。
6. 各語は多くても 2 回程度。`;return t==="ja"?`# 目的
学習者向けに、読みやすく面白い日本語の文章を作成してください。
文体: ${o}
長さ: およそ 500 文字前後 (最大 ${a} 文字)。文数は柔軟 (参考: 約 ${r} 文)。上限付近で自然に終了。
語彙リスト(JSON):
${u}
${p}

# 出力フォーマット (JSON のみ)
{
  "raw": "span 無し本文",
  "html": "raw と同一内容。対応語だけ <span data-item-id=ID>語</span>",
  "usedIds": ["..."]
}
制約: 追加説明やマークダウン禁止。raw と html は span 以外同一。語が一つも自然に使えないなら usedIds を空配列に。`:`# Goal
Write an engaging, interesting English learning passage. Style: ${o}.
Length: roughly 500 words (hard cap ${a} words). Sentence count flexible (approx ${r}). Stop naturally near the limit.
Vocabulary list (JSON):
${u}
${f}

# Output (JSON ONLY)
{
  "raw": "Plain passage without spans",
  "html": "Same passage but vocabulary wrapped with <span data-item-id=ID>TEXT</span>",
  "usedIds": ["..."]
}
Constraints: No extra commentary or markdown. raw and html differ only by the span tags. If no vocabulary fits naturally, usedIds = [].`}const mp={box1:"#ef4444",box2:"#f59e0b",box3:"#10b981"};function Xw({blocks:e,moveBlockToBox:t}){const[n,r]=I.useState(""),[o,a]=I.useState(!1),[u,f]=I.useState(null),[p,g]=I.useState([]),[C,x]=I.useState([]),[j,z]=I.useState(!1),[F,$]=I.useState(!1),[Y,k]=I.useState(null),[y,_]=I.useState(null),[K,J]=I.useState(!1),[G,q]=I.useState(new Set),[ee,Ce]=I.useState(!1),[ve,H]=I.useState(new Set);function pe(){try{const v=localStorage.getItem("reviewer.reader.config.v1");return v?JSON.parse(v)||{}:{}}catch{return{}}}const Z=pe(),[xe,Ue]=I.useState(Z.totalWanted??10),[be,Pe]=I.useState(Z.overrideBox1===""||typeof Z.overrideBox1=="number"?Z.overrideBox1:""),[X,ue]=I.useState(Z.overrideBox2===""||typeof Z.overrideBox2=="number"?Z.overrideBox2:""),[fe,_e]=I.useState(Z.overrideBox3===""||typeof Z.overrideBox3=="number"?Z.overrideBox3:""),[Ee,ke]=I.useState(""),[Se,ze]=I.useState(""),[Re,St]=I.useState(Z.targetSentences??3),[Ve,ae]=I.useState(Z.style??"explanatory"),[Ne,Be]=I.useState(Z.maxLength??500),[we,yt]=I.useState(!1),[dt,He]=I.useState(null),[At,Pi]=I.useState(()=>dt||"ja"),[oi,pt]=I.useState(""),[Gt,st]=I.useState(""),[wn,Fn]=I.useState(1),[xn,Jt]=I.useState(!1),[$t,bt]=I.useState(0),[cn,Zt]=I.useState([]),[Dt,kt]=I.useState(null),[It,Kn]=I.useState(!1),[Or,Ct]=I.useState(null),[he,Sn]=I.useState(()=>{try{const v=localStorage.getItem("reviewer.magicBag.v1");if(v){const L=JSON.parse(v);return Array.isArray(L)?L.map(V=>({...V})):[]}}catch{}return[]}),[bn,tt]=I.useState(""),[le,Pr]=I.useState(null),[Xe,wt]=I.useState(!1),[Ge,Mt]=I.useState(new Set),[ot,Lt]=I.useState(()=>{const v=localStorage.getItem("reviewer.magicBag.filter");return v==="ja"?"ja":v==="en"?"en":"all"}),[lt,en]=I.useState(()=>localStorage.getItem("reviewer.magicBag.includeCopied")!=="0");I.useEffect(()=>{localStorage.setItem("reviewer.magicBag.includeCopied",lt?"1":"0")},[lt]);const[Ze,tn]=I.useState(()=>{const v=localStorage.getItem("reviewer.magicBag.order");return v==="oldest"||v==="hardToEasy"||v==="easyToHard"?v:"newest"});I.useEffect(()=>{localStorage.setItem("reviewer.magicBag.order",Ze)},[Ze]),I.useEffect(()=>{localStorage.setItem("reviewer.magicBag.filter",ot)},[ot]);function Te(v){localStorage.setItem("reviewer.magicBag.v1",JSON.stringify(v))}function qe(v){Sn(L=>{const V=L.find(ce=>ce.sourceBlockId===v.id);if(V)return tt("已在袋子中"),Pr(V.id),setTimeout(()=>tt(""),1500),setTimeout(()=>Pr(ce=>ce===V.id?null:ce),1600),L;const Q=[...L,{id:$o(),sourceBlockId:v.id,text:v.text,lang:v.lang,box:v.box,addedAt:Date.now()}];return Te(Q),Q})}function gr(v){Sn(L=>{const V=L.filter(Q=>Q.id!==v);return Te(V),V})}function Pn(){Sn(()=>(Te([]),[]))}function Ut(v){Mt(L=>{const V=new Set(L);return V.has(v)?V.delete(v):V.add(v),V})}function kn(){wt(!1),Mt(new Set)}async function Nr(v){try{if(navigator.clipboard&&navigator.clipboard.writeText)await navigator.clipboard.writeText(v);else{const L=document.createElement("textarea");L.value=v,document.body.appendChild(L),L.select(),document.execCommand("copy"),document.body.removeChild(L)}tt("已複製"),setTimeout(()=>tt(""),1200)}catch{tt("複製失敗"),setTimeout(()=>tt(""),1500)}}function er(){const v=he.filter(L=>(ot==="all"?!0:L.lang===ot)&&(lt||!L.copied));if(!v.length){tt("無可複製"),setTimeout(()=>tt(""),1e3);return}Nr(v.map(L=>L.text).join(`
`)),Ti(v.map(L=>L.id))}function Tr(){if(!Ge.size)return;const v=he.filter(L=>Ge.has(L.id)&&(lt||!L.copied));if(!v.length){tt("無可複製"),setTimeout(()=>tt(""),1e3);return}Nr(v.map(L=>L.text).join(`
`)),Ti(v.map(L=>L.id))}function tr(){Ge.size&&(Sn(v=>{const L=v.filter(V=>!Ge.has(V.id));return Te(L),L}),tt("已刪除"),setTimeout(()=>tt(""),1e3),kn())}function Ni(){Mt(new Set(he.map(v=>v.id)))}function bs(v){return v.length?`請協助解釋下列詞彙並提供讀音、音檔、中文解釋、例句與補充：
[
  ${v.map(Q=>({id:Q.id,word:Q.text,lang:Q.lang})).map(Q=>`{"id":"${Q.id}","word":"${Q.word.replace(/"/g,'\\"')}","lang":"${Q.lang}"}`).join(`,
  `)}
]
輸出格式：
對每個詞請至少涵蓋：
{id, word, reading, audio, zh, examples:[{sentence, zh}], notes}
欄位說明：
- reading: 日文用平假名/片假名；英文給 IPA。
- audio: 若能提供發音 URL 或簡單 TTS 建議，放在這裡；無則可留空或給建議。
- zh: 精簡且精準中文釋義（可 1~3 條，以；分隔或列點）。
- examples: 1~2 個例句，每句含原文 sentence 與中文翻譯 zh。
- notes: 詞性 / 常見搭配 / 語感差異 / 注意事項 / 記憶法。
請保持每個詞分段清晰；若附 JSON，字段順序採 id, word, reading, audio, zh, examples, notes。`:""}async function nr(){const v=(Xe&&Ge.size?he.filter(V=>Ge.has(V.id)):he.filter(V=>ot==="all"?!0:V.lang===ot)).filter(V=>lt||!V.copied);if(!v.length){tt("無可加入詞"),setTimeout(()=>tt(""),1e3);return}const L=bs(v);if(L){ze(L);try{if(navigator.clipboard&&navigator.clipboard.writeText)await navigator.clipboard.writeText(L);else{const V=document.createElement("textarea");V.value=L,document.body.appendChild(V),V.select(),document.execCommand("copy"),document.body.removeChild(V)}tt("已加入並複製"),setTimeout(()=>tt(""),1200)}catch{tt("加入成功，複製失敗"),setTimeout(()=>tt(""),1500)}Ti(v.map(V=>V.id))}}function Ti(v){v.length&&Sn(L=>{const V=new Set(v),Q=L.map(ce=>V.has(ce.id)?{...ce,copied:!0}:ce);return Te(Q),Q})}const nn=I.useRef([]),Ot=I.useRef(!1),Rr="reviewer.batch.v1",[nt,mr]=I.useState(()=>localStorage.getItem("reviewer.loadLang")==="en"?"en":"ja");function Pt(v){try{const L=localStorage.getItem(Rr),V=L?JSON.parse(L):{};localStorage.setItem(Rr,JSON.stringify({...V,...v}))}catch{}}function li(){try{localStorage.removeItem(Rr)}catch{}}I.useEffect(()=>{try{const v=localStorage.getItem("reviewer.gen.history");if(v){const L=JSON.parse(v);Array.isArray(L)&&(nn.current=L.filter(V=>typeof V=="number"))}}catch{}try{const v=localStorage.getItem(Rr);if(v){const L=JSON.parse(v);L&&typeof L.total=="number"&&typeof L.completed=="number"&&(bt(L.completed),Fn(L.total),L.completed<L.total?L.cooldownUntil&&Date.now()<L.cooldownUntil?(kt(L.cooldownUntil),Kn(!0)):L.paused?setTimeout(()=>ci(L.total-L.completed,L.total),50):L.running&&(Jt(!0),setTimeout(()=>ci(L.total-L.completed,L.total),50)):li())}}catch{}},[]);function $n(){const v=Date.now();nn.current=nn.current.filter(L=>v-L<6e4)}function ai(v){nn.current.push(v),localStorage.setItem("reviewer.gen.history",JSON.stringify(nn.current))}function si(v=1){$n();const L=Date.now();if(nn.current.length+v>10){const V=Math.min(...nn.current),Q=6e4-(L-V);return{ok:!1,waitMs:Math.max(Q,0)}}return{ok:!0}}I.useEffect(()=>{if(!Dt)return;const v=setInterval(()=>{Dt&&Date.now()>=Dt?kt(null):pt(L=>L===""?"":L)},1e3);return()=>clearInterval(v)},[Dt]);const[rr,vr]=I.useState(()=>localStorage.getItem("reviewer.gemini.apiKey")||""),[ui,Ri]=I.useState(()=>localStorage.getItem("reviewer.gemini.model")||"gemini-2.5-flash"),bo=I.useRef(!1);I.useEffect(()=>{const v=localStorage.getItem("reviewer.currentArticle.v1");v&&r(v);const L=localStorage.getItem("reviewer.lastLang");(L==="ja"||L==="en")&&He(L);const V=localStorage.getItem("reviewer.reader.config.v1");if(V)try{const Q=JSON.parse(V);typeof Q.totalWanted=="number"&&Ue(Q.totalWanted),(Q.overrideBox1===""||typeof Q.overrideBox1=="number")&&Pe(Q.overrideBox1),(Q.overrideBox2===""||typeof Q.overrideBox2=="number")&&ue(Q.overrideBox2),(Q.overrideBox3===""||typeof Q.overrideBox3=="number")&&_e(Q.overrideBox3),typeof Q.targetSentences=="number"&&St(Q.targetSentences),typeof Q.style=="string"&&ae(Q.style),typeof Q.maxLength=="number"&&Be(Q.maxLength)}catch{}bo.current=!0,Ar(),fn()},[]),I.useEffect(()=>{if(!bo.current)return;const v={totalWanted:xe,overrideBox1:be,overrideBox2:X,overrideBox3:fe,targetSentences:Re,style:Ve,maxLength:Ne};localStorage.setItem("reviewer.reader.config.v1",JSON.stringify(v))},[xe,be,X,fe,Re,Ve,Ne]),I.useEffect(()=>{localStorage.setItem("reviewer.gemini.apiKey",rr)},[rr]),I.useEffect(()=>{localStorage.setItem("reviewer.gemini.model",ui)},[ui]),I.useEffect(()=>(window.setArticle=v=>r(v),()=>{delete window.setArticle}),[]),I.useEffect(()=>{n?localStorage.setItem("reviewer.currentArticle.v1",n):localStorage.removeItem("reviewer.currentArticle.v1")},[n]);function Ae(v){const L=hp(e,v,{totalWanted:xe,overrideBox1:be===""?void 0:be,overrideBox2:X===""?void 0:X,overrideBox3:fe===""?void 0:fe});ke(L.detail),He(v);const V=gp({lang:v,blocks:L.selected.map(Le=>({id:Le.id,text:Le.text,box:Le.box})),targetSentences:Re,style:Ve||(v==="ja"?"説明":"explanatory"),maxLength:Ne});if(ze(V),!L.selected.length){r(v==="ja"?"これはテスト用の文章です。まだ単語が登録されていません。":"This is a mock article for testing. No words are stored yet.");return}const Q=L.selected.filter(Le=>Le.box==="box1").map(Le=>Le.text),ce=L.selected.filter(Le=>Le.box==="box2").map(Le=>Le.text),ye=L.selected.filter(Le=>Le.box==="box3").map(Le=>Le.text);let Ie=[];v==="ja"?Ie=[`まず${Q.slice(0,Math.min(3,Q.length)).join("、")}などの語彙を復習し、${ce.slice(0,2).join("と")}の使い方を確認します。`,`${Q.slice(3,6).join("、")}は試験で頻出であり、${ye[0]||""}の理解を助けます。`,`最後に${ce.slice(2,5).join("、")}を文脈で整理し、${ye.slice(1).join("、")}を定着させましょう。`]:Ie=[`First we review ${Q.slice(0,3).join(", ")} while noticing ${ce.slice(0,2).join(" and ")}.`,`${Q.slice(3,6).join(", ")} often appear on exams and connect to ${ye[0]||""}.`,`Finally we reinforce ${ce.slice(2,5).join(", ")} and consolidate ${ye.slice(1).join(", ")}.`],r(Ie.filter(Boolean).join(`

`)),localStorage.setItem("reviewer.lastLang",v)}async function Ai(){st(""),pt("抽樣中");const v=hp(e,At,{totalWanted:xe,overrideBox1:be===""?void 0:be,overrideBox2:X===""?void 0:X,overrideBox3:fe===""?void 0:fe});ke(v.detail),He(At);const L=gp({lang:At,blocks:v.selected.map(V=>({id:V.id,text:V.text,box:V.box})),targetSentences:Re,style:Ve||(At==="ja"?"説明":"explanatory"),maxLength:Ne});if(ze(L),!v.selected.length){st("沒有可用的單字/語法，無法生成"),pt("");return}yt(!0),pt("呼叫模型");try{let V="",Q="",ce=[];if(rr){const Ie=await Yw({apiKey:rr,model:ui,prompt:L});if(V=Ie.raw||"",Q=Ie.html||V,Ie.usedIds&&Array.isArray(Ie.usedIds)&&(ce=Ie.usedIds),!ce.length){const Le=Q.match(/data-item-id="(.*?)"/g)||[];ce=Array.from(new Set(Le.map(ar=>ar.replace(/.*data-item-id="(.*)".*/,"$1"))))}}else{const Ie=await Qw(L);V=Ie.raw,Q=Ie.html||Ie.raw,ce=v.selected.map(Le=>Le.id)}pt("儲存中");const ye={id:$o(),createdAt:Date.now(),lang:At,raw:V,html:Q,usedBlockIds:ce.length?ce:v.selected.map(Ie=>Ie.id)};await dp(ye),await fn(),pt("完成"),setTimeout(()=>pt(""),1500),Ct(Date.now()+1800)}catch(V){st(V.message||String(V)),pt("失敗"),setTimeout(()=>pt(""),3e3),Ct(Date.now()+3200)}finally{yt(!1)}}async function Il(){st(""),Zt([]);const v=Math.min(Math.max(wn,1),10);$n();const L=si(v);if(!L.ok){const V=Date.now()+(L.waitMs||6e4);kt(V),st(`超過每分鐘 10 篇限制，冷卻中，請等待 ${Math.ceil((V-Date.now())/1e3)} 秒`);return}Jt(!0),bt(0),Ot.current=!1,Pt({running:!0,total:v,completed:0,startedAt:Date.now()});for(let V=0;V<v&&!Ot.current;V++){pt(`第 ${V+1}/${v} 篇`);try{if(await Ai(),Ot.current)break;ai(Date.now()),bt(ce=>{const ye=ce+1;return Pt({completed:ye}),ye}),$n()}catch(ce){Zt(ye=>[...ye,`第${V+1}篇: ${(ce==null?void 0:ce.message)||String(ce)}`])}const Q=si(0);if(!Q.ok){const ce=Date.now()+(Q.waitMs||6e4);kt(ce),st("已達每分鐘 10 篇，進入冷卻"),Kn(!0),Pt({cooldownUntil:ce,paused:!0,running:!1});break}}!Ot.current&&!It&&($t>=v||$t===v)?(pt(""),Jt(!1),Ot.current=!1,li(),Ct(Date.now()+1500)):Ot.current&&(Pt({running:!1,paused:!1}),pt(""),Jt(!1),Ot.current=!1,Ct(Date.now()+800))}async function ci(v,L){Ot.current=!1,Jt(!0),Kn(!1),Pt({running:!0,paused:!1});for(let V=0;V<v&&!Ot.current;V++){const Q=$t+V;pt(`第 ${Q+1}/${L} 篇`);try{if(await Ai(),Ot.current)break;ai(Date.now()),bt(ye=>{const Ie=ye+1;return Pt({running:!0,total:L,completed:Ie}),Ie}),$n()}catch(ye){Zt(Ie=>[...Ie,`第${Q+1}篇: ${(ye==null?void 0:ye.message)||String(ye)}`])}const ce=si(0);if(!ce.ok){const ye=Date.now()+(ce.waitMs||6e4);kt(ye),st("已達每分鐘 10 篇，進入冷卻"),Kn(!0),Pt({cooldownUntil:ye,paused:!0,running:!1});break}}!It&&!Ot.current&&$t>=L?(pt(""),Jt(!1),Ot.current=!1,li(),Ct(Date.now()+1500)):Ot.current&&(pt(""),Jt(!1),Ot.current=!1,Pt({running:!1,paused:!1}),Ct(Date.now()+800))}async function Ol(){const v=C.filter(Q=>Q.lang===nt);if(!v.length)return;const L=v.reduce((Q,ce)=>ce.createdAt<Q.createdAt?ce:Q,v[0]),V=await pp(L.id);if(V){r(V.raw),f(null);const Q=V.lang||Un(V.raw);(Q==="ja"||Q==="en")&&(He(Q),localStorage.setItem("reviewer.lastLang",Q)),await xu(V.id),await fn()}}const Je=I.useMemo(()=>({box1:e.filter(v=>v.box==="box1").map(v=>v.text).filter(Boolean),box2:e.filter(v=>v.box==="box2").map(v=>v.text).filter(Boolean),box3:e.filter(v=>v.box==="box3").map(v=>v.text).filter(Boolean)}),[e]),{highlighted:yr,usedIds:Cn}=I.useMemo(()=>{let v=n;const L=new Set,V=[];["box1","box2","box3"].forEach(Q=>{[...new Set(e.filter(ye=>ye.box===Q).map(ye=>({word:ye.text,lang:ye.lang})))].sort((ye,Ie)=>Ie.word.length-ye.word.length).forEach(({word:ye,lang:Ie})=>V.push({word:ye,lang:Ie,cls:`occ occ-${Q}`,color:mp[Q]}))});for(const{word:Q,cls:ce,color:ye,lang:Ie}of V){if(!Q)continue;const Le=Q.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),ar=Ie==="en"?`\\b${Le}\\b`:Le,Wn=new RegExp(ar,"g");v=v.replace(Wn,fi=>{e.forEach(sr=>{sr.text===Q&&L.add(sr.id)});const di=e.filter(sr=>sr.text===Q).map(sr=>sr.id).join(",");return`<span class="${ce}" data-word="${Q.replace(/"/g,"&quot;")}" data-block-ids="${di}" style="text-decoration: underline; text-decoration-color: ${ye}; text-decoration-thickness: 2px; text-underline-offset: 2px; cursor: pointer;">${fi}</span>`})}return{highlighted:v,usedIds:Array.from(L)}},[n,Je,e]),ir=I.useMemo(()=>{const v=dt||Un(n),L=new Set(Cn),V=e.filter(ce=>L.has(ce.id)&&(v?ce.lang===v:!0)&&(ce.box==="box1"||ce.box==="box2"||ce.box==="box3")),Q=(ce,ye)=>ce.position-ye.position||ce.text.localeCompare(ye.text);return{box1:V.filter(ce=>ce.box==="box1").sort(Q),box2:V.filter(ce=>ce.box==="box2").sort(Q),box3:V.filter(ce=>ce.box==="box3").sort(Q)}},[Cn,e,dt,n]);I.useEffect(()=>{if(n&&Cn.length&&!dt){const v=Un(n);(v==="ja"||v==="en")&&(He(v),localStorage.setItem("reviewer.lastLang",v))}},[n,Cn,dt]);function ko(v){var Le,ar;const L=String(v.active.id),V=(ar=(Le=v.over)==null?void 0:Le.id)==null?void 0:ar.toString();if(!V)return;if(V==="magic-bag-drop"){const Wn=e.find(fi=>fi.id===L);Wn&&qe(Wn);return}const Q=e.find(Wn=>Wn.id===L),ce=e.find(Wn=>Wn.id===V);let ye=null;if(ce?ye=ce.box:["box1","box2","box3"].includes(V)&&(ye=V),!ye||!["box1","box2","box3"].includes(ye))return;const Ie=Q&&Q.box!==ye;t(L,ye,{prepend:!!Ie})}function Un(v){return/[\u3040-\u30ff\u4e00-\u9faf]/.test(v)?"ja":/[a-zA-Z]/.test(v)?"en":"unknown"}function Mi(v){const L=v.target;if(L&&L.classList.contains("occ")){const V=L.getAttribute("data-block-ids");if(!V)return;V.split(",").filter(Boolean).forEach(ce=>{const ye=e.find(Ie=>Ie.id===ce);ye&&qe(ye)})}}async function Pl(){if(n.trim()){a(!0);try{const v={id:$o(),createdAt:Date.now(),lang:Un(n),raw:n,html:yr,usedBlockIds:Cn};await Lw(v),await Fw(15),f(v.id),await Ar(),setTimeout(()=>f(null),3e3)}finally{a(!1)}}}async function Li(){if(!n.trim())return;const v={id:$o(),createdAt:Date.now(),lang:Un(n),raw:n,html:yr,usedBlockIds:Cn};await dp(v),await fn()}async function Ar(){z(!0);try{const v=await zw(30);g(v)}finally{z(!1)}}async function fn(){$(!0);try{const v=await Ww(50);x(v)}finally{$(!1)}}async function Nl(v){k(v);try{const L=await Bw(v);L&&(r(L.raw),f(v))}finally{k(null)}}async function ks(v){_(v);try{const L=await pp(v);if(L){r(L.raw),f(null);const V=L.lang||Un(L.raw);(V==="ja"||V==="en")&&(He(V),localStorage.setItem("reviewer.lastLang",V)),await xu(L.id),await fn()}}finally{_(null)}}async function Fe(v){await Kw(v),u===v&&f(null),await Ar()}async function Tl(v){await xu(v),await fn()}function Cs(v){q(L=>{const V=new Set(L);return V.has(v)?V.delete(v):V.add(v),V})}function _s(v){H(L=>{const V=new Set(L);return V.has(v)?V.delete(v):V.add(v),V})}function zt(){J(!1),q(new Set)}function or(){Ce(!1),H(new Set)}async function zi(){const v=Array.from(G);await $w(v),v.includes(u||"")&&f(null),zt(),await Ar()}async function lr(){const v=Array.from(ve);await Vw(v),or(),await fn()}async function Rl(){await Uw(),u&&f(null),zt(),await Ar()}async function Al(){await Hw(),or(),await fn()}return S.jsx("main",{className:"reader-area",children:S.jsx(Yg,{onDragEnd:ko,children:S.jsxs("div",{className:"reader-shell",children:[S.jsxs("section",{className:"panel reader-panel",children:[S.jsxs("details",{style:{marginBottom:12},children:[S.jsx("summary",{style:{cursor:"pointer",fontWeight:600},children:"Prompt (可編輯)"}),S.jsx("textarea",{value:Se,onChange:v=>ze(v.target.value),style:{width:"100%",minHeight:160,marginTop:8,fontFamily:"monospace",fontSize:12}}),dt&&S.jsxs("div",{className:"hint",style:{marginTop:4},children:["目前語言: ",dt]}),S.jsxs("div",{style:{marginTop:12,display:"flex",flexDirection:"column",gap:8},children:[S.jsxs("label",{style:{fontSize:12},children:["Gemini API Key",S.jsx("input",{type:"password",value:rr,placeholder:"輸入後會保存在本機",onChange:v=>vr(v.target.value.trim()),style:{width:"100%",marginTop:4}})]}),S.jsxs("label",{style:{fontSize:12},children:["Gemini 模型",S.jsxs("select",{value:ui,onChange:v=>Ri(v.target.value),style:{width:"100%",marginTop:4},children:[S.jsx("option",{value:"gemini-2.5-pro",children:"gemini-2.5-pro (精準/推理)"}),S.jsx("option",{value:"gemini-2.5-flash",children:"gemini-2.5-flash (速度/性價比)"}),S.jsx("option",{value:"gemini-2.5-flash-lite",children:"gemini-2.5-flash-lite (更低延遲與成本)"}),S.jsx("option",{value:"gemini-2.0-flash",children:"gemini-2.0-flash (穩定版 2.0 flash)"}),S.jsx("option",{value:"gemini-2.0-flash-lite",children:"gemini-2.0-flash-lite"}),S.jsx("option",{value:"gemini-2.0-flash-live-001",children:"gemini-2.0-flash-live-001 (Live / 可能非必要)"}),S.jsx("option",{value:"gemini-2.5-flash-preview-tts",children:"gemini-2.5-flash-preview-tts (TTS 預覽)"}),S.jsx("option",{value:"gemini-2.5-pro-preview-tts",children:"gemini-2.5-pro-preview-tts (TTS Pro)"}),S.jsx("option",{value:"gemini-1.5-flash",children:"gemini-1.5-flash (Deprecated)"}),S.jsx("option",{value:"gemini-1.5-flash-8b",children:"gemini-1.5-flash-8b (Deprecated)"}),S.jsx("option",{value:"gemini-1.5-pro",children:"gemini-1.5-pro (Deprecated)"})]})]}),!rr&&S.jsx("div",{className:"hint",style:{fontSize:11,color:"#dc2626"},children:"未填 API Key，會使用本地 mock 生成。"})]})]}),S.jsxs("details",{style:{marginBottom:12},children:[S.jsxs("summary",{style:{cursor:"pointer",fontWeight:600},children:["已保存文章 (",j?"載入中...":p.length,")"]}),S.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap",margin:"8px 0"},children:[!K&&S.jsx("button",{type:"button",disabled:!p.length,onClick:()=>J(!0),children:"選取刪除"}),K&&S.jsxs(S.Fragment,{children:[S.jsx("button",{type:"button",onClick:zt,children:"取消"}),S.jsxs("button",{type:"button",disabled:!G.size,onClick:zi,children:["刪除已選(",G.size,")"]}),S.jsx("button",{type:"button",onClick:()=>q(new Set(p.map(v=>v.id))),children:"全選"})]}),S.jsx("button",{type:"button",disabled:!p.length,onClick:Rl,children:"全部清除"})]}),p.length===0&&!j&&S.jsx("div",{className:"hint",style:{padding:"4px 0"},children:"尚無保存文章"}),S.jsx("ul",{style:{listStyle:"none",margin:8,padding:0,display:"flex",flexDirection:"column",gap:4,maxHeight:200,overflow:"auto"},children:p.map(v=>S.jsxs("li",{style:{display:"flex",alignItems:"center",gap:8,fontSize:13,background:K&&G.has(v.id)?"#fee2e2":"transparent",padding:"2px 4px",borderRadius:4},children:[K&&S.jsx("input",{type:"checkbox",checked:G.has(v.id),onChange:()=>Cs(v.id)}),S.jsx("button",{style:{padding:"4px 8px",background:"#fff",color:"#111",border:"1px solid var(--border)"},disabled:Y===v.id,onClick:()=>Nl(v.id),children:"載入"}),S.jsxs("span",{style:{flex:1,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[new Date(v.createdAt).toLocaleString()," · ",v.lang," · ",v.raw.slice(0,40).replace(/\n/g," "),v.raw.length>40?"…":""]}),!K&&S.jsx("button",{style:{background:"#dc2626"},onClick:()=>Fe(v.id),children:"刪除"})]},v.id))})]}),S.jsxs("details",{style:{marginBottom:12},children:[S.jsxs("summary",{style:{cursor:"pointer",fontWeight:600},children:["未讀的文章 (",F?"載入中...":C.length,")"]}),S.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap",margin:"8px 0"},children:[!ee&&S.jsx("button",{type:"button",disabled:!C.length,onClick:()=>Ce(!0),children:"選取刪除"}),ee&&S.jsxs(S.Fragment,{children:[S.jsx("button",{type:"button",onClick:or,children:"取消"}),S.jsxs("button",{type:"button",disabled:!ve.size,onClick:lr,children:["刪除已選(",ve.size,")"]}),S.jsx("button",{type:"button",onClick:()=>H(new Set(C.map(v=>v.id))),children:"全選"})]}),S.jsx("button",{type:"button",disabled:!C.length,onClick:Al,children:"全部清除"})]}),C.length===0&&!F&&S.jsx("div",{className:"hint",style:{padding:"4px 0"},children:"尚無未讀文章"}),C.length>0&&S.jsx("div",{style:{display:"flex",gap:16,flexWrap:"wrap"},children:["ja","en"].map(v=>{const L=C.filter(V=>V.lang===v);return S.jsxs("div",{style:{flex:"1 1 280px",minWidth:260},children:[S.jsxs("h4",{style:{margin:"4px 0 4px",fontSize:13},children:[v==="ja"?"日文未讀":"英文未讀"," (",L.length,")"]}),S.jsxs("ul",{style:{listStyle:"none",margin:4,padding:0,display:"flex",flexDirection:"column",gap:4,maxHeight:200,overflow:"auto",border:"1px solid var(--border)",borderRadius:4,paddingTop:4},children:[L.map(V=>S.jsxs("li",{style:{display:"flex",alignItems:"center",gap:8,fontSize:12,background:ee&&ve.has(V.id)?"#e0f2fe":"transparent",padding:"2px 6px",borderRadius:4},children:[ee&&S.jsx("input",{type:"checkbox",checked:ve.has(V.id),onChange:()=>_s(V.id)}),S.jsx("button",{style:{padding:"2px 6px",background:"#fff",color:"#111",border:"1px solid var(--border)"},disabled:y===V.id,onClick:()=>ks(V.id),children:"載入"}),S.jsxs("span",{style:{flex:1,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[new Date(V.createdAt).toLocaleString()," · ",V.raw.slice(0,34).replace(/\n/g," "),V.raw.length>34?"…":""]}),!ee&&S.jsx("button",{style:{background:"#dc2626"},onClick:()=>Tl(V.id),children:"刪除"})]},V.id)),!L.length&&S.jsx("li",{className:"hint",style:{fontSize:11,color:"var(--muted)",padding:"2px 6px"},children:"無"})]})]},v)})})]}),S.jsx("h2",{style:{marginBottom:4},children:"AI 文章閱讀"}),S.jsxs("div",{className:"legend hint",style:{marginBottom:12},children:["顏色：",Vr.box1,"=紅、",Vr.box2,"=橙、",Vr.box3,"=綠"]}),S.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap",marginBottom:12},children:[S.jsx("button",{type:"button",onClick:()=>Ae("ja"),children:"假生成（日文）"}),S.jsx("button",{type:"button",onClick:()=>Ae("en"),children:"假生成（英文）"}),S.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4,fontSize:12},children:["語言",S.jsxs("select",{value:At,onChange:v=>Pi(v.target.value),style:{padding:"2px 4px"},children:[S.jsx("option",{value:"ja",children:"日文"}),S.jsx("option",{value:"en",children:"英文"})]})]}),S.jsxs("label",{style:{fontSize:12},children:["批次",S.jsx("input",{type:"number",min:1,max:10,value:wn,onChange:v=>Fn(Math.min(10,Math.max(1,Number(v.target.value)||1))),style:{width:60,marginLeft:4}})]}),S.jsx("button",{type:"button",disabled:we||xn||!!Dt&&Date.now()<Dt,onClick:Ai,children:we?"生成中...":"生成 1 篇"}),S.jsx("button",{type:"button",disabled:we||xn||!!Dt&&Date.now()<Dt,onClick:Il,children:xn?"批次進行中":`批次生成(${wn})`}),xn&&S.jsx("button",{type:"button",onClick:()=>{Ot.current=!0,pt("取消中"),li()},style:{background:"#dc2626"},children:"取消"}),S.jsx("button",{type:"button",disabled:!n||o,onClick:Pl,children:o?"保存中...":"保存文章"}),u&&S.jsx("span",{className:"hint",children:"已保存"}),oi&&S.jsx("span",{className:"hint",style:{minWidth:60},children:oi}),Gt&&S.jsxs("span",{className:"hint",style:{color:"#dc2626"},children:["錯誤: ",Gt]}),Dt&&Date.now()<Dt&&S.jsxs("span",{className:"hint",style:{color:"#f59e0b"},children:["冷卻 ",Math.ceil((Dt-Date.now())/1e3),"s"]})]}),(we||xn||It||Or&&Date.now()<Or)&&S.jsxs("div",{style:{width:"100%",marginBottom:12},children:[S.jsx("div",{style:{position:"relative",height:6,background:"#eee",borderRadius:4,overflow:"hidden"},children:S.jsx("div",{style:{position:"absolute",left:0,top:0,bottom:0,width:xn||It?`${$t/Math.max(wn,1)*100}%`:"100%",background:It?"#f59e0b":"#3b82f6",transition:"width .3s"}})}),(xn||It)&&S.jsxs("div",{style:{fontSize:11,marginTop:4},children:["進度 ",$t,"/",wn," ",It&&"(冷卻暫停中)"]})]}),cn.length>0&&S.jsxs("details",{style:{marginBottom:12},open:!0,children:[S.jsxs("summary",{style:{fontSize:12,cursor:"pointer"},children:["批次錯誤 (",cn.length,")"]}),S.jsx("ul",{style:{margin:4,paddingLeft:18,fontSize:11,color:"#dc2626"},children:cn.map((v,L)=>S.jsx("li",{children:v},L))})]}),S.jsxs("div",{className:"hint",style:{display:"flex",flexWrap:"wrap",gap:8,fontSize:12,marginBottom:12},children:[S.jsxs("label",{children:["總數 ",S.jsx("input",{type:"number",value:xe,min:1,style:{width:60},onChange:v=>Ue(Number(v.target.value)||1)})]}),S.jsxs("label",{children:["box1 ",S.jsx("input",{type:"number",value:be,placeholder:"4",style:{width:50},onChange:v=>Pe(v.target.value===""?"":Number(v.target.value))})]}),S.jsxs("label",{children:["box2 ",S.jsx("input",{type:"number",value:X,placeholder:"4",style:{width:50},onChange:v=>ue(v.target.value===""?"":Number(v.target.value))})]}),S.jsxs("label",{children:["box3 ",S.jsx("input",{type:"number",value:fe,placeholder:"2",style:{width:50},onChange:v=>_e(v.target.value===""?"":Number(v.target.value))})]}),S.jsxs("label",{children:["句數 ",S.jsx("input",{type:"number",value:Re,min:1,style:{width:50},onChange:v=>St(Number(v.target.value)||1)})]}),S.jsxs("label",{children:["風格",S.jsxs("select",{value:Ve,onChange:v=>ae(v.target.value),style:{width:140},children:[S.jsx("option",{value:"explanatory",children:"說明"}),S.jsx("option",{value:"story",children:"故事"}),S.jsx("option",{value:"dialogue",children:"對話"}),S.jsx("option",{value:"news-like",children:"新聞風"}),S.jsx("option",{value:"jlpt",children:"日檢 (JLPT)"}),S.jsx("option",{value:"toeic",children:"多益 (TOEIC)"}),S.jsx("option",{value:"toefl",children:"托福 (TOEFL)"})]})]}),S.jsxs("label",{children:["MaxLen ",S.jsx("input",{type:"number",value:Ne,min:100,style:{width:70},onChange:v=>Be(Number(v.target.value)||500)})]})]}),S.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap",marginBottom:12},children:[S.jsx("button",{type:"button",onClick:Ol,disabled:!C.some(v=>v.lang===nt),children:"重新整理並導入一篇新文章"}),S.jsx("label",{style:{display:"flex",alignItems:"center",gap:4,fontSize:12},children:S.jsxs("select",{value:nt,onChange:v=>{const L=v.target.value==="en"?"en":"ja";mr(L),localStorage.setItem("reviewer.loadLang",L)},children:[S.jsx("option",{value:"ja",children:"日文"}),S.jsx("option",{value:"en",children:"英文"})]})}),S.jsx("button",{type:"button",disabled:!n,onClick:Li,children:"返回未讀"})]}),Ee&&S.jsxs("details",{className:"hint",style:{marginBottom:12},children:[S.jsx("summary",{style:{cursor:"pointer"},children:"抽樣細節"}),S.jsx("pre",{style:{whiteSpace:"pre-wrap",fontSize:11,lineHeight:1.4},children:Ee})]}),n?S.jsx("div",{className:"article",onClick:Mi,dangerouslySetInnerHTML:{__html:yr}}):S.jsx("div",{className:"article empty",children:"尚未載入文章。請在未來的「生成」功能產生內容或在 console 使用 setArticle('...') 注入測試。"}),Cn.length>0&&S.jsxs("div",{style:{marginTop:24},children:[S.jsxs("h3",{style:{margin:"0 0 8px",fontSize:15},children:["本篇使用詞彙（",(dt||Un(n))==="ja"?"日文":"英文","）"]}),S.jsx("div",{style:{display:"grid",gap:12,gridTemplateColumns:"repeat(auto-fit,minmax(220px,1fr))"},children:["box1","box2","box3"].map(v=>S.jsxs("div",{className:`panel zone-mini zone-${v}`,style:{minHeight:120},children:[S.jsx("div",{className:"zone-head",style:{marginBottom:4},children:S.jsx("h2",{style:{fontSize:14,margin:0},children:Vr[v]})}),S.jsx(Fo,{items:ir[v].map(L=>L.id),strategy:Bo,children:S.jsxs("ul",{className:"list",style:{maxHeight:160},children:[ir[v].map(L=>S.jsx(Ko,{block:L},L.id)),!ir[v].length&&S.jsx("li",{className:"hint",style:{fontSize:12,color:"var(--muted)"},children:"無"})]})})]},v))})]})]}),S.jsx("aside",{className:"panel reader-side-bag",children:(()=>{const v=()=>{const{setNodeRef:L,isOver:V}=bf({id:"magic-bag-drop"});return S.jsxs("div",{id:"magic-bag-drop",ref:L,className:V?"drag-over":"",style:{marginTop:8,minHeight:140,border:"2px dashed var(--border)",borderRadius:8,padding:6,background:"#fff",display:"flex",flexDirection:"column",gap:6},children:[he.length===0&&S.jsx("div",{className:"hint",style:{textAlign:"center",marginTop:36},children:"拖入詞彙"}),he.filter(Q=>ot==="all"?!0:Q.lang===ot).sort((Q,ce)=>{const ye=Ie=>Ie.box==="box1"?0:Ie.box==="box2"?1:2;switch(Ze){case"newest":return ce.addedAt-Q.addedAt;case"oldest":return Q.addedAt-ce.addedAt;case"hardToEasy":{const Ie=ye(Q)-ye(ce);return Ie!==0?Ie:ce.addedAt-Q.addedAt}case"easyToHard":{const Ie=ye(ce)-ye(Q);return Ie!==0?Ie:ce.addedAt-Q.addedAt}default:return ce.addedAt-Q.addedAt}}).map(Q=>{const ce=Ge.has(Q.id);return S.jsxs("div",{onClick:()=>{Xe&&Ut(Q.id)},style:{border:"1px solid var(--border)",borderLeft:`6px solid ${mp[Q.box]||"#999"}`,borderRadius:6,padding:"4px 6px 4px 6px",background:ce?"#e0f2fe":le===Q.id?"#fef3c7":"#f8fafc",display:"flex",alignItems:"center",gap:6,cursor:Xe?"pointer":"default",fontWeight:le===Q.id?700:void 0,boxShadow:le===Q.id?"0 0 0 2px #fbbf24 inset":void 0,transition:"background .3s, box-shadow .3s"},children:[Xe&&S.jsx("input",{type:"checkbox",checked:ce,onChange:()=>Ut(Q.id),style:{margin:0}}),S.jsx("span",{style:{fontSize:12,flex:1,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:Q.text}),Q.copied&&S.jsx("span",{title:"已複製","aria-label":"已複製",style:{width:16,height:16,display:"flex",alignItems:"center",justifyContent:"center",color:"#16a34a",fontSize:12,fontWeight:700},children:"✓"}),Q.lang==="ja"?S.jsx("span",{style:{width:22,height:22,clipPath:"polygon(50% 0,100% 100%,0 100%)",background:"#fde68a",color:"#111",fontSize:11,fontWeight:700,display:"flex",alignItems:"center",justifyContent:"center",lineHeight:1},children:"日"}):S.jsx("span",{style:{width:22,height:22,background:"#bfdbfe",borderRadius:4,color:"#111",fontSize:11,fontWeight:700,display:"flex",alignItems:"center",justifyContent:"center",lineHeight:1},children:"英"}),!Xe&&S.jsx("button",{style:{background:"#aaa",padding:"2px 4px"},onClick:()=>gr(Q.id),children:"x"})]},Q.id)})]})};return S.jsxs(S.Fragment,{children:[S.jsxs("div",{style:{marginTop:0,display:"flex",flexDirection:"column",gap:4},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:8},children:[S.jsx("h2",{style:{fontSize:16,margin:0},children:"Magic Bag"}),S.jsxs("div",{style:{display:"flex",gap:6,alignItems:"center",flexWrap:"wrap"},children:[S.jsxs("select",{value:ot,onChange:L=>{const V=L.target.value==="ja"?"ja":L.target.value==="en"?"en":"all";Lt(V),Mt(Q=>new Set([...Q].filter(ce=>{const ye=he.find(Ie=>Ie.id===ce);return ye?V==="all"||ye.lang===V:!1})))},style:{fontSize:11,padding:"2px 4px"},children:[S.jsx("option",{value:"all",children:"全部"}),S.jsx("option",{value:"ja",children:"日文"}),S.jsx("option",{value:"en",children:"英文"})]}),S.jsxs("select",{value:Ze,onChange:L=>tn(L.target.value),style:{fontSize:11,padding:"2px 4px"},children:[S.jsx("option",{value:"newest",children:"新→舊"}),S.jsx("option",{value:"oldest",children:"舊→新"}),S.jsx("option",{value:"hardToEasy",children:"沒印象→熟悉"}),S.jsx("option",{value:"easyToHard",children:"熟悉→沒印象"})]}),S.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4,fontSize:11},children:[S.jsx("input",{type:"checkbox",checked:lt,onChange:L=>en(L.target.checked)}),"包含已複製"]})]})]}),S.jsxs("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:[!Xe&&S.jsxs(S.Fragment,{children:[he.length>0&&S.jsx("button",{style:{background:"#2563eb",padding:"4px 6px"},onClick:er,children:"複製全部"}),he.length>0&&S.jsx("button",{style:{background:"#f59e0b",padding:"4px 6px"},onClick:nr,children:"複製並加入prompt"}),he.length>0&&S.jsx("button",{style:{background:"#6366f1",padding:"4px 6px"},onClick:()=>wt(!0),children:"選取"}),he.length>0&&S.jsx("button",{style:{background:"#dc2626",padding:"4px 6px"},onClick:Pn,children:"清空"})]}),Xe&&S.jsxs(S.Fragment,{children:[S.jsxs("button",{style:{background:"#334155",padding:"4px 6px"},onClick:()=>{Tr()},children:["複製已選(",Ge.size,")"]}),S.jsxs("button",{style:{background:"#dc2626",padding:"4px 6px"},disabled:!Ge.size,onClick:tr,children:["刪除已選(",Ge.size,")"]}),S.jsx("button",{style:{background:"#0d9488",padding:"4px 6px"},onClick:Ni,children:"全選"}),S.jsx("button",{style:{background:"#aaa",padding:"4px 6px"},onClick:kn,children:"取消"})]})]})]}),S.jsx("div",{className:"hint",style:{marginTop:4,fontSize:11},children:"拖入下方區域即可複製；未來也會支援點擊文章底線詞加入。"}),bn&&S.jsx("div",{className:"hint",style:{marginTop:4,fontSize:12,fontWeight:700,color:"#b91c1c",background:"#fee2e2",padding:"4px 6px",borderRadius:4,border:"1px solid #fecaca"},children:bn}),S.jsx(v,{})]})})()})]})})})}const vp=["stash","box1","box2","box3","trash"],Vr={stash:"暫存",box1:"沒印象",box2:"不熟",box3:"熟悉",trash:"回收"};function Gw(){const[e,t]=I.useState(""),[n,r]=I.useState("auto"),[o,a]=I.useState("board"),[u,f]=I.useState([]),[p,g]=I.useState({}),[C,x]=I.useState(!1),[j,z]=I.useState(new Set);I.useEffect(()=>{(async()=>{if(await We.items.count()===0)try{const Z=localStorage.getItem("reviewer.blocks.v1");if(Z){const xe=JSON.parse(Z);Array.isArray(xe)&&xe.length&&await fp(xe),localStorage.removeItem("reviewer.blocks.v1")}}catch{}const pe=await Aw();f([...pe.stash,...pe.box1,...pe.box2,...pe.box3,...pe.trash])})()},[]);const F=I.useMemo(()=>{const H={stash:[],box1:[],box2:[],box3:[],trash:[]};for(const pe of u)H[pe.box].push(pe);for(const pe of vp)H[pe].sort((Z,xe)=>Z.position-xe.position);return H},[u]);function $(){if(!e.trim())return;const H=F.stash.length,pe=jw(e,n).map((Z,xe)=>({...Z,position:H+xe}));f(Z=>[...Z,...pe]),fp(pe),t("")}function Y(H){var ue,fe;const pe=String(H.active.id),Z=(fe=(ue=H.over)==null?void 0:ue.id)==null?void 0:fe.toString();if(!Z)return;const xe=u.find(_e=>_e.id===pe);if(!xe)return;const Ue=Z.match(/^(box[123])-(ja|en)$/),be=vp.includes(Z);if(Ue||be){const _e=Ue?Ue[1]:Z,Ee=Ue?Ue[2]:void 0;if(Ee&&xe.lang!==Ee||xe.box===_e)return;f(ke=>{const Se=[...ke],ze=Se.findIndex(Ve=>Ve.id===pe);if(ze>=0){const Ve=Se.filter(Ne=>Ne.box===_e).length,ae={...Se[ze],box:_e,position:Ve};Se[ze]=ae,dn(ae)}const Re=xe.box;return Se.filter(Ve=>Ve.box===Re).sort((Ve,ae)=>Ve.position-ae.position).forEach((Ve,ae)=>{Ve.position!==ae&&(Ve.position=ae,dn(Ve))}),Se});return}const Pe=u.find(_e=>_e.id===Z);if(!Pe)return;const X=Pe.box;f(_e=>{const Ee=Be=>_e.filter(we=>we.box===Be).sort((we,yt)=>we.position-yt.position),ke=xe.box,Se=Ee(ke).filter(Be=>Be.id!==pe),ze=Ee(X);if(ke===X){const Be=ze.findIndex(He=>He.id===pe),we=ze.findIndex(He=>He.id===Z);if(Be<0||we<0||Be===we)return _e;const yt=kf(ze,Be,we).map((He,At)=>({...He,position:At})),dt=_e.filter(He=>He.box!==X);return yt.forEach(He=>void dn(He)),[...dt,...yt]}const Re=ze.findIndex(Be=>Be.id===Z),St={...xe,box:X},Ve=[...ze.slice(0,Re),St,...ze.slice(Re)].map((Be,we)=>({...Be,position:we})),ae=Se.map((Be,we)=>({...Be,position:we})),Ne=_e.filter(Be=>Be.box!==ke&&Be.box!==X);return Ve.forEach(Be=>void dn(Be)),ae.forEach(Be=>void dn(Be)),[...Ne,...ae,...Ve]})}function k(H,pe,Z){const xe=!!(Z!=null&&Z.prepend);f(Ue=>{const be=[...Ue],Pe=be.findIndex(ke=>ke.id===H);if(Pe<0)return Ue;const X=be[Pe],ue=X.box,fe=ue===pe;if(fe&&!xe)return Ue;const _e=be.filter(ke=>ke.box===pe&&ke.id!==H).sort((ke,Se)=>ke.position-Se.position);if(xe){_e.forEach(Se=>{Se.position=Se.position+1,dn(Se)});const ke={...X,box:pe,position:0};be[Pe]=ke,dn(ke)}else{const ke=_e.length,Se={...X,box:pe,position:ke};be[Pe]=Se,dn(Se)}return(!fe||fe&&xe)&&be.filter(Se=>Se.box===ue&&Se.id!==H).sort((Se,ze)=>Se.position-ze.position).forEach((Se,ze)=>{Se.position!==ze&&(Se.position=ze,dn(Se))}),be.filter(ke=>ke.box===pe).sort((ke,Se)=>ke.position-Se.position).forEach((ke,Se)=>{ke.position!==Se&&(ke.position=Se,dn(ke))}),be})}function y(){const H=new Blob([JSON.stringify(u,null,2)],{type:"application/json"}),pe=URL.createObjectURL(H),Z=document.createElement("a");Z.href=pe,Z.download="reviewer-export.json",Z.click(),URL.revokeObjectURL(pe)}function _(H){var Z;const pe=(Z=H.target.files)==null?void 0:Z[0];pe&&pe.text().then(xe=>{try{const Ue=JSON.parse(xe);if(!Array.isArray(Ue))throw new Error("格式錯誤");f(Ue)}catch(Ue){alert("匯入失敗: "+Ue.message)}finally{H.target.value=""}})}function K(){confirm("確定清空所有資料？")&&(f([]),Mw())}function J(H){z(pe=>{const Z=new Set(pe);return Z.has(H)?Z.delete(H):Z.add(H),Z})}function G(){x(!0),z(new Set)}function q(){x(!1),z(new Set)}function ee(){F.trash.length&&confirm("刪除回收桶所有項目？(無法復原)")&&(f(H=>H.filter(pe=>pe.box!=="trash")),F.trash.forEach(H=>{We.items.delete(H.id)}),q())}function Ce(H){const pe=H&&H.length?H:F.trash.map(Z=>Z.id);pe.length&&(f(Z=>{const xe=[...Z],Ue=F.box1.length;let be=0;for(const X of pe){const ue=xe.findIndex(fe=>fe.id===X&&fe.box==="trash");if(ue>=0){const fe={...xe[ue],box:"box1",position:Ue+be++};xe[ue]=fe,dn(fe)}}return xe.filter(X=>X.box==="trash").sort((X,ue)=>X.position-ue.position).forEach((X,ue)=>{X.position!==ue&&(X.position=ue,dn(X))}),xe}),q())}function ve(){f(H=>{let Z=H.filter(be=>be.box==="box1").sort((be,Pe)=>be.position-Pe.position).length;const xe=H.map(be=>{if(be.box==="stash"&&(be.lang==="ja"||be.lang==="en")){const Pe={...be,box:"box1",position:Z++};return dn(Pe),Pe}return be});return xe.filter(be=>be.box==="stash").sort((be,Pe)=>be.position-Pe.position).forEach((be,Pe)=>{be.position!==Pe&&(be.position=Pe,dn(be))}),xe})}return S.jsxs("div",{children:[S.jsxs("header",{className:"topbar",children:[S.jsx("h1",{children:"Reviewer"}),S.jsxs("div",{className:"actions",children:[S.jsx("button",{className:o==="board"?"active":"",onClick:()=>a("board"),children:"編輯"}),S.jsx("button",{className:o==="reader"?"active":"",onClick:()=>a("reader"),children:"閱讀高亮"}),S.jsx("button",{onClick:y,children:"匯出 JSON"}),S.jsxs("label",{className:"import",children:["匯入 JSON ",S.jsx("input",{type:"file",accept:"application/json",onChange:_,hidden:!0})]}),S.jsx("button",{onClick:K,children:"清空"})]})]}),o==="board"?S.jsxs("main",{className:"grid board-grid",children:[S.jsxs("section",{className:"panel input-panel",children:[S.jsx("h2",{children:"貼上文字 → 轉成 Blocks"}),S.jsx("textarea",{value:e,onChange:H=>t(H.target.value),placeholder:"每行或空行切分。",id:"paste"}),S.jsxs("div",{className:"row",style:{display:"flex",gap:8,alignItems:"center",flexWrap:"wrap"},children:[S.jsx("button",{onClick:$,children:"切成 Blocks"}),S.jsx("label",{style:{fontSize:12,color:"#555"},children:"切分模式："}),S.jsxs("select",{value:n,onChange:H=>r(H.target.value),children:[S.jsx("option",{value:"auto",children:"自動"}),S.jsx("option",{value:"line",children:"按行"}),S.jsx("option",{value:"sentence",children:"按句（。.!?）"}),S.jsx("option",{value:"separator",children:"按分隔符（、，,；;/| 或空白）"})]})]}),S.jsx("p",{className:"hint",children:"右側：上排 日本語 (日)；下排 English (英)。可搜尋、拖動。同一難度 Box 兩行共享資料。"})]}),S.jsxs(Yg,{onDragEnd:Y,children:[S.jsx(Fo,{items:F.stash.filter(H=>!p.stash||H.text.includes(p.stash)).map(H=>H.id),strategy:Bo,children:S.jsx(pa,{id:"stash",title:Vr.stash,colorClass:"zone-stash",showSearch:!0,search:p.stash||"",onSearchChange:H=>g(pe=>({...pe,stash:H})),actions:S.jsx("button",{type:"button",onClick:ve,style:{background:"#6366f1"},children:"自動導入"}),children:F.stash.filter(H=>!p.stash||H.text.includes(p.stash)).map(H=>S.jsx(Ko,{block:H},H.id))})}),S.jsx(Fo,{items:F.trash.filter(H=>!p.trash||H.text.includes(p.trash)).map(H=>H.id),strategy:Bo,children:S.jsx(pa,{id:"trash",title:Vr.trash,colorClass:"zone-trash",showSearch:!0,search:p.trash||"",onSearchChange:H=>g(pe=>({...pe,trash:H})),actions:S.jsxs("div",{style:{display:"flex",gap:4},children:[S.jsx("button",{type:"button",onClick:()=>Ce(),children:"回復"}),S.jsx("button",{type:"button",onClick:ee,style:{background:"#dc2626",color:"#fff"},children:"刪除"}),!C&&S.jsx("button",{type:"button",onClick:G,children:"選取"}),C&&S.jsxs(S.Fragment,{children:[S.jsx("button",{type:"button",onClick:()=>Ce(Array.from(j)),disabled:!j.size,children:"回復已選"}),S.jsx("button",{type:"button",onClick:q,children:"取消"})]})]}),children:F.trash.filter(H=>!p.trash||H.text.includes(p.trash)).map(H=>S.jsx(Ko,{block:H,selectable:C,selected:j.has(H.id),onToggleSelect:J},H.id))})}),["box1","box2","box3"].map(H=>{const pe=F[H].filter(Z=>Z.lang==="ja").filter(Z=>!p[H]||Z.text.includes(p[H]));return S.jsx(Fo,{items:pe.map(Z=>Z.id),strategy:Bo,children:S.jsx(pa,{id:`${H}-ja`,title:`${Vr[H]} (日)`,colorClass:`zone-${H} zone-${H}-ja`,showSearch:!0,search:p[H]||"",onSearchChange:Z=>g(xe=>({...xe,[H]:Z})),children:pe.map(Z=>S.jsx(Ko,{block:Z},Z.id))})},H+"-ja")}),["box1","box2","box3"].map(H=>{const pe=F[H].filter(Z=>Z.lang==="en").filter(Z=>!p[H]||Z.text.includes(p[H]));return S.jsx(Fo,{items:pe.map(Z=>Z.id),strategy:Bo,children:S.jsx(pa,{id:`${H}-en`,title:`${Vr[H]} (英)`,colorClass:`zone-${H} zone-${H}-en`,showSearch:!0,search:p[H]||"",onSearchChange:Z=>g(xe=>({...xe,[H]:Z})),children:pe.map(Z=>S.jsx(Ko,{block:Z},Z.id))})},H+"-en")})]})]}):S.jsx(Xw,{blocks:u,moveBlockToBox:k})]})}const tm="reviewer.magicBag.v1",nm=["reviewer.reader.config.v1","reviewer.magicBag.filter","reviewer.magicBag.order","reviewer.magicBag.includeCopied","reviewer.lastLang","reviewer.loadLang","reviewer.gemini.model","reviewer.gemini.apiKey"],rm=["reviewer.gen.history","reviewer.batch.v1","reviewer.currentArticle.v1"];let yp=!1;function Jw(){if(!yp){yp=!0,Zw().catch(()=>{});try{const e=localStorage.setItem.bind(localStorage);localStorage.setItem=function(n,r){e(n,r),ja(n,r).catch(()=>{})};const t=localStorage.removeItem.bind(localStorage);localStorage.removeItem=function(n){t(n),ja(n,null).catch(()=>{})}}catch{}window.addEventListener("storage",e=>{e.key&&ja(e.key,e.newValue).catch(()=>{})})}}async function Zw(){for(const e of[tm,...nm,...rm]){const t=localStorage.getItem(e);await ja(e,t)}}async function ja(e,t){try{if(e===tm){if(!t){await We.magicItems.clear();return}const n=JSON.parse(t);Array.isArray(n)&&(await We.magicItems.clear(),await Tw(n));return}if(nm.includes(e)){const n={};switch(e){case"reviewer.reader.config.v1":if(t)try{n.readerConfig=JSON.parse(t)}catch{}break;case"reviewer.magicBag.filter":n.magicFilter=t||"all";break;case"reviewer.magicBag.order":n.magicOrder=t||"newest";break;case"reviewer.magicBag.includeCopied":n.magicIncludeCopied=t||"1";break;case"reviewer.lastLang":n.lastLang=t;break;case"reviewer.loadLang":n.loadLang=t;break;case"reviewer.gemini.model":n.geminiModel=t;break;case"reviewer.gemini.apiKey":n.geminiApiKey=t;break}Object.keys(n).length&&await Nw(n);return}rm.includes(e)&&await Rw(e,t||"")}catch{}}Ow().finally(()=>{Jw(),Su.createRoot(document.getElementById("root")).render(S.jsx(ln.StrictMode,{children:S.jsx(Gw,{})}))});
